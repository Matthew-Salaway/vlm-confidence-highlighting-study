<!DOCTYPE html>
<html lang='en'>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="Cache-control" content="public">
    <title>AI Confidence</title>
    <link rel="shortcut icon" href="#" />

    <script src="https://code.jquery.com/jquery-3.6.4.min.js"
        integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8=" crossorigin="anonymous"></script>

    <link rel="stylesheet" href='https://fonts.googleapis.com/css?family=Roboto&display=swap'>
    <link rel="stylesheet" href="style.css?r=4">
</head>

<body style='text-align: center; margin-top: 30px; margin-bottom: 20px;'>
    <h2 style="margin-left: auto; margin-right: auto;">Do You Think My Transcription Is Correct?</h2>

    <div style="text-align: left; width: 800px; margin-left: auto; margin-right: auto; margin-top: 30px">

        <div id="instructions_and_decorations">
            <div style="margin-top: 30px;  text-align: justify;">
                <ul>
                    <li style="margin: 10px 0;"> Uncertainty highlighting is on if "Predicted Text" is highlighted.</li>
                    <!-- <li style="margin: 10px 0;">If your decision is correct, you gain a reward of $0.10. You will see your total reward at the end of the experiment. Your payment is $2.0 plus whatever you accumulate during this experiment.</li>
                    <li style="margin: 10px 0;">To help you make your decision, you will see the AI's answer, along with an explanation, and some information about how reliable the explanation is. After getting each piece of additional information, you will be asked whether you think the AI is correct or not.</li> -->
                </ul>

            </div>

            <br>
            <div style="text-align: right; height: 20px; margin-bottom: 15px; margin-top: 40px;">
                <div id="progress" style="float: left;">(-/-)</div>
                <div id="timer" style="width: 100px; float: right; display: none; font-size: 1.3em;">20</div>
            </div>            
        </div>

        
        <div class="main_box" id="main_box_end" style="display: none">
            Thank you for participation in our study.
            <div id="reward_box" style="display: none">
                Your total reward is $3.00.
            </div>
            Please navigate <a href="https://app.prolific.com/submissions/complete?cc=C18F0V8M"
                style="color: black; font-weight: bold;">to Prolific</a> or with the code <b>C18F0V8M</b>.
        </div>

        <div class="main_box" id="main_box_end_mock" style="display: none">
            Thank you for testing out our study.
            <div id="reward_box_mock" style="display: none">
                Your total reward is $3.00.
            </div>
        </div>

        <div class="main_box" id="main_box_instructions" style="display: none">
            <input id="button_instructions_prev" type="button" value="Previous">
            <input id="button_instructions_next" type="button" value="Next" style="margin-bottom: 10px">

            <div id="instructions_0">Welcome to our user study. In this experiment, you will be reviewing and correcting latex equations generated by an AI from handwritten math images. Your task is to carefully evaluate the AI’s transcription and fix any errors if they exist. The survey consists of three parts:
                <!-- List 1. 2. 3. -->
                <ol>
                    <li style="margin-top: 10px;">Three Pre Survey Questions</li>
                    <li style="margin-top: 10px;">Survey</li>
                    <li style="margin-top: 10px;">Three Post Survey Questions</li>
                  </ol>
                  
                <br><br>
                <br><br>
                <b>Disclosure: </b> This is a research study. Results and data will <b>not</b> be used to train AI models. Keystrokes on the input box will be recorded for research purposes. 

            </div>
            <div id="instructions_1">
                <ul>
                    <li>You will first be shown the handwritten math image and the AI’s predicted transcription. Some transcriptions will include uncertainty highlighting, where parts of the text highlighted in red show where the model is less confident. If the AI is 100% sure of a section, it will appear without red highlighting.</li>
                    <br>
                    <li>You can tell if uncertainty highlighting is present by looking at the "Predicted Text." If it is highlighted, then uncertainty highlighting is present.</li>
                </ul>
                <br>
                <div style="display: flex; justify-content: center; align-items: flex-start;">
                    <div style="text-align: center; margin: 0 10px;">
                      <b>Example: Uncertainty Highlighting</b><br>
                      <img src="img/highlighting.png" style="height: 140px;">
                    </div>
                    <div style="text-align: center; margin: 0 10px;">
                      <b>Example: No Uncertainty Highlighting</b><br>
                      <img src="img/no_highlighting.png" style="height: 140px;">
                    </div>
                  </div>            
                </div>
            <div id="instructions_2">
                On the same page as the image and predicted text, there will be a text input box that is prefilled with the AI’s answer along with a visible countdown timer set to 20 seconds. Your task is to review the transcription and make any necessary corrections using the input box, before the timer runs out. 
                <br><br>
                <img src="img/question.png" style="display: block; margin-left: auto; margin-right: auto; height: 400px;">
            </div>
            <div id="instructions_3">
                Confidence Rating: After each question you will be asked to rate your confidence that the transcription is correct by selecting a number from 1 (not confident) to 5 (very confident). A choice is required to move on.
                <br><br>
                <img src="img/rating.png" style="display: block; margin-left: auto; margin-right: auto; height: 220px;">
            </div>
            <div id="instructions_4" style="margin-left: 10px; margin-bottom: 20px;">
                <h3>Pre-Survey Questionnaire</h3>
                
                <!-- Question 1 -->
                <div class="pre-survey-question">
                  <p>1. How long have you been using LaTeX?</p>
                  <input type="radio" name="latexExperience" value="< 1 year" id="latex_exp1">
                  <label for="latex_exp1">&lt; 1 year</label><br>
                  <input type="radio" name="latexExperience" value="1–2 years" id="latex_exp2">
                  <label for="latex_exp2">1–2 years</label><br>
                  <input type="radio" name="latexExperience" value="3–5 years" id="latex_exp3">
                  <label for="latex_exp3">3–5 years</label><br>
                  <input type="radio" name="latexExperience" value="More than 5 years" id="latex_exp4">
                  <label for="latex_exp4">More than 5 years</label>
                </div>
                
                <!-- Question 2 -->
                <div class="pre-survey-question">
                  <p>2. As of now, how frequently do you use LaTeX?</p>
                  <input type="radio" name="latexFrequency" value="Daily" id="latex_freq1">
                  <label for="latex_freq1">Daily</label><br>
                  <input type="radio" name="latexFrequency" value="Twice a week" id="latex_freq2">
                  <label for="latex_freq2">Twice a week</label><br>
                  <input type="radio" name="latexFrequency" value="Once a week" id="latex_freq3">
                  <label for="latex_freq3">Once a week</label><br>
                  <input type="radio" name="latexFrequency" value="Monthly" id="latex_freq4">
                  <label for="latex_freq4">Monthly</label><br>
                  <input type="radio" name="latexFrequency" value="When needed" id="latex_freq5">
                  <label for="latex_freq5">When needed</label><br>
                  <input type="radio" name="latexFrequency" value="Never" id="latex_freq6">
                  <label for="latex_freq6">Never</label>
                </div>
                
                <!-- Question 3 -->
                <div class="pre-survey-question">
                  <p>3. How often do you use AI-powered chatbots (e.g., ChatGPT, Gemini)?</p>
                  <input type="radio" name="chatbotFrequency" value="Daily" id="chatbot_freq1">
                  <label for="chatbot_freq1">Daily</label><br>
                  <input type="radio" name="chatbotFrequency" value="Twice a week" id="chatbot_freq2">
                  <label for="chatbot_freq2">Twice a week</label><br>
                  <input type="radio" name="chatbotFrequency" value="Weekly" id="chatbot_freq3">
                  <label for="chatbot_freq3">Weekly</label><br>
                  <input type="radio" name="chatbotFrequency" value="When needed" id="chatbot_freq4">
                  <label for="chatbot_freq4">When needed</label><br>
                  <input type="radio" name="chatbotFrequency" value="Never" id="chatbot_freq5">
                  <label for="chatbot_freq5">Never</label>
                </div>
                
              </div>              
            <div id="instructions_5">
                 <!-- For this annotation experiment we are looking
                at trivia and math questions. Note that the system performance may differ across question types. -->
                The experiment will have you check/fix 20 questions in total.
                <br><br>
                <span class='color_incorrect'><b>You are not permitted to leave this tab</b></span> for the duration of the experiment. This will be monitored and violation of this can result in your submission being rejected.
                <br><br>
                The average time of the experiment is 10-15 minutes.
                <br><br>
                You will be paid $3.00 for your participation in this study.
                <br><br>
                You will not be paid if you already participated in this study before.
                <br><br>
                Click <b>Start study</b> if you understood all the instructions and want to start with the first
                question.
                Feel free to re-read the instructions again (<b>Previous</b>).
                <br><br>
                <br><br>
                <b>Disclosure: </b> This is a research study. Results and data will <b>not</b> be used to train AI models. Keystrokes on the input box will be recorded for research purposes.
                <!-- <img src="img/instructions_5_trivia.png" style="width: 80%">
                <img src="img/instructions_5_math.png"> -->
            </div>
        </div>

        <div class="main_box" id="main_box_experiment" style="display: none">
                    <!-- Part 1: Question Screen -->
            <div id="part1" style="margin-top: 40px;">
                <!-- Existing content for question display -->
                <div id="question_display">
                <img id="question_image" src="" alt="Question Image" style="height: 110px; display: block; margin: 0 auto; max-width: 800px;">
                <div id="predicted_text_container" style="margin-top: 20px; font-size: 18px; text-align: left; margin-left: 40px;">
                    <div>Predicted Text:</div>
                    <div id="predicted_text"></div>
                  </div>
                  
                <div id="token_input_container" style="margin-top: 20px; text-align: center;">
                    <input type="text" id="token_input" style="width: 90%; font-size: 18px; padding: 8px;">
                </div>
                </div>
                <!-- Next button for Part 1: always visible -->
                <div style="text-align: center; margin-top: 20px;">
                <input id="button_next_part1" type="button" class="button-neutral" value="Next">
                </div>
            </div>
            
            <!-- Part 2: Confidence Rating Screen (initially hidden) -->
            <div id="part2" style="display: none; text-align: center; margin-top: 70px;">
                <p>Please rate your confidence in your answer from 1 (not confident) to 5 (very confident):</p>
                <div id="confidence_options">
                <button type="button" class="confidence-button" data-rating="1">1</button>
                <button type="button" class="confidence-button" data-rating="2">2</button>
                <button type="button" class="confidence-button" data-rating="3">3</button>
                <button type="button" class="confidence-button" data-rating="4">4</button>
                <button type="button" class="confidence-button" data-rating="5">5</button>
                </div>
                <div style="margin-top: 20px;">
                <input id="button_next_part2" type="button" class="button-neutral" value="Next" disabled>
                </div>
            </div>
        </div>
        <!-- Qualitative Feedback Section (initially hidden) -->
        <div class="main_box" id="qualitative_section" style="display: none;">
            <h3>Qualitative Feedback</h3>
            
            <div class="qual-question">
            <p>1. What benefits or drawbacks does the highlighting provide?</p>
            <textarea id="qual_q1" rows="3" style="width: 100%;"></textarea>
            <p class="qual-warning" id="warn_q1" style="color:red; display:none;">Please enter at least 25 characters.</p>
            </div>
            
            <div class="qual-question">
            <p>2. When you see a token highlighted in red, how do you interpret that in terms of the system’s reliability?</p>
            <textarea id="qual_q2" rows="3" style="width: 100%;"></textarea>
            <p class="qual-warning" id="warn_q2" style="color:red; display:none;">Please enter at least 25 characters.</p>
            </div>
            
            <div class="qual-question">
            <p>3. Any additional comments?</p>
            <textarea id="qual_q3" rows="3" style="width: 100%;"></textarea>
            <p class="qual-warning" id="warn_q3" style="color:red; display:none;">Please enter at least 25 characters.</p>
            </div>
            
            <div style="text-align: center; margin-top: 20px;">
            <input id="qual_next" type="button" class="button-neutral" value="Next">
            </div>
        </div>
        <!-- NASA TLX End-of-Condition Survey -->
        <div class="main_box" id="nasa_tlx_survey" style="display: none;">
            <h2>Please answer the following questions for the <span id="condition_label"></span> section</h2>
        
            <!-- (1) How mentally demanding was the task? -->
            <div class="nasa-tlx-question">
            <label for="mental_demand">How mentally demanding was the task?</label>
            <div class="slider-container">
                <span class="slider-label">Very Low</span>
                <input
                type="range"
                id="mental_demand"
                class="nasa-tlx-range"
                min="0"
                max="100"
                step="20"
                value="0"
                />
                <span class="slider-label">Very High</span>
            </div>
            </div>
        
            <!-- (2) How hurried or rushed was the pace of the task? -->
            <div class="nasa-tlx-question">
            <label for="hurried_demand">How hurried or rushed was the pace of the task?</label>
            <div class="slider-container">
                <span class="slider-label">Very Low</span>
                <input
                type="range"
                id="hurried_demand"
                class="nasa-tlx-range"
                min="0"
                max="100"
                step="20"
                value="0"
                />
                <span class="slider-label">Very High</span>
            </div>
            </div>
        
            <!-- (3) How successful were you in accomplishing what you were asked to do? -->
            <div class="nasa-tlx-question">
            <label for="performance">How successful were you in accomplishing what you were asked to do?</label>
            <div class="slider-container">
                <span class="slider-label">Perfect</span>
                <input
                type="range"
                id="performance"
                class="nasa-tlx-range"
                min="0"
                max="100"
                step="20"
                value="0"
                />
                <span class="slider-label">Failure</span>
            </div>
            </div>
        
            <!-- (4) How hard did you have to work to accomplish your level of performance? -->
            <div class="nasa-tlx-question">
            <label for="effort">How hard did you have to work to accomplish your level of performance?</label>
            <div class="slider-container">
                <span class="slider-label">Very Low</span>
                <input
                type="range"
                id="effort"
                class="nasa-tlx-range"
                min="0"
                max="100"
                step="20"
                value="0"
                />
                <span class="slider-label">Very High</span>
            </div>
            </div>
        
            <!-- (5) How insecure, discouraged, irritated, stressed, and annoyed were you? -->
            <div class="nasa-tlx-question">
            <label for="frustration">How insecure, discouraged, irritated, stressed, and annoyed were you?</label>
            <div class="slider-container">
                <span class="slider-label">Very Low</span>
                <input
                type="range"
                id="frustration"
                class="nasa-tlx-range"
                min="0"
                max="100"
                step="20"
                value="0"
                />
                <span class="slider-label">Very High</span>
            </div>
            </div>
        
            <!-- Next button -->
            <div style="text-align: center; margin-top: 20px;">
            <input id="nasa_tlx_next" type="button" class="button-neutral" value="Next">
            </div>
        </div>
        <div class=main_box id="start_condition_page" style="display:none;"></div>

  
        <br>
        <!-- Research project by Tejas Srinivasan and Matthew Salaway at the University of Southern California. -->

    </div>
    <script id="nocachescript"></script>
    <script>
        var randomNum = String((Math.floor(Math.random() * 10e10)));
        document.getElementById('nocachescript').src = "web.js?t=" + randomNum;
    </script>
</body>

</html>