(()=>{"use strict";let t="https://matthewsalaway.pythonanywhere.com/";async function e(e){e.url_data=globalThis.url_data,console.log("Data"),"study_id"in e.url_data||(e.url_data.study_id="demo_study"),"prolific_id"in e.url_data||(e.url_data.prolific_id="demo_user"),"session_id"in e.url_data||(e.url_data.session_id="demo_session"),e.url_data.queue_id=globalThis.uid,console.log("logged",e),console.log("Logging to",t+"log");try{let n=await $.ajax(t+"log",{data:JSON.stringify({project:"ocr-calibration-study/"+e.url_data.study_id,uid:globalThis.uid.replace("/","_")+"_"+e.url_data.prolific_id,payload:JSON.stringify(e)}),type:"POST",contentType:"application/json"});return await async function(){return new Promise((t=>setTimeout(t,2e3)))}(),n}catch(t){console.log(t)}}function n(t){let e=t.replace(/\s+/g,"");return e=e.replace(/\\/g," \\"),e=e.replace(/([\+\-\=])/g," $1 "),e=e.replace(/(\\?)(div|approx|times|Delta|bot|angle)(?!\s)/g,"$1$2 "),e=e.replace(/\s+/g," "),e}var i=!1,o=[];let a=null,r=-1,s=0,l=20,c=0,d=0,u=!1,_=Date.now(),p=[],h="",m=0,g=0;function b(){const t=$("input[name='latexExperience']:checked").val(),e=$("input[name='latexFrequency']:checked").val(),n=$("input[name='chatbotFrequency']:checked").val();return t&&e&&n?($("#button_instructions_next").show(),!0):($("#button_instructions_next").hide(),!1)}function f(t,e){const n=((Date.now()-_)/1e3).toFixed(3),i=d,a=o[c].condition,r=$("#token_input").val();let s={event:t,qid:i,condition:a,condition_index:c,precise_time:n,new_text:r,old_text:h,key_pressed:e||null};h=r,p=p.concat([s])}function x(t){m+=t,0==m?$("#button_instructions_prev").attr("disabled","true"):$("#button_instructions_prev").removeAttr("disabled"),3!=m||b()?($("#button_instructions_next").removeAttr("disabled"),$("#button_instructions_next").show()):($("#button_instructions_next").attr("disabled","true"),$("#button_instructions_next").hide()),m>=4?($("#instructions_and_decorations").show(),$("#button_instructions_next").val("Start study")):($("#instructions_and_decorations").hide(),$("#button_instructions_next").val("Next")),5==m&&($("#instructions_and_decorations").show(),$("#main_box_instructions").hide(),$("#main_box_experiment").show(),u||(e({pre_survey:{latexExperience:$("input[name='latexExperience']:checked").val(),latexFrequency:$("input[name='latexFrequency']:checked").val(),chatbotFrequency:$("input[name='chatbotFrequency']:checked").val()}}),u=!0),k()),$("#main_box_instructions").children(":not(input)").each(((t,e)=>{$(e).hide()})),$(`#instructions_${m}`).show()}$("#button_instructions_next").on("click",(()=>x(1))),$("#button_instructions_prev").on("click",(()=>x(-1)));let y=[],v=0;function w(t){$("#practice_container").empty().show();const e=$('\n      <div id="practice_inner_container" style="padding: 20px; padding-top:0px; overflow-y: auto;">\n        <div id="practice_instructions"></div>\n        <div id="practice_header"></div>\n        <div id="practice_content" style="margin-top: 10px;"></div>\n        <div id="practice_nav" style="margin-top: 20px; margin-bottom: 25px;"></div>\n      </div>\n    ');$("#practice_container").append(e),$("#practice_header").html(`<h3>Practice Example (${v+1} of ${y.length})</h3>`);const i=o[c].condition,a=[];"highlighted"===i?(a.push("You will be able to see if the model is uncertain about any part of the transcription."),a.push("The text is red if the model is uncertain about it. The brighter the red highlight, the more uncertain the model is about that specific part of the text.")):a.push("You will <b>not</b> be able to see if the model is uncertain about any part of the transcription."),a.push("Review the transcription carefully and fix any errors by editing the input box."),a.push("When the session starts, you will have 20 seconds to modify each transcription.");const r=a.map((t=>`<li>${t}</li>`)).join("");$("#practice_instructions").html(`\n    <h3 style="font-size: 1.1em; margin-bottom: 5px;">Instructions:</h3>\n    <ul style="margin-left: 20px;">\n        ${r}\n    </ul>\n    `),$("#practice_content").html('\n      <div id="practice_question_display" style="margin-top: 10px;">\n        <img id="practice_question_image" src="" alt="Practice Question Image" style="max-width: 100%; height: 110px; object-fit: contain;margin-top: 20px;">\n        <div id="practice_predicted_text_container" style="margin-top: 20px;">\n          <div style="margin-top: 10px;">Predicted Text:</div>\n          <div id="practice_predicted_text" style="margin-top: 20px;"></div>\n        </div>\n        <div id="practice_token_input_container" style="margin-top: 20px;">\n          <input id="practice_token_input" type="text" style="width: 100%; font-size: 16px; padding: 8px;">\n        </div>\n      </div>\n    ');const s=y[v];s.image?$("#practice_question_image").attr("src","data:image/png;base64,"+s.image):$("#practice_question_image").attr("src","");let l="";if(s.token_info&&Array.isArray(s.token_info)&&(l=s.token_info.map((t=>t.token)).filter((t=>"<|im_end|>"!==t)).map((t=>t.replace(/Ġ/g," "))).join("")),$("#practice_token_input").val(n(l)),"non-highlighted"==o[c].condition)$("#practice_predicted_text").html(n(l));else if("highlighted"==o[c].condition){let t="";s.token_info&&Array.isArray(s.token_info)&&(t=s.token_info.filter((t=>"<|im_end|>"!==t.token)).map((t=>{let e=t.token.replace(/Ġ/g," ");return`<span style="background-color: rgba(255, 0, 0, ${1-(t.top_5_tokens&&t.top_5_tokens[0]&&"number"==typeof t.top_5_tokens[0].probability?t.top_5_tokens[0].probability:1)});">${n(e)}</span>`})).join("")),$("#practice_predicted_text").html(t)}if("highlighted"===i){let t="";0===v?t="The model is uncertain about the characters 'E', 'F', and 'D' ":1===v?t="The model is uncertain about three characters":2===v&&(t="the model shows no uncertainty (i.e. it is confident about the full transcription)"),$("#practice_predicted_text").append(`<span style="font-style: italic; margin-left: 20px; vertical-align: middle;">${t}</span>`)}$("#practice_nav").html('\n      <div>\n        <input id="practice_prev" type="button" value="Previous Example">\n        <input id="practice_next" type="button" value="Next Example" style="margin-left: 10px;">\n      </div>\n    '),$("#practice_prev").off("click").on("click",(()=>{v=(v-1+y.length)%y.length,w(t)})),$("#practice_next").off("click").on("click",(()=>{v=(v+1)%y.length,w(t)}))}function k(){if($("#main_box_experiment").show(),$("#button_next").hide(),$("#button_quit").hide(),p=[],c>=o.length)return $("#main_box_experiment").hide(),void $("#qualitative_section").show();let t=o[c];if(0===d)return void function(t){$("#main_box_experiment").hide(),$("#start_condition_page").empty().show();const e=`\n      <div style="display: flex; justify-content: space-between; align-items: center;">\n          <h2 style="margin: 0;">${"highlighted"===t?`Part ${c+1}: AI Uncertainty is Highlighted`:`Part ${c+1}: AI Uncertainty is Not Highlighted`}</h2>\n          <input id="start_condition_next" type="button" value="Start Section" style="margin: 0;"/>\n      </div>\n    `;$("#start_condition_page").append(e),0===$("#practice_container").length&&$("#start_condition_page").append('<div id="practice_container" style="margin-top:10px;"></div>'),new Promise(((t,e)=>{$.getJSON("practice_questions/Qwen_practice_Qs.json").done((e=>t(e))).fail(((t,n,i)=>e(i)))})).then((t=>{y=t,v=0,w((()=>{d=1,k()}))})).catch((t=>{})),$("#start_condition_next").on("click",(()=>{$("#start_condition_page").hide(),d=1,k()}))}(t.condition);if(d>t.questions.length)return void function(){$("#main_box_experiment").hide();const t=o[c].condition;$("#condition_label").text(t),$("#mental_demand").val("0"),$("#hurried_demand").val("0"),$("#performance").val("0"),$("#effort").val("0"),$("#frustration").val("0"),$("#nasa_tlx_survey").show()}(t.condition);a=t.questions[d-1],a.image?$("#question_image").attr("src","data:image/png;base64,"+a.image):$("#question_image").attr("src","");let e="";if(a.token_info&&Array.isArray(a.token_info)&&(e=a.token_info.map((t=>t.token)).filter((t=>"<|im_end|>"!==t)).map((t=>t.replace(/Ġ/g," "))).join("")),$("#token_input").val(n(e)),h=$("#token_input").val()||"","non-highlighted"==o[c].condition)$("#predicted_text").html(n(e));else if("highlighted"==o[c].condition){let t="";a.token_info&&Array.isArray(a.token_info)&&(t=a.token_info.filter((t=>"<|im_end|>"!==t.token)).map((t=>{let e=t.token.replace(/Ġ/g," ");return`<span style="background-color: rgba(255, 0, 0, ${1-(t.top_5_tokens&&t.top_5_tokens[0]&&"number"==typeof t.top_5_tokens[0].probability?t.top_5_tokens[0].probability:1)});">${n(e)}</span>`})).join("")),$("#predicted_text").html(t)}$("#progress").text(`Section ${c+1} of ${o.length} | Question ${d} of ${t.questions.length}`),$("#part1").show(),$("#part2").hide(),$("#token_input_container").hide(),$("#button_next_part1").hide(),_=Date.now(),l=20,$("#timer").text(l),$("#timer").show(),s&&clearInterval(s),s=window.setInterval((()=>{l-=1,$("#timer").text(l),l<=15&&($("#token_input_container").show(),$("#button_next_part1").show()),l<=0&&(clearInterval(s),f("auto_submit"),clearInterval(s),$("#timer").hide(),$("#part1").hide(),$("#part2").show(),$("#timer").hide())}),1e3)}const q=new URLSearchParams(window.location.search),T=q.get("start"),j=q.get("uid");if(globalThis.url_data=function(t){const e={};for(const[n,i]of t)e[n]=i;return e}(q.entries()),null==globalThis.url_data.study_id&&(globalThis.url_data.study_id="demo_study"),null==globalThis.url_data.prolific_id&&(globalThis.url_data.prolific_id="demo_user"),null==globalThis.url_data.session_id&&(globalThis.url_data.session_id="demo_session"),null!=j){if(globalThis.uid=j,"prolific_random"==globalThis.uid){let t=`${Math.floor(4*Math.random())}`.padStart(3,"0");globalThis.uid=`${q.get("prolific_queue_name")}/${t}`}}else{let t=null;for(;null==t;)t=prompt("Enter your user id. Please get in touch if you were not assigned an id but wish to participate in this experiment.");globalThis.uid=t}globalThis.url_data.session_id.startsWith("demo")&&(i=!0),async function(){return await $.getJSON(`baked_queues/${globalThis.uid}.json?t=${Date.now()}`)}().catch((t=>{window.location.reload()})).then((t=>{o=t,null!=T&&(d=parseInt(T)-1),x(0),$("#main_box_instructions").show(),$("#instructions_and_decorations").hide()}));let A=!1;document.onvisibilitychange=()=>{A||(g+=1,A=!0,A=!1)},$(document).ready((()=>{$("#button_next_part1").on("click",(()=>{f("next_button_submitted"),clearInterval(s),$("#timer").hide(),$("#part1").hide(),$("#part2").show()})),$(".confidence-button").on("click",(function(){let t=parseInt($(this).attr("data-rating"));$(".confidence-button").removeClass("selected"),$(this).addClass("selected"),r=t,$("#button_next_part2").removeAttr("disabled")})),$("#button_next_part2").on("click",(()=>{e({question_i:d,qid:a.qid,condition:o[c].condition,confidence_rating:r,keylogs:p}),$("#button_next_part2").attr("disabled","true"),$(".confidence-button").removeClass("selected"),r=-1,$("#part2").hide(),$("#part1").show(),d++,k()})),$("input[name='latexExperience'], input[name='latexFrequency'], input[name='chatbotFrequency']").on("change",(()=>{b()&&($("#button_instructions_next").removeAttr("disabled"),$("#button_instructions_next").show())})),$("#token_input").on("keydown",(function(t){f("input_change",t.key)}));const t={mental_demand:!1,hurried_demand:!1,performance:!1,effort:!1,frustration:!1},n={mental_demand:null,hurried_demand:null,performance:null,effort:null,frustration:null};function i(){return Object.values(t).every((t=>!0===t))}const l=$("#nasa_tlx_next");l.prop("disabled",!0),$(".tlx-box").on("click",(function(){const e=$(this).parent().attr("id");if(!e||!(e in t))return;const o=parseInt($(this).attr("data-value"));n[e]=o,t[e]=!0,$(this).siblings().removeClass("selected"),$(this).addClass("selected"),i()&&l.prop("disabled",!1)})),l.on("click",(()=>{if(!i())return void alert("Please adjust all sliders before continuing.");const o={mental_demand:null!==n.mental_demand?n.mental_demand:0,hurried_demand:null!==n.hurried_demand?n.hurried_demand:0,performance:null!==n.performance?n.performance:0,effort:null!==n.effort?n.effort:0,frustration:null!==n.frustration?n.frustration:0};e({condition:$("#condition_label").text(),condition_index:c,tlx:o}),function(){for(let e in t)t[e]=!1;for(let t in n)n[t]=null;$(".tlx-box").removeClass("selected"),l.prop("disabled",!0)}(),$("#nasa_tlx_survey").hide(),c++,d=0,k()}))})),$("#qual_next").on("click",(()=>{const t=$("#qual_q1").val()||"",n=$("#qual_q2").val()||"",o=$("#qual_q3").val()||"";let a=!0;t.length<25?($("#warn_q1").show(),a=!1):$("#warn_q1").hide(),n.length<25?($("#warn_q2").show(),a=!1):$("#warn_q2").hide(),o.length<0?($("#warn_q3").show(),a=!1):$("#warn_q3").hide(),a&&(e({qualitative:{q1:t,q2:n,q3:o}}),$("#qualitative_section").hide(),i?($("#reward_box_mock").text("Your total reward is $3.00."),$("#reward_box_mock").show(),$("#main_box_end_mock").show()):($("#reward_box").text("Your total reward is $3.00."),$("#reward_box").show(),$("#main_box_end").show()))}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Y2s6Ly8vLi9zcmMvY29ubmVjdG9yLnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBERVZNT0RFIH0gZnJvbSAnLi9nbG9iYWxzJ1xyXG5pbXBvcnQgeyBNT0NLTU9ERSB9IGZyb20gJy4vbWFpbidcclxuXHJcbmxldCBTRVJWRVJfTE9HX1JPT1QgPSBERVZNT0RFID8gXCJodHRwOi8vMTI3LjAuMC4xOjUwMDAvXCIgOiBcImh0dHBzOi8vbWF0dGhld3NhbGF3YXkucHl0aG9uYW55d2hlcmUuY29tL1wiXHJcblxyXG5hc3luYyBmdW5jdGlvbiBzbGVlcChtczogbnVtYmVyKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgbXMpKTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvYWRfZGF0YSgpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgLy8gaW5jbHVkZSB0aW1lc3RhbXAgc28gdGhhdCB0aGluZ3MgZG9uJ3QgZ2V0IGNhY2hlZFxyXG4gICAgbGV0IHJlc3VsdCA9IGF3YWl0ICQuZ2V0SlNPTihcclxuICAgICAgICBgYmFrZWRfcXVldWVzLyR7Z2xvYmFsVGhpcy51aWR9Lmpzb24/dD0ke0RhdGUubm93KCl9YCxcclxuICAgIClcclxuICAgIHJldHVybiByZXN1bHRcclxufVxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9nX2RhdGEoZGF0YSk6IFByb21pc2U8YW55PiB7XHJcbiAgICAvL2lmIChNT0NLTU9ERSkge1xyXG4gICAgLy8gICAgY29uc29sZS5sb2coXCJsb2dnZWQgKG1vY2spXCIsIGRhdGEpXHJcbiAgICAvLyAgICByZXR1cm5cclxuICAgIC8vfVxyXG4gICAgXHJcbiAgICBkYXRhW1widXJsX2RhdGFcIl0gPSBnbG9iYWxUaGlzLnVybF9kYXRhXHJcbiAgICBjb25zb2xlLmxvZyhcIkRhdGFcIilcclxuICAgIGlmICghKFwic3R1ZHlfaWRcIiBpbiBkYXRhWyd1cmxfZGF0YSddKSkge1xyXG4gICAgICAgIGRhdGFbJ3VybF9kYXRhJ11bXCJzdHVkeV9pZFwiXSA9IFwiZGVtb19zdHVkeVwiXHJcbiAgICB9XHJcbiAgICBpZiAoIShcInByb2xpZmljX2lkXCIgaW4gZGF0YVsndXJsX2RhdGEnXSkpIHtcclxuICAgICAgICBkYXRhWyd1cmxfZGF0YSddW1wicHJvbGlmaWNfaWRcIl0gPSBcImRlbW9fdXNlclwiXHJcbiAgICB9XHJcbiAgICBpZiAoIShcInNlc3Npb25faWRcIiBpbiBkYXRhWyd1cmxfZGF0YSddKSkge1xyXG4gICAgICAgIGRhdGFbJ3VybF9kYXRhJ11bXCJzZXNzaW9uX2lkXCJdID0gXCJkZW1vX3Nlc3Npb25cIlxyXG4gICAgfVxyXG4gICAgZGF0YVtcInVybF9kYXRhXCJdW1wicXVldWVfaWRcIl0gPSBnbG9iYWxUaGlzLnVpZFxyXG4gICAgY29uc29sZS5sb2coXCJsb2dnZWRcIiwgZGF0YSlcclxuICAgIGNvbnNvbGUubG9nKFwiTG9nZ2luZyB0b1wiLCBTRVJWRVJfTE9HX1JPT1QgKyBcImxvZ1wiKVxyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0ICQuYWpheChcclxuICAgICAgICAgICAgU0VSVkVSX0xPR19ST09UICsgXCJsb2dcIixcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICAgICAgICAgIHByb2plY3Q6IFwib2NyLWNhbGlicmF0aW9uLXN0dWR5L1wiK2RhdGFbJ3VybF9kYXRhJ11bJ3N0dWR5X2lkJ10sXHJcbiAgICAgICAgICAgICAgICAgICAgdWlkOiBnbG9iYWxUaGlzLnVpZC5yZXBsYWNlKFwiL1wiLCBcIl9cIikgKyBcIl9cIiArIGRhdGFbJ3VybF9kYXRhJ11bJ3Byb2xpZmljX2lkJ10sXHJcbiAgICAgICAgICAgICAgICAgICAgcGF5bG9hZDogSlNPTi5zdHJpbmdpZnkoZGF0YSksXHJcbiAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcclxuICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApXHJcbiAgICAgICAgYXdhaXQgc2xlZXAoMjAwMCk7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGUpXHJcbiAgICB9XHJcbn0iLCJmdW5jdGlvbiBwYXJhbXNUb09iamVjdChlbnRyaWVzKSB7XHJcbiAgY29uc3QgcmVzdWx0ID0ge31cclxuICAvLyBlYWNoICdlbnRyeScgaXMgYSBba2V5LCB2YWx1ZV0gdHVwcGxlXHJcbiAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgZW50cmllcykge1xyXG4gICAgcmVzdWx0W2tleV0gPSB2YWx1ZTtcclxuICB9XHJcbiAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG4vLyBJbiBzcmMvdXRpbHMudHMgb3IgYXQgdGhlIHRvcCBvZiBzcmMvbWFpbi50c1xyXG5mdW5jdGlvbiBmaXhTcGFjaW5nKGlucHV0OiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gIC8vIFJlbW92ZSBhbGwgc3BhY2VzLlxyXG4gIGxldCBvdXRwdXQgPSBpbnB1dC5yZXBsYWNlKC9cXHMrL2csIFwiXCIpO1xyXG4gIC8vIEFkZCBhIHNwYWNlIGJlZm9yZSBldmVyeSBiYWNrc2xhc2guXHJcbiAgb3V0cHV0ID0gb3V0cHV0LnJlcGxhY2UoL1xcXFwvZywgXCIgXFxcXFwiKTtcclxuICAvLyBBZGQgYSBzcGFjZSBiZWZvcmUgYW5kIGFmdGVyIGV2ZXJ5IHBsdXMsIG1pbnVzLCBhbmQgZXF1YWwgc2lnbi5cclxuICBvdXRwdXQgPSBvdXRwdXQucmVwbGFjZSgvKFtcXCtcXC1cXD1dKS9nLCBcIiAkMSBcIik7XHJcbiAgLy8gd2FudCBhIHNwYWNlIGFmdGVyIGRpdiwgYXBwcm94LCBhbmQgdGltZXMgb25seSBpZiBub3QgZm9sbG93ZWQgYnkgYSBzcGFjZVxyXG4gIG91dHB1dCA9IG91dHB1dC5yZXBsYWNlKC8oXFxcXD8pKGRpdnxhcHByb3h8dGltZXN8RGVsdGF8Ym90fGFuZ2xlKSg/IVxccykvZywgXCIkMSQyIFwiKTtcclxuICAvLyBDb2xsYXBzZSBtdWx0aXBsZSBzcGFjZXMgaW50byBvbmUuXHJcbiAgb3V0cHV0ID0gb3V0cHV0LnJlcGxhY2UoL1xccysvZywgXCIgXCIpO1xyXG4gIHJldHVybiBvdXRwdXQ7XHJcbn1cclxuXHJcblxyXG5cclxuZXhwb3J0IHsgcGFyYW1zVG9PYmplY3QsIGZpeFNwYWNpbmcgfSIsImltcG9ydCB7IERFVk1PREUgfSBmcm9tIFwiLi9nbG9iYWxzXCJcclxuZXhwb3J0IHZhciBVSUQ6IHN0cmluZ1xyXG5leHBvcnQgdmFyIE1PQ0tNT0RFOiBib29sZWFuID0gZmFsc2VcclxuaW1wb3J0IHsgbG9hZF9kYXRhLCBsb2dfZGF0YSB9IGZyb20gJy4vY29ubmVjdG9yJ1xyXG5pbXBvcnQgeyBwYXJhbXNUb09iamVjdCwgZml4U3BhY2luZyB9IGZyb20gXCIuL3V0aWxzXCJcclxuXHJcbnZhciBkYXRhOiBhbnlbXSA9IFtdXHJcbmxldCBxdWVzdGlvbjogYW55ID0gbnVsbFxyXG5sZXQgY29uZmlkZW5jZVJhdGluZzogbnVtYmVyID0gLTE7XHJcbmxldCBwYXJ0MVRpbWVyOiBudW1iZXIgPSAwO1xyXG5sZXQgcGFydDFJbnRlcnZhbDogbnVtYmVyID0gMDtcclxubGV0IHJlbWFpbmluZ1RpbWU6IG51bWJlciA9IDIwO1xyXG5sZXQgY3VycmVudENvbmRpdGlvbkluZGV4ID0gMDtcclxubGV0IGN1cnJlbnRRdWVzdGlvbkluZGV4ID0gMDtcclxubGV0IHByZVN1cnZleUxvZ2dlZCA9IGZhbHNlO1xyXG5sZXQgcXVlc3Rpb25TdGFydFRpbWU6IG51bWJlciA9IERhdGUubm93KCk7XHJcbmxldCBrZXlsb2dzOiBhbnlbXSA9IFtdO1xyXG5sZXQgcHJldmlvdXNJbnB1dDogc3RyaW5nID0gXCJcIjtcclxuXHJcblxyXG5cclxuXHJcblxyXG5sZXQgYmFsYW5jZSA9IDBcclxubGV0IGJhbGFuY2VfaW5jcmVtZW50ID0gMC4xICAgICAvLyBCYWxhbmNlIHVwZGF0ZXMgYnkgJDAuMTAgZm9yIGV2ZXJ5IGNvcnJlY3Qgc2VsZWN0aW9uXHJcblxyXG5sZXQgaW5zdHJ1Y3Rpb25faTogbnVtYmVyID0gMFxyXG5sZXQgY291bnRfZXhpdGVkX3BhZ2U6IG51bWJlciA9IDBcclxuXHJcbmZ1bmN0aW9uIGFzc2VydChjb25kaXRpb24sIG1lc3NhZ2UpIHtcclxuICAgIGlmICghY29uZGl0aW9uKSB7XHJcbiAgICAgICAgdGhyb3cgbWVzc2FnZSB8fCBcIkFzc2VydGlvbiBmYWlsZWRcIjtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGNoZWNrUHJlU3VydmV5KCk6IGJvb2xlYW4ge1xyXG4gICAgY29uc3QgbGF0ZXhFeHAgPSAkKFwiaW5wdXRbbmFtZT0nbGF0ZXhFeHBlcmllbmNlJ106Y2hlY2tlZFwiKS52YWwoKTtcclxuICAgIGNvbnN0IGxhdGV4RnJlcSA9ICQoXCJpbnB1dFtuYW1lPSdsYXRleEZyZXF1ZW5jeSddOmNoZWNrZWRcIikudmFsKCk7XHJcbiAgICBjb25zdCBjaGF0Ym90RnJlcSA9ICQoXCJpbnB1dFtuYW1lPSdjaGF0Ym90RnJlcXVlbmN5J106Y2hlY2tlZFwiKS52YWwoKTtcclxuICBcclxuICAgIGlmIChsYXRleEV4cCAmJiBsYXRleEZyZXEgJiYgY2hhdGJvdEZyZXEpIHtcclxuICAgICAgJChcIiNidXR0b25faW5zdHJ1Y3Rpb25zX25leHRcIikuc2hvdygpO1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICQoXCIjYnV0dG9uX2luc3RydWN0aW9uc19uZXh0XCIpLmhpZGUoKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBsb2dJbnB1dEV2ZW50KGV2ZW50VHlwZTogc3RyaW5nLCBrZXlQcmVzc2VkPzogc3RyaW5nKSB7XHJcbiAgICBjb25zdCBwcmVjaXNlVGltZSA9ICgoRGF0ZS5ub3coKSAtIHF1ZXN0aW9uU3RhcnRUaW1lKSAvIDEwMDApLnRvRml4ZWQoMyk7XHJcbiAgICBjb25zdCBxaWQgPSBjdXJyZW50UXVlc3Rpb25JbmRleDsgLy8gVXNpbmcgdGhlIGN1cnJlbnRRdWVzdGlvbkluZGV4IGFzIHRoZSBxdWVzdGlvbiBpZC5cclxuICAgIGNvbnN0IGNvbmRpdGlvbiA9IGRhdGFbY3VycmVudENvbmRpdGlvbkluZGV4XS5jb25kaXRpb247XHJcbiAgICBjb25zdCBjdXJyZW50VGV4dCA9ICQoXCIjdG9rZW5faW5wdXRcIikudmFsKCkgYXMgc3RyaW5nO1xyXG5cclxuICAgIGxldCBuZXdfa2V5bG9nID0ge1xyXG4gICAgICAgIGV2ZW50OiBldmVudFR5cGUsXHJcbiAgICAgICAgcWlkOiBxaWQsXHJcbiAgICAgICAgY29uZGl0aW9uOiBjb25kaXRpb24sXHJcbiAgICAgICAgY29uZGl0aW9uX2luZGV4OiBjdXJyZW50Q29uZGl0aW9uSW5kZXgsXHJcbiAgICAgICAgcHJlY2lzZV90aW1lOiBwcmVjaXNlVGltZSxcclxuICAgICAgICBuZXdfdGV4dDogY3VycmVudFRleHQsXHJcbiAgICAgICAgb2xkX3RleHQ6IHByZXZpb3VzSW5wdXQsXHJcbiAgICAgICAga2V5X3ByZXNzZWQ6IGtleVByZXNzZWQgfHwgbnVsbCwgLy90b2RvXHJcbiAgICB9XHJcbiAgICBwcmV2aW91c0lucHV0ID0gY3VycmVudFRleHQ7IC8vIEVuc3VyZSBjdXJyZW50VGV4dCBpcyBhIHN0cmluZyBiZWZvcmUgYXNzaWdubWVudFxyXG4gICAga2V5bG9ncyA9IGtleWxvZ3MuY29uY2F0KFtuZXdfa2V5bG9nXSk7XHJcbn1cclxuXHJcblxyXG5cclxuZnVuY3Rpb24gbmV4dF9pbnN0cnVjdGlvbnMoaW5jcmVtZW50OiBudW1iZXIpIHtcclxuICAgIGluc3RydWN0aW9uX2kgKz0gaW5jcmVtZW50XHJcblxyXG4gICAgaWYgKGluc3RydWN0aW9uX2kgPT0gMCkge1xyXG4gICAgICAgICQoXCIjYnV0dG9uX2luc3RydWN0aW9uc19wcmV2XCIpLmF0dHIoXCJkaXNhYmxlZFwiLCBcInRydWVcIilcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJChcIiNidXR0b25faW5zdHJ1Y3Rpb25zX3ByZXZcIikucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpXHJcbiAgICB9XHJcbiAgICBpZihpbnN0cnVjdGlvbl9pID09IDMgJiYgIWNoZWNrUHJlU3VydmV5KCkpIHtcclxuICAgICAgICAkKFwiI2J1dHRvbl9pbnN0cnVjdGlvbnNfbmV4dFwiKS5hdHRyKFwiZGlzYWJsZWRcIiwgXCJ0cnVlXCIpXHJcbiAgICAgICAgJChcIiNidXR0b25faW5zdHJ1Y3Rpb25zX25leHRcIikuaGlkZSgpXHJcbiAgICB9XHJcbiAgICBlbHNle1xyXG4gICAgICAgICQoXCIjYnV0dG9uX2luc3RydWN0aW9uc19uZXh0XCIpLnJlbW92ZUF0dHIoXCJkaXNhYmxlZFwiKVxyXG4gICAgICAgICQoXCIjYnV0dG9uX2luc3RydWN0aW9uc19uZXh0XCIpLnNob3coKVxyXG4gICAgfVxyXG4gICAgaWYgKGluc3RydWN0aW9uX2kgPj0gNCkge1xyXG4gICAgICAgICQoXCIjaW5zdHJ1Y3Rpb25zX2FuZF9kZWNvcmF0aW9uc1wiKS5zaG93KClcclxuICAgICAgICAkKFwiI2J1dHRvbl9pbnN0cnVjdGlvbnNfbmV4dFwiKS52YWwoXCJTdGFydCBzdHVkeVwiKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAkKFwiI2luc3RydWN0aW9uc19hbmRfZGVjb3JhdGlvbnNcIikuaGlkZSgpXHJcbiAgICAgICAgJChcIiNidXR0b25faW5zdHJ1Y3Rpb25zX25leHRcIikudmFsKFwiTmV4dFwiKVxyXG4gICAgfVxyXG4gICAgaWYgKGluc3RydWN0aW9uX2kgPT0gNSkge1xyXG4gICAgICAgICQoXCIjaW5zdHJ1Y3Rpb25zX2FuZF9kZWNvcmF0aW9uc1wiKS5zaG93KClcclxuICAgICAgICAkKFwiI21haW5fYm94X2luc3RydWN0aW9uc1wiKS5oaWRlKClcclxuICAgICAgICAkKFwiI21haW5fYm94X2V4cGVyaW1lbnRcIikuc2hvdygpXHJcbiAgICAgICAgLy8gUmVzZXQgb3VyIGNvbmRpdGlvbiBpbmRpY2VzIGJlZm9yZSBzdGFydGluZyB0aGUgZXhwZXJpbWVudFxyXG4gICAgICAgIGlmICghcHJlU3VydmV5TG9nZ2VkKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHByZVN1cnZleURhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICBsYXRleEV4cGVyaWVuY2U6ICQoXCJpbnB1dFtuYW1lPSdsYXRleEV4cGVyaWVuY2UnXTpjaGVja2VkXCIpLnZhbCgpLFxyXG4gICAgICAgICAgICAgICAgbGF0ZXhGcmVxdWVuY3k6ICQoXCJpbnB1dFtuYW1lPSdsYXRleEZyZXF1ZW5jeSddOmNoZWNrZWRcIikudmFsKCksXHJcbiAgICAgICAgICAgICAgICBjaGF0Ym90RnJlcXVlbmN5OiAkKFwiaW5wdXRbbmFtZT0nY2hhdGJvdEZyZXF1ZW5jeSddOmNoZWNrZWRcIikudmFsKClcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgbG9nX2RhdGEoeyBwcmVfc3VydmV5OiBwcmVTdXJ2ZXlEYXRhIH0pO1xyXG4gICAgICAgICAgICBwcmVTdXJ2ZXlMb2dnZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIG5leHRfcXVlc3Rpb24oKVxyXG4gICAgfVxyXG5cclxuICAgICQoXCIjbWFpbl9ib3hfaW5zdHJ1Y3Rpb25zXCIpLmNoaWxkcmVuKFwiOm5vdChpbnB1dClcIikuZWFjaCgoXywgZWwpID0+IHtcclxuICAgICAgICAkKGVsKS5oaWRlKClcclxuICAgIH0pXHJcbiAgICAkKGAjaW5zdHJ1Y3Rpb25zXyR7aW5zdHJ1Y3Rpb25faX1gKS5zaG93KClcclxufVxyXG4kKFwiI2J1dHRvbl9pbnN0cnVjdGlvbnNfbmV4dFwiKS5vbihcImNsaWNrXCIsICgpID0+IG5leHRfaW5zdHJ1Y3Rpb25zKCsxKSlcclxuJChcIiNidXR0b25faW5zdHJ1Y3Rpb25zX3ByZXZcIikub24oXCJjbGlja1wiLCAoKSA9PiBuZXh0X2luc3RydWN0aW9ucygtMSkpXHJcblxyXG5cclxuLyogTmV3IGZ1bmN0aW9uOiBTaG93IHN0YXJ0LW9mLWNvbmRpdGlvbiBwYWdlICovXHJcbmZ1bmN0aW9uIHNob3dTdGFydENvbmRpdGlvblBhZ2UoY29uZGl0aW9uOiBzdHJpbmcpIHtcclxuICAgICQoXCIjbWFpbl9ib3hfZXhwZXJpbWVudFwiKS5oaWRlKCk7XHJcbiAgICAvLyBDbGVhciB0aGUgY29udGFpbmVyIG9uY2UuXHJcbiAgICAkKFwiI3N0YXJ0X2NvbmRpdGlvbl9wYWdlXCIpLmVtcHR5KCkuc2hvdygpO1xyXG5cclxuICAgIC8vIERldGVybWluZSBoZWFkZXIgdGV4dCBiYXNlZCBvbiBjb25kaXRpb24uXHJcbiAgICBjb25zdCBoZWFkZXJUZXh0ID0gKGNvbmRpdGlvbiA9PT0gXCJoaWdobGlnaHRlZFwiKSBcclxuICAgICAgICAgICAgICAgICAgICAgICAgID8gYFBhcnQgJHtjdXJyZW50Q29uZGl0aW9uSW5kZXgrMX06IEFJIFVuY2VydGFpbnR5IGlzIEhpZ2hsaWdodGVkYCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgIDogYFBhcnQgJHtjdXJyZW50Q29uZGl0aW9uSW5kZXgrMX06IEFJIFVuY2VydGFpbnR5IGlzIE5vdCBIaWdobGlnaHRlZGA7XHJcblxyXG4gICAgLy8gQ3JlYXRlIGEgZmxleCBjb250YWluZXIgd2l0aCBoZWFkZXIgYW5kIFN0YXJ0IEV4cGVyaW1lbnQgYnV0dG9uLlxyXG4gICAgY29uc3QgaGVhZGVySHRtbCA9IGBcclxuICAgICAgPGRpdiBzdHlsZT1cImRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsgYWxpZ24taXRlbXM6IGNlbnRlcjtcIj5cclxuICAgICAgICAgIDxoMiBzdHlsZT1cIm1hcmdpbjogMDtcIj4ke2hlYWRlclRleHR9PC9oMj5cclxuICAgICAgICAgIDxpbnB1dCBpZD1cInN0YXJ0X2NvbmRpdGlvbl9uZXh0XCIgdHlwZT1cImJ1dHRvblwiIHZhbHVlPVwiU3RhcnQgU2VjdGlvblwiIHN0eWxlPVwibWFyZ2luOiAwO1wiLz5cclxuICAgICAgPC9kaXY+XHJcbiAgICBgO1xyXG4gICAgJChcIiNzdGFydF9jb25kaXRpb25fcGFnZVwiKS5hcHBlbmQoaGVhZGVySHRtbCk7XHJcblxyXG4gICAgLy8gQXBwZW5kIGEgY29udGFpbmVyIGZvciB0aGUgcHJhY3RpY2Ugcm91bmQgY29udGVudCBpZiBub3QgYWxyZWFkeSBwcmVzZW50LlxyXG4gICAgaWYgKCQoXCIjcHJhY3RpY2VfY29udGFpbmVyXCIpLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAkKFwiI3N0YXJ0X2NvbmRpdGlvbl9wYWdlXCIpLmFwcGVuZCgnPGRpdiBpZD1cInByYWN0aWNlX2NvbnRhaW5lclwiIHN0eWxlPVwibWFyZ2luLXRvcDoxMHB4O1wiPjwvZGl2PicpO1xyXG4gICAgfVxyXG5cclxuICAgIGxvYWRQcmFjdGljZVF1ZXN0aW9ucygpLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgICBwcmFjdGljZVF1ZXN0aW9ucyA9IGRhdGE7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJQcmFjdGljZSBxdWVzdGlvbnMgbG9hZGVkOlwiLCBwcmFjdGljZVF1ZXN0aW9ucyk7XHJcbiAgICAgICAgcHJhY3RpY2VJbmRleCA9IDA7IC8vIFN0YXJ0IGF0IHRoZSBmaXJzdCBwcmFjdGljZSBxdWVzdGlvbi5cclxuICAgICAgICAvLyBMYXVuY2ggdGhlIHByYWN0aWNlIHJvdW5kLlxyXG4gICAgICAgIHNob3dQcmFjdGljZVJvdW5kKCgpID0+IHtcclxuICAgICAgICAgIC8vIFdoZW4gcHJhY3RpY2UgaXMgY29tcGxldGUsIHJlc3VtZSB0aGUgbm9ybWFsIGV4cGVyaW1lbnQgZmxvdy5cclxuICAgICAgICAgIC8vIChBdCB0aGlzIHBvaW50LCB5b3UgY2FuIG5vdyBzYWZlbHkgdXBkYXRlIGV4cGVyaW1lbnQgc3RhdGUuKVxyXG4gICAgICAgICAgY3VycmVudFF1ZXN0aW9uSW5kZXggPSAxO1xyXG4gICAgICAgICAgbmV4dF9xdWVzdGlvbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgLy8gY29uc29sZS5lcnJvcihcIkVycm9yIGxvYWRpbmcgcHJhY3RpY2UgcXVlc3Rpb25zOlwiLCBlcnIpO1xyXG4gICAgICB9KTtcclxuICAgIFxyXG5cclxuICAgICQoXCIjc3RhcnRfY29uZGl0aW9uX25leHRcIikub24oXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgJChcIiNzdGFydF9jb25kaXRpb25fcGFnZVwiKS5oaWRlKCk7XHJcbiAgICAgICAgLy8gQWZ0ZXIgc3RhcnQgcGFnZSwgYmVnaW4gd2l0aCBmaXJzdCBxdWVzdGlvbiAoc2V0IGluZGV4IHRvIDEpXHJcbiAgICAgICAgY3VycmVudFF1ZXN0aW9uSW5kZXggPSAxO1xyXG4gICAgICAgIG5leHRfcXVlc3Rpb24oKTtcclxuICAgIH0pO1xyXG59XHJcbmxldCBwcmFjdGljZVF1ZXN0aW9uczogYW55W10gPSBbXTtcclxubGV0IHByYWN0aWNlSW5kZXg6IG51bWJlciA9IDA7XHJcblxyXG4vLyBGdW5jdGlvbiB0byBsb2FkIHByYWN0aWNlIHF1ZXN0aW9ucyAoYXNzdW1lcyBhIEpTT04gZmlsZSB3aXRoIGFuIGFycmF5IG9mIGV4YW1wbGUgcXVlc3Rpb25zKVxyXG5mdW5jdGlvbiBsb2FkUHJhY3RpY2VRdWVzdGlvbnMoKTogUHJvbWlzZTxhbnlbXT4ge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZTxhbnlbXT4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgJC5nZXRKU09OKFwicHJhY3RpY2VfcXVlc3Rpb25zL1F3ZW5fcHJhY3RpY2VfUXMuanNvblwiKVxyXG4gICAgICAuZG9uZShkYXRhID0+IHJlc29sdmUoZGF0YSkpXHJcbiAgICAgIC5mYWlsKChqcXhociwgdGV4dFN0YXR1cywgZXJyb3IpID0+IHJlamVjdChlcnJvcikpO1xyXG4gIH0pO1xyXG59XHJcbmZ1bmN0aW9uIHNob3dQcmFjdGljZVJvdW5kKG9uQ29tcGxldGU6ICgpID0+IHZvaWQpIHtcclxuICAgIC8vIEluc3RlYWQgb2YgZW1wdHlpbmcgdGhlIGVudGlyZSBwYWdlLCB1cGRhdGUgb25seSB0aGUgcHJhY3RpY2UgY29udGFpbmVyLlxyXG4gICAgJChcIiNwcmFjdGljZV9jb250YWluZXJcIikuZW1wdHkoKS5zaG93KCk7XHJcbiAgXHJcbiAgICAvLyBCdWlsZCB0aGUgcHJhY3RpY2Ugcm91bmQgY29udGVudCBpbnNpZGUgYSBmaXhlZCBjb250YWluZXIuXHJcbiAgICBjb25zdCBwcmFjdGljZUNvbnRlbnQgPSAkKGBcclxuICAgICAgPGRpdiBpZD1cInByYWN0aWNlX2lubmVyX2NvbnRhaW5lclwiIHN0eWxlPVwicGFkZGluZzogMjBweDsgcGFkZGluZy10b3A6MHB4OyBvdmVyZmxvdy15OiBhdXRvO1wiPlxyXG4gICAgICAgIDxkaXYgaWQ9XCJwcmFjdGljZV9pbnN0cnVjdGlvbnNcIj48L2Rpdj5cclxuICAgICAgICA8ZGl2IGlkPVwicHJhY3RpY2VfaGVhZGVyXCI+PC9kaXY+XHJcbiAgICAgICAgPGRpdiBpZD1cInByYWN0aWNlX2NvbnRlbnRcIiBzdHlsZT1cIm1hcmdpbi10b3A6IDEwcHg7XCI+PC9kaXY+XHJcbiAgICAgICAgPGRpdiBpZD1cInByYWN0aWNlX25hdlwiIHN0eWxlPVwibWFyZ2luLXRvcDogMjBweDsgbWFyZ2luLWJvdHRvbTogMjVweDtcIj48L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICBgKTtcclxuICAgICQoXCIjcHJhY3RpY2VfY29udGFpbmVyXCIpLmFwcGVuZChwcmFjdGljZUNvbnRlbnQpO1xyXG4gIFxyXG4gICAgLy8gU2V0IGhlYWRlciBmb3IgdGhlIHByYWN0aWNlIHJvdW5kLlxyXG4gICAgJChcIiNwcmFjdGljZV9oZWFkZXJcIikuaHRtbChgPGgzPlByYWN0aWNlIEV4YW1wbGUgKCR7cHJhY3RpY2VJbmRleCArIDF9IG9mICR7cHJhY3RpY2VRdWVzdGlvbnMubGVuZ3RofSk8L2gzPmApO1xyXG4gIFxyXG4gICAgY29uc3QgY29uZGl0aW9uID0gZGF0YVtjdXJyZW50Q29uZGl0aW9uSW5kZXhdLmNvbmRpdGlvbjtcclxuICAgIGNvbnN0IGJ1bGxldFBvaW50czogc3RyaW5nW10gPSBbXTtcclxuXHJcbiAgICBpZiAoY29uZGl0aW9uID09PSBcImhpZ2hsaWdodGVkXCIpIHtcclxuICAgICAgICBidWxsZXRQb2ludHMucHVzaChcIllvdSB3aWxsIGJlIGFibGUgdG8gc2VlIGlmIHRoZSBtb2RlbCBpcyB1bmNlcnRhaW4gYWJvdXQgYW55IHBhcnQgb2YgdGhlIHRyYW5zY3JpcHRpb24uXCIpXHJcbiAgICAgICAgYnVsbGV0UG9pbnRzLnB1c2goXCJUaGUgdGV4dCBpcyByZWQgaWYgdGhlIG1vZGVsIGlzIHVuY2VydGFpbiBhYm91dCBpdC4gVGhlIGJyaWdodGVyIHRoZSByZWQgaGlnaGxpZ2h0LCB0aGUgbW9yZSB1bmNlcnRhaW4gdGhlIG1vZGVsIGlzIGFib3V0IHRoYXQgc3BlY2lmaWMgcGFydCBvZiB0aGUgdGV4dC5cIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGJ1bGxldFBvaW50cy5wdXNoKFwiWW91IHdpbGwgPGI+bm90PC9iPiBiZSBhYmxlIHRvIHNlZSBpZiB0aGUgbW9kZWwgaXMgdW5jZXJ0YWluIGFib3V0IGFueSBwYXJ0IG9mIHRoZSB0cmFuc2NyaXB0aW9uLlwiKTtcclxuICAgIH1cclxuICAgIGJ1bGxldFBvaW50cy5wdXNoKFwiUmV2aWV3IHRoZSB0cmFuc2NyaXB0aW9uIGNhcmVmdWxseSBhbmQgZml4IGFueSBlcnJvcnMgYnkgZWRpdGluZyB0aGUgaW5wdXQgYm94LlwiKTtcclxuICAgIGJ1bGxldFBvaW50cy5wdXNoKFwiV2hlbiB0aGUgc2Vzc2lvbiBzdGFydHMsIHlvdSB3aWxsIGhhdmUgMjAgc2Vjb25kcyB0byBtb2RpZnkgZWFjaCB0cmFuc2NyaXB0aW9uLlwiKTtcclxuXHJcbiAgICAvLyBCdWlsZCBIVE1MIGZvciB0aGUgYnVsbGV0IGxpc3QgZHluYW1pY2FsbHlcclxuICAgIGNvbnN0IGJ1bGxldEh0bWwgPSBidWxsZXRQb2ludHMubWFwKHBvaW50ID0+IGA8bGk+JHtwb2ludH08L2xpPmApLmpvaW4oXCJcIik7XHJcblxyXG4gICAgLy8gSW5zZXJ0IHRoZSBpbnN0cnVjdGlvbnMgaW4gdGhlIHByYWN0aWNlIHJvdW5kIFVJXHJcbiAgICAkKFwiI3ByYWN0aWNlX2luc3RydWN0aW9uc1wiKS5odG1sKGBcclxuICAgIDxoMyBzdHlsZT1cImZvbnQtc2l6ZTogMS4xZW07IG1hcmdpbi1ib3R0b206IDVweDtcIj5JbnN0cnVjdGlvbnM6PC9oMz5cclxuICAgIDx1bCBzdHlsZT1cIm1hcmdpbi1sZWZ0OiAyMHB4O1wiPlxyXG4gICAgICAgICR7YnVsbGV0SHRtbH1cclxuICAgIDwvdWw+XHJcbiAgICBgKTtcclxuXHJcbiAgICAvLyBCdWlsZCBjb250ZW50OiBpbWFnZSwgcHJlZGljdGVkIHRleHQsIGFuZCBpbnB1dC5cclxuICAgIGNvbnN0IGNvbnRlbnRIdG1sID0gYFxyXG4gICAgICA8ZGl2IGlkPVwicHJhY3RpY2VfcXVlc3Rpb25fZGlzcGxheVwiIHN0eWxlPVwibWFyZ2luLXRvcDogMTBweDtcIj5cclxuICAgICAgICA8aW1nIGlkPVwicHJhY3RpY2VfcXVlc3Rpb25faW1hZ2VcIiBzcmM9XCJcIiBhbHQ9XCJQcmFjdGljZSBRdWVzdGlvbiBJbWFnZVwiIHN0eWxlPVwibWF4LXdpZHRoOiAxMDAlOyBoZWlnaHQ6IDExMHB4OyBvYmplY3QtZml0OiBjb250YWluO21hcmdpbi10b3A6IDIwcHg7XCI+XHJcbiAgICAgICAgPGRpdiBpZD1cInByYWN0aWNlX3ByZWRpY3RlZF90ZXh0X2NvbnRhaW5lclwiIHN0eWxlPVwibWFyZ2luLXRvcDogMjBweDtcIj5cclxuICAgICAgICAgIDxkaXYgc3R5bGU9XCJtYXJnaW4tdG9wOiAxMHB4O1wiPlByZWRpY3RlZCBUZXh0OjwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBpZD1cInByYWN0aWNlX3ByZWRpY3RlZF90ZXh0XCIgc3R5bGU9XCJtYXJnaW4tdG9wOiAyMHB4O1wiPjwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgaWQ9XCJwcmFjdGljZV90b2tlbl9pbnB1dF9jb250YWluZXJcIiBzdHlsZT1cIm1hcmdpbi10b3A6IDIwcHg7XCI+XHJcbiAgICAgICAgICA8aW5wdXQgaWQ9XCJwcmFjdGljZV90b2tlbl9pbnB1dFwiIHR5cGU9XCJ0ZXh0XCIgc3R5bGU9XCJ3aWR0aDogMTAwJTsgZm9udC1zaXplOiAxNnB4OyBwYWRkaW5nOiA4cHg7XCI+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgYDtcclxuICAgICQoXCIjcHJhY3RpY2VfY29udGVudFwiKS5odG1sKGNvbnRlbnRIdG1sKTtcclxuICBcclxuICAgIC8vIEdldCB0aGUgY3VycmVudCBwcmFjdGljZSBxdWVzdGlvbi5cclxuICAgIGNvbnN0IHF1ZXN0aW9uID0gcHJhY3RpY2VRdWVzdGlvbnNbcHJhY3RpY2VJbmRleF07XHJcbiAgXHJcbiAgICAvLyBTZXQgdGhlIHF1ZXN0aW9uIGltYWdlLlxyXG4gICAgaWYgKHF1ZXN0aW9uW1wiaW1hZ2VcIl0pIHtcclxuICAgICAgJChcIiNwcmFjdGljZV9xdWVzdGlvbl9pbWFnZVwiKS5hdHRyKFwic3JjXCIsIFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LFwiICsgcXVlc3Rpb25bXCJpbWFnZVwiXSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAkKFwiI3ByYWN0aWNlX3F1ZXN0aW9uX2ltYWdlXCIpLmF0dHIoXCJzcmNcIiwgXCJcIik7XHJcbiAgICB9XHJcbiAgXHJcbiAgXHJcbiAgICAvLyBQcmVwb3B1bGF0ZSB0aGUgdGV4dCBpbnB1dC5cclxuICAgIGxldCB0b2tlbnNDb25jYXRlbmF0ZWQgPSBcIlwiO1xyXG4gICAgaWYgKHF1ZXN0aW9uW1widG9rZW5faW5mb1wiXSAmJiBBcnJheS5pc0FycmF5KHF1ZXN0aW9uW1widG9rZW5faW5mb1wiXSkpIHtcclxuICAgICAgdG9rZW5zQ29uY2F0ZW5hdGVkID0gcXVlc3Rpb25bXCJ0b2tlbl9pbmZvXCJdXHJcbiAgICAgICAgLm1hcChpdGVtID0+IGl0ZW0udG9rZW4pXHJcbiAgICAgICAgLmZpbHRlcih0b2tlbiA9PiB0b2tlbiAhPT0gXCI8fGltX2VuZHw+XCIpXHJcbiAgICAgICAgLm1hcCh0b2tlbiA9PiB0b2tlbi5yZXBsYWNlKC/EoC9nLCBcIiBcIikpXHJcbiAgICAgICAgLmpvaW4oJycpO1xyXG4gICAgfVxyXG4gICAgJChcIiNwcmFjdGljZV90b2tlbl9pbnB1dFwiKS52YWwoZml4U3BhY2luZyh0b2tlbnNDb25jYXRlbmF0ZWQpKTtcclxuXHJcbiAgICBpZihkYXRhW2N1cnJlbnRDb25kaXRpb25JbmRleF0uY29uZGl0aW9uID09IFwibm9uLWhpZ2hsaWdodGVkXCIpeyBcclxuICAgICAgICAkKFwiI3ByYWN0aWNlX3ByZWRpY3RlZF90ZXh0XCIpLmh0bWwoZml4U3BhY2luZyh0b2tlbnNDb25jYXRlbmF0ZWQpKTtcclxuICAgIH0gICBcclxuICAgIGVsc2UgaWYgKGRhdGFbY3VycmVudENvbmRpdGlvbkluZGV4XS5jb25kaXRpb24gPT0gXCJoaWdobGlnaHRlZFwiKXtcclxuICAgICAgICBsZXQgcHJlZGljdGVkSHRtbCA9IFwiXCI7XHJcbiAgICAgICAgICAgIGlmIChxdWVzdGlvbltcInRva2VuX2luZm9cIl0gJiYgQXJyYXkuaXNBcnJheShxdWVzdGlvbltcInRva2VuX2luZm9cIl0pKSB7XHJcbiAgICAgICAgICAgICAgICBwcmVkaWN0ZWRIdG1sID0gcXVlc3Rpb25bXCJ0b2tlbl9pbmZvXCJdXHJcbiAgICAgICAgICAgICAgICAuZmlsdGVyKGl0ZW0gPT4gaXRlbS50b2tlbiAhPT0gXCI8fGltX2VuZHw+XCIpXHJcbiAgICAgICAgICAgICAgICAubWFwKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IHRva2VuVGV4dCA9IGl0ZW0udG9rZW4ucmVwbGFjZSgvxKAvZywgXCIgXCIpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHByb2IgPSAoaXRlbS50b3BfNV90b2tlbnMgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0udG9wXzVfdG9rZW5zWzBdICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YgaXRlbS50b3BfNV90b2tlbnNbMF0ucHJvYmFiaWxpdHkgPT09IFwibnVtYmVyXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGl0ZW0udG9wXzVfdG9rZW5zWzBdLnByb2JhYmlsaXR5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IDE7XHJcbiAgICAgICAgICAgICAgICBsZXQgaW50ZW5zaXR5ID0gMSAtIHByb2I7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYDxzcGFuIHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDAsIDAsICR7aW50ZW5zaXR5fSk7XCI+JHtmaXhTcGFjaW5nKHRva2VuVGV4dCl9PC9zcGFuPmA7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmpvaW4oJycpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgJChcIiNwcmFjdGljZV9wcmVkaWN0ZWRfdGV4dFwiKS5odG1sKHByZWRpY3RlZEh0bWwpO1xyXG4gICAgICAgIH0gICAgXHJcbiAgXHJcbiAgICAvLyBBZnRlciBzZXR0aW5nIHRoZSBwcmVkaWN0ZWQgdGV4dCBpbiAjcHJhY3RpY2VfcHJlZGljdGVkX3RleHQsIGFkZDpcclxuICAgIGlmIChjb25kaXRpb24gPT09IFwiaGlnaGxpZ2h0ZWRcIil7XHJcbiAgICAgICAgbGV0IGFkZGl0aW9uYWxUZXh0ID0gXCJcIjtcclxuICAgICAgICBpZiAocHJhY3RpY2VJbmRleCA9PT0gMCkge1xyXG4gICAgICAgIGFkZGl0aW9uYWxUZXh0ID0gXCJUaGUgbW9kZWwgaXMgdW5jZXJ0YWluIGFib3V0IHRoZSBjaGFyYWN0ZXJzICdFJywgJ0YnLCBhbmQgJ0QnIFwiO1xyXG4gICAgICAgIH0gZWxzZSBpZiAocHJhY3RpY2VJbmRleCA9PT0gMSkge1xyXG4gICAgICAgIGFkZGl0aW9uYWxUZXh0ID0gXCJUaGUgbW9kZWwgaXMgdW5jZXJ0YWluIGFib3V0IHRocmVlIGNoYXJhY3RlcnNcIjtcclxuICAgICAgICB9IGVsc2UgaWYgKHByYWN0aWNlSW5kZXggPT09IDIpIHtcclxuICAgICAgICBhZGRpdGlvbmFsVGV4dCA9IFwidGhlIG1vZGVsIHNob3dzIG5vIHVuY2VydGFpbnR5IChpLmUuIGl0IGlzIGNvbmZpZGVudCBhYm91dCB0aGUgZnVsbCB0cmFuc2NyaXB0aW9uKVwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkKFwiI3ByYWN0aWNlX3ByZWRpY3RlZF90ZXh0XCIpLmFwcGVuZChcclxuICAgICAgICBgPHNwYW4gc3R5bGU9XCJmb250LXN0eWxlOiBpdGFsaWM7IG1hcmdpbi1sZWZ0OiAyMHB4OyB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1wiPiR7YWRkaXRpb25hbFRleHR9PC9zcGFuPmBcclxuICAgICAgICApO1xyXG4gICAgXHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vIEJ1aWxkIG5hdmlnYXRpb24gYnV0dG9ucy5cclxuICAgIGNvbnN0IG5hdkh0bWwgPSBgXHJcbiAgICAgIDxkaXY+XHJcbiAgICAgICAgPGlucHV0IGlkPVwicHJhY3RpY2VfcHJldlwiIHR5cGU9XCJidXR0b25cIiB2YWx1ZT1cIlByZXZpb3VzIEV4YW1wbGVcIj5cclxuICAgICAgICA8aW5wdXQgaWQ9XCJwcmFjdGljZV9uZXh0XCIgdHlwZT1cImJ1dHRvblwiIHZhbHVlPVwiTmV4dCBFeGFtcGxlXCIgc3R5bGU9XCJtYXJnaW4tbGVmdDogMTBweDtcIj5cclxuICAgICAgPC9kaXY+XHJcbiAgICBgO1xyXG4gICAgJChcIiNwcmFjdGljZV9uYXZcIikuaHRtbChuYXZIdG1sKTtcclxuICBcclxuICAgIC8vIEF0dGFjaCBidXR0b24gaGFuZGxlcnMuXHJcbiAgICAkKFwiI3ByYWN0aWNlX3ByZXZcIikub2ZmKFwiY2xpY2tcIikub24oXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHByYWN0aWNlSW5kZXggPSAocHJhY3RpY2VJbmRleCAtIDEgKyBwcmFjdGljZVF1ZXN0aW9ucy5sZW5ndGgpICUgcHJhY3RpY2VRdWVzdGlvbnMubGVuZ3RoO1xyXG4gICAgICBzaG93UHJhY3RpY2VSb3VuZChvbkNvbXBsZXRlKTtcclxuICAgIH0pO1xyXG4gICAgJChcIiNwcmFjdGljZV9uZXh0XCIpLm9mZihcImNsaWNrXCIpLm9uKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICBwcmFjdGljZUluZGV4ID0gKHByYWN0aWNlSW5kZXggKyAxKSAlIHByYWN0aWNlUXVlc3Rpb25zLmxlbmd0aDtcclxuICAgICAgc2hvd1ByYWN0aWNlUm91bmQob25Db21wbGV0ZSk7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgXHJcblxyXG5cclxuLyogTmV3IGZ1bmN0aW9uOiBTaG93IGVuZC1vZi1jb25kaXRpb24gcGFnZSAqL1xyXG5mdW5jdGlvbiBzaG93RW5kQ29uZGl0aW9uUGFnZShjb25kaXRpb246IHN0cmluZykge1xyXG4gICAgJChcIiNtYWluX2JveF9leHBlcmltZW50XCIpLmhpZGUoKTtcclxuICAgIGNvbnN0IGN1cnJlbnRDb25kaXRpb24gPSBkYXRhW2N1cnJlbnRDb25kaXRpb25JbmRleF0uY29uZGl0aW9uO1xyXG4gICAgJChcIiNjb25kaXRpb25fbGFiZWxcIikudGV4dChjdXJyZW50Q29uZGl0aW9uKTtcclxuICAgIC8vIFJlc2V0IGVhY2ggc2xpZGVyIHRvIGEgZGVmYXVsdCwgZS5nLiwgMFxyXG4gICAgJChcIiNtZW50YWxfZGVtYW5kXCIpLnZhbChcIjBcIik7XHJcbiAgICAkKFwiI2h1cnJpZWRfZGVtYW5kXCIpLnZhbChcIjBcIik7XHJcbiAgICAkKFwiI3BlcmZvcm1hbmNlXCIpLnZhbChcIjBcIik7XHJcbiAgICAkKFwiI2VmZm9ydFwiKS52YWwoXCIwXCIpO1xyXG4gICAgJChcIiNmcnVzdHJhdGlvblwiKS52YWwoXCIwXCIpO1xyXG5cclxuICAgICQoXCIjbmFzYV90bHhfc3VydmV5XCIpLnNob3coKTtcclxuICAgXHJcbn1cclxuXHJcblxyXG5cclxuZnVuY3Rpb24gbmV4dF9xdWVzdGlvbigpIHtcclxuICAgIC8vIHJlc3RvcmUgcHJldmlvdXMgc3RhdGUgb2YgVUlcclxuICAgICQoXCIjbWFpbl9ib3hfZXhwZXJpbWVudFwiKS5zaG93KCk7XHJcbiAgICAkKFwiI2J1dHRvbl9uZXh0XCIpLmhpZGUoKVxyXG4gICAgJCgnI2J1dHRvbl9xdWl0JykuaGlkZSgpXHJcbiAgICBrZXlsb2dzID0gW107XHJcbiAgICAvLyQoXCIjcmFuZ2VfdmFsXCIpLnZhbCh1c2VyX3RydXN0KVxyXG4gICAgLy8gY29uc29sZS5sb2coXCJxdWVzdGlvbiBpbmRleCwgY29uZGl0aW9uIGluZGV4XCIsIGN1cnJlbnRRdWVzdGlvbkluZGV4LCBjdXJyZW50Q29uZGl0aW9uSW5kZXgpICAgICAgICBcclxuXHJcbiAgICBpZiAoY3VycmVudENvbmRpdGlvbkluZGV4ID49IGRhdGEubGVuZ3RoKSB7XHJcbiAgICAgICAgJChcIiNtYWluX2JveF9leHBlcmltZW50XCIpLmhpZGUoKTtcclxuICAgICAgICAkKFwiI3F1YWxpdGF0aXZlX3NlY3Rpb25cIikuc2hvdygpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGxldCBjb25kaXRpb25CbG9jayA9IGRhdGFbY3VycmVudENvbmRpdGlvbkluZGV4XTtcclxuICAgIC8vIGNvbnNvbGUubG9nKFwiQ29uZGl0aW9uIGJsb2NrXCIsIGNvbmRpdGlvbkJsb2NrKVxyXG4gICAgLy8gY29uc29sZS5sb2coZGF0YSlcclxuXHJcbiAgICAvLyBJZiB3ZSBhcmUgYXQgdGhlIHN0YXJ0IHBhZ2UgZm9yIHRoaXMgY29uZGl0aW9uLCBzaG93IGl0LlxyXG4gICAgaWYgKGN1cnJlbnRRdWVzdGlvbkluZGV4ID09PSAwKSB7XHJcbiAgICAgICAgc2hvd1N0YXJ0Q29uZGl0aW9uUGFnZShjb25kaXRpb25CbG9jay5jb25kaXRpb24pO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBJZiB3ZSd2ZSBnb25lIHBhc3QgYWxsIHF1ZXN0aW9ucyBpbiB0aGlzIGNvbmRpdGlvbiwgc2hvdyB0aGUgZW5kLW9mLWNvbmRpdGlvbiBwYWdlLlxyXG4gICAgaWYgKGN1cnJlbnRRdWVzdGlvbkluZGV4ID4gY29uZGl0aW9uQmxvY2sucXVlc3Rpb25zLmxlbmd0aCkge1xyXG4gICAgICAgIHNob3dFbmRDb25kaXRpb25QYWdlKGNvbmRpdGlvbkJsb2NrLmNvbmRpdGlvbik7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBxdWVzdGlvbiA9IGNvbmRpdGlvbkJsb2NrLnF1ZXN0aW9uc1tjdXJyZW50UXVlc3Rpb25JbmRleCAtIDFdO1xyXG4gICAgLy8gY29uc29sZS5sb2coXCJRdWVzdGlvblwiLCBjdXJyZW50UXVlc3Rpb25JbmRleCwgcXVlc3Rpb24pXHJcbiAgICBcclxuICAgIFxyXG4gICAgLy8gLS0tIFVwZGF0ZSBQYXJ0IDEgZWxlbWVudHMgLS0tXHJcbiAgICAvLyBGb3IgdGhlIGltYWdlOiBhc3N1bWUgYSB2YWxpZCBCYXNlNjQgc3RyaW5nIGZvciBub3cuXHJcbiAgICBpZiAocXVlc3Rpb25bXCJpbWFnZVwiXSkge1xyXG4gICAgICAkKFwiI3F1ZXN0aW9uX2ltYWdlXCIpLmF0dHIoXCJzcmNcIiwgXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsXCIgKyBxdWVzdGlvbltcImltYWdlXCJdKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICQoXCIjcXVlc3Rpb25faW1hZ2VcIikuYXR0cihcInNyY1wiLCBcIlwiKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gQ29uY2F0ZW5hdGUgdG9rZW5zICh3aXRoIHJlcGxhY2VtZW50IG9mIMSgIGFuZCBza2lwcGluZyA8fGltX2VuZHw+KS5cclxuICAgIGxldCB0b2tlbnNDb25jYXRlbmF0ZWQgPSBcIlwiO1xyXG4gICAgaWYgKHF1ZXN0aW9uW1widG9rZW5faW5mb1wiXSAmJiBBcnJheS5pc0FycmF5KHF1ZXN0aW9uW1widG9rZW5faW5mb1wiXSkpIHtcclxuICAgICAgICB0b2tlbnNDb25jYXRlbmF0ZWQgPSBxdWVzdGlvbltcInRva2VuX2luZm9cIl1cclxuICAgICAgICAgIC5tYXAoaXRlbSA9PiBpdGVtLnRva2VuKVxyXG4gICAgICAgICAgLmZpbHRlcih0b2tlbiA9PiB0b2tlbiAhPT0gXCI8fGltX2VuZHw+XCIpXHJcbiAgICAgICAgICAubWFwKHRva2VuID0+IHRva2VuLnJlcGxhY2UoL8SgL2csIFwiIFwiKSlcclxuICAgICAgICAgIC5qb2luKCcnKTtcclxuICAgIH1cclxuICAgICQoXCIjdG9rZW5faW5wdXRcIikudmFsKGZpeFNwYWNpbmcodG9rZW5zQ29uY2F0ZW5hdGVkKSk7XHJcbiAgICBwcmV2aW91c0lucHV0ID0gJChcIiN0b2tlbl9pbnB1dFwiKS52YWwoKSBhcyBzdHJpbmcgfHwgXCJcIjtcclxuICAgIGlmKGRhdGFbY3VycmVudENvbmRpdGlvbkluZGV4XS5jb25kaXRpb24gPT0gXCJub24taGlnaGxpZ2h0ZWRcIil7IFxyXG4gICAgICAgICQoXCIjcHJlZGljdGVkX3RleHRcIikuaHRtbChmaXhTcGFjaW5nKHRva2Vuc0NvbmNhdGVuYXRlZCkpO1xyXG4gICAgfSAgIFxyXG4gICAgZWxzZSBpZiAoZGF0YVtjdXJyZW50Q29uZGl0aW9uSW5kZXhdLmNvbmRpdGlvbiA9PSBcImhpZ2hsaWdodGVkXCIpe1xyXG4gICAgICAgIGxldCBwcmVkaWN0ZWRIdG1sID0gXCJcIjtcclxuICAgICAgICAgICAgaWYgKHF1ZXN0aW9uW1widG9rZW5faW5mb1wiXSAmJiBBcnJheS5pc0FycmF5KHF1ZXN0aW9uW1widG9rZW5faW5mb1wiXSkpIHtcclxuICAgICAgICAgICAgICAgIHByZWRpY3RlZEh0bWwgPSBxdWVzdGlvbltcInRva2VuX2luZm9cIl1cclxuICAgICAgICAgICAgICAgIC5maWx0ZXIoaXRlbSA9PiBpdGVtLnRva2VuICE9PSBcIjx8aW1fZW5kfD5cIilcclxuICAgICAgICAgICAgICAgIC5tYXAoaXRlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdG9rZW5UZXh0ID0gaXRlbS50b2tlbi5yZXBsYWNlKC/EoC9nLCBcIiBcIik7XHJcbiAgICAgICAgICAgICAgICBsZXQgcHJvYiA9IChpdGVtLnRvcF81X3Rva2VucyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS50b3BfNV90b2tlbnNbMF0gJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiBpdGVtLnRvcF81X3Rva2Vuc1swXS5wcm9iYWJpbGl0eSA9PT0gXCJudW1iZXJcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gaXRlbS50b3BfNV90b2tlbnNbMF0ucHJvYmFiaWxpdHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogMTtcclxuICAgICAgICAgICAgICAgIGxldCBpbnRlbnNpdHkgPSAxIC0gcHJvYjtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgPHNwYW4gc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMCwgMCwgJHtpbnRlbnNpdHl9KTtcIj4ke2ZpeFNwYWNpbmcodG9rZW5UZXh0KX08L3NwYW4+YDtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuam9pbignJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAkKFwiI3ByZWRpY3RlZF90ZXh0XCIpLmh0bWwocHJlZGljdGVkSHRtbCk7XHJcbiAgICAgICAgfSAgICBcclxuXHJcbiAgICAvLyAoVXBkYXRlIHByb2dyZXNzIGFuZCBvdGhlciBlbGVtZW50cyBhcyBuZWNlc3NhcnkpXHJcbiAgICAkKFwiI3Byb2dyZXNzXCIpLnRleHQoYFNlY3Rpb24gJHtjdXJyZW50Q29uZGl0aW9uSW5kZXggKyAxfSBvZiAke2RhdGEubGVuZ3RofSB8IFF1ZXN0aW9uICR7Y3VycmVudFF1ZXN0aW9uSW5kZXh9IG9mICR7Y29uZGl0aW9uQmxvY2sucXVlc3Rpb25zLmxlbmd0aH1gKTtcclxuICAgICAgICAvLyBBbHdheXMgc2hvdyBQYXJ0IDEgYW5kIGhpZGUgUGFydCAyIHdoZW4gYSBuZXcgcXVlc3Rpb24gbG9hZHMuXHJcbiAgICAgICAgJChcIiNwYXJ0MVwiKS5zaG93KCk7XHJcbiAgICAgICAgJChcIiNwYXJ0MlwiKS5oaWRlKCk7XHJcbiAgICBcclxuLy8gQXQgdGhlIGVuZCBvZiBuZXh0X3F1ZXN0aW9uKCksIGFmdGVyIHVwZGF0aW5nIGFsbCBQYXJ0IDEgZWxlbWVudHM6XHJcbiQoXCIjdG9rZW5faW5wdXRfY29udGFpbmVyXCIpLmhpZGUoKTtcclxuJChcIiNidXR0b25fbmV4dF9wYXJ0MVwiKS5oaWRlKCk7XHJcblxyXG4gICAgLy8gU2V0IHRoZSBwcmVjaXNlIHF1ZXN0aW9uIHN0YXJ0IHRpbWUgKGluIG1zKVxyXG4gICAgcXVlc3Rpb25TdGFydFRpbWUgPSBEYXRlLm5vdygpO1xyXG5cclxuXHJcbi8vIFN0YXJ0IGEgMjAtc2Vjb25kIHRpbWVyIGZvciBQYXJ0IDFcclxuLy8gY2xlYXJUaW1lb3V0KHBhcnQxVGltZXIpO1xyXG4vLyBwYXJ0MVRpbWVyID0gd2luZG93LnNldFRpbWVvdXQoYXV0b1N1Ym1pdFBhcnQxLCAyMDAwMCk7XHJcblxyXG4vLyBSZXNldCBhbmQgc3RhcnQgdGhlIHRpbWVyIGZvciBQYXJ0IDFcclxucmVtYWluaW5nVGltZSA9IDIwO1xyXG4kKFwiI3RpbWVyXCIpLnRleHQocmVtYWluaW5nVGltZSk7XHJcbiQoXCIjdGltZXJcIikuc2hvdygpO1xyXG5cclxuLy8gQ2xlYXIgYW55IHByZXZpb3VzIGludGVydmFsXHJcbmlmIChwYXJ0MUludGVydmFsKSB7XHJcbiAgICBjbGVhckludGVydmFsKHBhcnQxSW50ZXJ2YWwpO1xyXG59XHJcblxyXG4vLyBTdGFydCBhIG5ldyBpbnRlcnZhbCB0aGF0IGNvdW50cyBkb3duIGV2ZXJ5IHNlY29uZFxyXG5wYXJ0MUludGVydmFsID0gd2luZG93LnNldEludGVydmFsKCgpID0+IHtcclxuICAgIHJlbWFpbmluZ1RpbWUgLT0gMTtcclxuICAgICQoXCIjdGltZXJcIikudGV4dChyZW1haW5pbmdUaW1lKTtcclxuXHJcbiAgICAvLyBXaGVuIHRoZXJlIGFyZSAxNSBzZWNvbmRzIG9yIGxlc3MgcmVtYWluaW5nLCBzaG93IHRoZSBpbnB1dCBib3ggYW5kIE5leHQgYnV0dG9uXHJcbiAgICBpZiAocmVtYWluaW5nVGltZSA8PSAxNSkge1xyXG4gICAgICAgICQoXCIjdG9rZW5faW5wdXRfY29udGFpbmVyXCIpLnNob3coKTtcclxuICAgICAgICAkKFwiI2J1dHRvbl9uZXh0X3BhcnQxXCIpLnNob3coKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAocmVtYWluaW5nVGltZSA8PSAwKSB7XHJcbiAgICAgICAgY2xlYXJJbnRlcnZhbChwYXJ0MUludGVydmFsKTtcclxuICAgICAgICBhdXRvU3VibWl0UGFydDEoKTtcclxuICAgICAgICAkKFwiI3RpbWVyXCIpLmhpZGUoKTtcclxuICAgIH1cclxufSwgMTAwMCk7XHJcblxyXG5cclxufVxyXG5cclxuLy8gZ2V0IHVzZXIgaWQgYW5kIGxvYWQgcXVldWVcclxuLy8gdHJ5IHRvIHNlZSBpZiBzdGFydCBvdmVycmlkZSB3YXMgcGFzc2VkXHJcbmNvbnN0IHVybFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7XHJcbmNvbnN0IHN0YXJ0T3ZlcnJpZGUgPSB1cmxQYXJhbXMuZ2V0KCdzdGFydCcpO1xyXG5jb25zdCBVSURGcm9tVVJMID0gdXJsUGFyYW1zLmdldChcInVpZFwiKVxyXG5nbG9iYWxUaGlzLnVybF9kYXRhID0gcGFyYW1zVG9PYmplY3QodXJsUGFyYW1zLmVudHJpZXMoKSlcclxuXHJcbmlmIChnbG9iYWxUaGlzLnVybF9kYXRhWydzdHVkeV9pZCddID09IG51bGwpIHtcclxuICAgIGdsb2JhbFRoaXMudXJsX2RhdGFbJ3N0dWR5X2lkJ10gPSBcImRlbW9fc3R1ZHlcIlxyXG59XHJcbmlmIChnbG9iYWxUaGlzLnVybF9kYXRhWydwcm9saWZpY19pZCddID09IG51bGwpIHtcclxuICAgIGdsb2JhbFRoaXMudXJsX2RhdGFbJ3Byb2xpZmljX2lkJ10gPSBcImRlbW9fdXNlclwiXHJcbn1cclxuaWYgKGdsb2JhbFRoaXMudXJsX2RhdGFbJ3Nlc3Npb25faWQnXSA9PSBudWxsKSB7XHJcbiAgICBnbG9iYWxUaGlzLnVybF9kYXRhWydzZXNzaW9uX2lkJ10gPSBcImRlbW9fc2Vzc2lvblwiXHJcbn1cclxuXHJcbmlmIChVSURGcm9tVVJMICE9IG51bGwpIHtcclxuICAgIGdsb2JhbFRoaXMudWlkID0gVUlERnJvbVVSTCBhcyBzdHJpbmdcclxuICAgIGlmIChnbG9iYWxUaGlzLnVpZCA9PSBcInByb2xpZmljX3JhbmRvbVwiKSB7XHJcbiAgICAgICAgbGV0IHF1ZXVlX2lkID0gYCR7TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNCl9YC5wYWRTdGFydCgzLCBcIjBcIilcclxuICAgICAgICBnbG9iYWxUaGlzLnVpZCA9IGAke3VybFBhcmFtcy5nZXQoXCJwcm9saWZpY19xdWV1ZV9uYW1lXCIpfS8ke3F1ZXVlX2lkfWBcclxuICAgIH1cclxufSBlbHNlIGlmIChERVZNT0RFKSB7XHJcbiAgICBnbG9iYWxUaGlzLnVpZCA9IFwiZGVtb1wiXHJcbn0gZWxzZSB7XHJcbiAgICBsZXQgVUlEX21heWJlOiBhbnkgPSBudWxsXHJcbiAgICB3aGlsZSAoVUlEX21heWJlID09IG51bGwpIHtcclxuICAgICAgICBVSURfbWF5YmUgPSBwcm9tcHQoXCJFbnRlciB5b3VyIHVzZXIgaWQuIFBsZWFzZSBnZXQgaW4gdG91Y2ggaWYgeW91IHdlcmUgbm90IGFzc2lnbmVkIGFuIGlkIGJ1dCB3aXNoIHRvIHBhcnRpY2lwYXRlIGluIHRoaXMgZXhwZXJpbWVudC5cIilcclxuICAgIH1cclxuICAgIGdsb2JhbFRoaXMudWlkID0gVUlEX21heWJlIVxyXG59XHJcblxyXG4vLyB2ZXJzaW9uIGZvciBwYXBlclxyXG5pZiAoREVWTU9ERSkge1xyXG4gICAgTU9DS01PREUgPSB0cnVlXHJcbn0gZWxzZSBpZiAoZ2xvYmFsVGhpcy51cmxfZGF0YVsnc2Vzc2lvbl9pZCddLnN0YXJ0c1dpdGgoXCJkZW1vXCIpKSB7XHJcbiAgICBNT0NLTU9ERSA9IHRydWVcclxufVxyXG5cclxuLy8gY29uc29sZS5sb2coXCJSdW5uaW5nIHdpdGggVUlEXCIsIGdsb2JhbFRoaXMudWlkKVxyXG5sb2FkX2RhdGEoKS5jYXRjaCgoX2Vycm9yKSA9PiB7XHJcbiAgICAvL2FsZXJ0KFwiSW52YWxpZCB1c2VyIGlkLlwiKVxyXG4gICAgLy8gY29uc29sZS5sb2coXCJJbnZhbGlkIHVzZXIgaWQuXCIpXHJcbiAgICAvLyBjb25zb2xlLmxvZyhnbG9iYWxUaGlzLnVpZCEpXHJcbiAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKClcclxufVxyXG4pLnRoZW4oKG5ld19kYXRhKSA9PiB7XHJcbiAgICBkYXRhID0gbmV3X2RhdGFcclxuICAgIGlmIChzdGFydE92ZXJyaWRlICE9IG51bGwpIHtcclxuICAgICAgICBjdXJyZW50UXVlc3Rpb25JbmRleCA9IHBhcnNlSW50KHN0YXJ0T3ZlcnJpZGUpIC0gMVxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiU3RhcnRpbmcgZnJvbVwiLCBjdXJyZW50UXVlc3Rpb25JbmRleClcclxuICAgIH1cclxuICAgIC8vIG5leHRfcXVlc3Rpb24oKVxyXG4gICAgbmV4dF9pbnN0cnVjdGlvbnMoMClcclxuICAgICQoXCIjbWFpbl9ib3hfaW5zdHJ1Y3Rpb25zXCIpLnNob3coKVxyXG4gICAgJChcIiNpbnN0cnVjdGlvbnNfYW5kX2RlY29yYXRpb25zXCIpLmhpZGUoKVxyXG59KVxyXG5cclxuLy8gY29uc29sZS5sb2coXCJTdGFydGluZyBzZXNzaW9uIHdpdGggVUlEOlwiLCBnbG9iYWxUaGlzLnVpZCEpXHJcblxyXG5sZXQgYWxlcnRfYWN0aXZlID0gZmFsc2VcclxuZG9jdW1lbnQub252aXNpYmlsaXR5Y2hhbmdlID0gKCkgPT4ge1xyXG4gICAgaWYgKCFhbGVydF9hY3RpdmUpIHtcclxuICAgICAgICBjb3VudF9leGl0ZWRfcGFnZSArPSAxXHJcbiAgICAgICAgYWxlcnRfYWN0aXZlID0gdHJ1ZVxyXG4gICAgICAgIC8vaWYgKCEoZ2xvYmFsVGhpcy51aWQhLnN0YXJ0c1dpdGgoXCJkZW1vXCIpKSkge1xyXG4gICAgICAgIC8vICAgIGFsZXJ0KFwiUGxlYXNlIGRvbid0IGxlYXZlIHRoZSBwYWdlLiBJZiB5b3UgZG8gc28gYWdhaW4sIHdlIG1heSByZXN0cmljdCBwYXlpbmcgeW91LlwiKVxyXG4gICAgICAgIC8vfVxyXG4gICAgICAgIGFsZXJ0X2FjdGl2ZSA9IGZhbHNlXHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIFdoZW4gdGhlIERPTSBpcyByZWFkeTpcclxuJChkb2N1bWVudCkucmVhZHkoKCkgPT4ge1xyXG4gICAgLy8gVHJhbnNpdGlvbiBmcm9tIFBhcnQgMSAocXVlc3Rpb24pIHRvIFBhcnQgMiAoY29uZmlkZW5jZSByYXRpbmcpXHJcbiAgICAkKFwiI2J1dHRvbl9uZXh0X3BhcnQxXCIpLm9uKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIC8vIENsZWFyIHRpbWVyIGFuZCB0cmFuc2l0aW9uIHRvIFBhcnQgMiAoY29uZmlkZW5jZSByYXRpbmcpXHJcbiAgICAgICAgbG9nSW5wdXRFdmVudChcIm5leHRfYnV0dG9uX3N1Ym1pdHRlZFwiKTtcclxuICAgICAgICBjbGVhckludGVydmFsKHBhcnQxSW50ZXJ2YWwpO1xyXG4gICAgICAgICQoXCIjdGltZXJcIikuaGlkZSgpO1xyXG4gICAgICAgICQoXCIjcGFydDFcIikuaGlkZSgpO1xyXG4gICAgICAgICQoXCIjcGFydDJcIikuc2hvdygpO1xyXG5cclxuICAgIH0pO1xyXG4gIFxyXG4gICAgLy8gSGFuZGxlIGNvbmZpZGVuY2UgcmF0aW5nIHNlbGVjdGlvbnM6XHJcbiAgICAkKFwiLmNvbmZpZGVuY2UtYnV0dG9uXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgbGV0IHJhdGluZyA9IHBhcnNlSW50KCQodGhpcykuYXR0cihcImRhdGEtcmF0aW5nXCIpIGFzIHN0cmluZyk7XHJcbiAgICAgICAgLy8gUmVtb3ZlICdzZWxlY3RlZCcgZnJvbSBhbGwgYnV0dG9ucywgdGhlbiBhZGQgaXQgdG8gdGhlIGNsaWNrZWQgb25lLlxyXG4gICAgICAgICQoXCIuY29uZmlkZW5jZS1idXR0b25cIikucmVtb3ZlQ2xhc3MoXCJzZWxlY3RlZFwiKTtcclxuICAgICAgICAkKHRoaXMpLmFkZENsYXNzKFwic2VsZWN0ZWRcIik7XHJcbiAgICAgICAgLy8gU3RvcmUgdGhlIHJhdGluZyBhbmQgZW5hYmxlIHRoZSBQYXJ0IDIgTmV4dCBidXR0b24uXHJcbiAgICAgICAgY29uZmlkZW5jZVJhdGluZyA9IHJhdGluZztcclxuICAgICAgICAkKFwiI2J1dHRvbl9uZXh0X3BhcnQyXCIpLnJlbW92ZUF0dHIoXCJkaXNhYmxlZFwiKTtcclxuICAgIH0pO1xyXG4gIFxyXG4gICAgLy8gVHJhbnNpdGlvbiBmcm9tIFBhcnQgMiAoY29uZmlkZW5jZSByYXRpbmcpIHRvIHRoZSBuZXh0IHF1ZXN0aW9uLlxyXG4gICAgJChcIiNidXR0b25fbmV4dF9wYXJ0MlwiKS5vbihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgLy8gTG9nIHRoZSBjb25maWRlbmNlIHJhdGluZyBhbG9uZyB3aXRoIG90aGVyIGRhdGEgaWYgbmVlZGVkLlxyXG4gICAgICBsZXQgbG9nZ2VkX2RhdGEgPSB7XHJcbiAgICAgICAgXCJxdWVzdGlvbl9pXCI6IGN1cnJlbnRRdWVzdGlvbkluZGV4LFxyXG4gICAgICAgIFwicWlkXCIgOiBxdWVzdGlvbltcInFpZFwiXSxcclxuICAgICAgICBcImNvbmRpdGlvblwiOiBkYXRhW2N1cnJlbnRDb25kaXRpb25JbmRleF0uY29uZGl0aW9uLFxyXG4gICAgICAgIFwiY29uZmlkZW5jZV9yYXRpbmdcIjogY29uZmlkZW5jZVJhdGluZyxcclxuICAgICAgICBcImtleWxvZ3NcIjoga2V5bG9ncyxcclxuICAgICAgICAvLyAuLi4gaW5jbHVkZSBvdGhlciBsb2dnaW5nIGZpZWxkcyBhcyBkZXNpcmVkXHJcbiAgICAgIH07XHJcbiAgICAgIGxvZ19kYXRhKGxvZ2dlZF9kYXRhKTtcclxuICAgICAgXHJcbiAgICAgIC8vIFJlc2V0IFBhcnQgMiBVSSBlbGVtZW50cyBmb3IgdGhlIG5leHQgcXVlc3Rpb24uXHJcbiAgICAgICQoXCIjYnV0dG9uX25leHRfcGFydDJcIikuYXR0cihcImRpc2FibGVkXCIsIFwidHJ1ZVwiKTtcclxuICAgICAgJChcIi5jb25maWRlbmNlLWJ1dHRvblwiKS5yZW1vdmVDbGFzcyhcInNlbGVjdGVkXCIpO1xyXG4gICAgICBjb25maWRlbmNlUmF0aW5nID0gLTE7XHJcbiAgICAgIFxyXG4gICAgICAvLyBTd2l0Y2ggYmFjayB0byBQYXJ0IDEgYW5kIGxvYWQgdGhlIG5leHQgcXVlc3Rpb24uXHJcbiAgICAgICQoXCIjcGFydDJcIikuaGlkZSgpO1xyXG4gICAgICAkKFwiI3BhcnQxXCIpLnNob3coKTtcclxuICAgICAgY3VycmVudFF1ZXN0aW9uSW5kZXgrKztcclxuICAgICAgbmV4dF9xdWVzdGlvbigpO1xyXG4gICAgfSk7XHJcbiAgICAkKFwiaW5wdXRbbmFtZT0nbGF0ZXhFeHBlcmllbmNlJ10sIGlucHV0W25hbWU9J2xhdGV4RnJlcXVlbmN5J10sIGlucHV0W25hbWU9J2NoYXRib3RGcmVxdWVuY3knXVwiKS5vbihcImNoYW5nZVwiLCAoKSA9PiB7XHJcbiAgICAgICAgaWYoY2hlY2tQcmVTdXJ2ZXkoKSkge1xyXG4gICAgICAgICAgICAkKFwiI2J1dHRvbl9pbnN0cnVjdGlvbnNfbmV4dFwiKS5yZW1vdmVBdHRyKFwiZGlzYWJsZWRcIilcclxuICAgICAgICAgICAgJChcIiNidXR0b25faW5zdHJ1Y3Rpb25zX25leHRcIikuc2hvdygpICAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0pO1xyXG4gICAgLy8ga2V5bG9nIHRoZSBpbnB1dFxyXG4gICAgJChcIiN0b2tlbl9pbnB1dFwiKS5vbihcImtleWRvd25cIiwgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICBsb2dJbnB1dEV2ZW50KFwiaW5wdXRfY2hhbmdlXCIsIGV2ZW50LmtleSk7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgXHJcbi8vIEdsb2JhbCBvYmplY3QgdG8gdHJhY2sgd2hldGhlciBhIHNsaWRlciB3YXMgY2hhbmdlZC5cclxuaW50ZXJmYWNlIFNsaWRlclN0YXRlIHtcclxuICAgIG1lbnRhbF9kZW1hbmQ6IGJvb2xlYW47XHJcbiAgICBodXJyaWVkX2RlbWFuZDogYm9vbGVhbjtcclxuICAgIHBlcmZvcm1hbmNlOiBib29sZWFuO1xyXG4gICAgZWZmb3J0OiBib29sZWFuO1xyXG4gICAgZnJ1c3RyYXRpb246IGJvb2xlYW47XHJcbn1cclxuXHJcbmNvbnN0IHNsaWRlckNoYW5nZWQ6IFNsaWRlclN0YXRlID0ge1xyXG4gICAgbWVudGFsX2RlbWFuZDogZmFsc2UsXHJcbiAgICBodXJyaWVkX2RlbWFuZDogZmFsc2UsXHJcbiAgICBwZXJmb3JtYW5jZTogZmFsc2UsXHJcbiAgICBlZmZvcnQ6IGZhbHNlLFxyXG4gICAgZnJ1c3RyYXRpb246IGZhbHNlXHJcbn07XHJcblxyXG4vLyBHbG9iYWwgb2JqZWN0IHRvIHN0b3JlIHRoZSBzZWxlY3RlZCB2YWx1ZXMuIChudWxsIGluZGljYXRlcyBubyBzZWxlY3Rpb24geWV0KVxyXG5jb25zdCB0bHhWYWx1ZXM6IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIHwgbnVsbCB9ID0ge1xyXG4gICAgbWVudGFsX2RlbWFuZDogbnVsbCxcclxuICAgIGh1cnJpZWRfZGVtYW5kOiBudWxsLFxyXG4gICAgcGVyZm9ybWFuY2U6IG51bGwsXHJcbiAgICBlZmZvcnQ6IG51bGwsXHJcbiAgICBmcnVzdHJhdGlvbjogbnVsbFxyXG59O1xyXG5cclxuZnVuY3Rpb24gY2hlY2tBbGxTbGlkZXJzQ2hhbmdlZCgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiBPYmplY3QudmFsdWVzKHNsaWRlckNoYW5nZWQpLmV2ZXJ5KHZhbHVlID0+IHZhbHVlID09PSB0cnVlKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVzZXRTbGlkZXJzKCkge1xyXG4gICAgLy8gUmVzZXQgdHJhY2tpbmcgb2JqZWN0IGFuZCBzZWxlY3RlZCB2YWx1ZXNcclxuICAgIGZvciAobGV0IGtleSBpbiBzbGlkZXJDaGFuZ2VkKSB7XHJcbiAgICAgICAgc2xpZGVyQ2hhbmdlZFtrZXkgYXMga2V5b2YgU2xpZGVyU3RhdGVdID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBmb3IgKGxldCBrZXkgaW4gdGx4VmFsdWVzKSB7XHJcbiAgICAgICAgdGx4VmFsdWVzW2tleV0gPSBudWxsO1xyXG4gICAgfVxyXG4gICAgLy8gUmVtb3ZlIHNlbGVjdGlvbiBoaWdobGlnaHQgZnJvbSBhbGwgYm94ZXNcclxuICAgICQoXCIudGx4LWJveFwiKS5yZW1vdmVDbGFzcyhcInNlbGVjdGVkXCIpO1xyXG4gICAgbmV4dEJ1dHRvbi5wcm9wKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XHJcbn1cclxuXHJcbi8vIERpc2FibGUgdGhlIFwiTmV4dFwiIGJ1dHRvbiBpbml0aWFsbHlcclxuY29uc3QgbmV4dEJ1dHRvbiA9ICQoXCIjbmFzYV90bHhfbmV4dFwiKSBhcyBKUXVlcnk8SFRNTElucHV0RWxlbWVudD47XHJcbm5leHRCdXR0b24ucHJvcChcImRpc2FibGVkXCIsIHRydWUpO1xyXG5cclxuLy8gRXZlbnQgbGlzdGVuZXIgZm9yIGFsbCBzbGlkZXJzXHJcbiQoXCIudGx4LWJveFwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgY29uc3Qgc2xpZGVySWQgPSAkKHRoaXMpLnBhcmVudCgpLmF0dHIoXCJpZFwiKTsgLy8gZS5nLiwgXCJtZW50YWxfZGVtYW5kXCJcclxuICAgIGlmICghc2xpZGVySWQgfHwgIShzbGlkZXJJZCBpbiBzbGlkZXJDaGFuZ2VkKSkgcmV0dXJuO1xyXG4gICAgY29uc3QgdmFsdWUgPSBwYXJzZUludCgkKHRoaXMpLmF0dHIoXCJkYXRhLXZhbHVlXCIpIGFzIHN0cmluZyk7XHJcbiAgICB0bHhWYWx1ZXNbc2xpZGVySWRdID0gdmFsdWU7XHJcbiAgICBzbGlkZXJDaGFuZ2VkW3NsaWRlcklkIGFzIGtleW9mIFNsaWRlclN0YXRlXSA9IHRydWU7XHJcbiAgICBcclxuICAgIC8vIFVwZGF0ZSBVSTogbWFyayB0aGlzIGJveCBhcyBzZWxlY3RlZCBhbmQgcmVtb3ZlIHNlbGVjdGlvbiBmcm9tIHNpYmxpbmdzLlxyXG4gICAgJCh0aGlzKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKFwic2VsZWN0ZWRcIik7XHJcbiAgICAkKHRoaXMpLmFkZENsYXNzKFwic2VsZWN0ZWRcIik7XHJcblxyXG4gICAgLy8gRW5hYmxlIHRoZSBOZXh0IGJ1dHRvbiBpZiBhbGwgc2xpZGVycyBoYXZlIGJlZW4gY2hhbmdlZC5cclxuICAgIGlmIChjaGVja0FsbFNsaWRlcnNDaGFuZ2VkKCkpIHtcclxuICAgICAgICBuZXh0QnV0dG9uLnByb3AoXCJkaXNhYmxlZFwiLCBmYWxzZSk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuLy8gRXZlbnQgbGlzdGVuZXIgZm9yIFwiTmV4dFwiIGJ1dHRvbiBpbiBOQVNBIFRMWCBzdXJ2ZXlcclxubmV4dEJ1dHRvbi5vbihcImNsaWNrXCIsICgpID0+IHtcclxuICAgIGlmICghY2hlY2tBbGxTbGlkZXJzQ2hhbmdlZCgpKSB7XHJcbiAgICAgICAgYWxlcnQoXCJQbGVhc2UgYWRqdXN0IGFsbCBzbGlkZXJzIGJlZm9yZSBjb250aW51aW5nLlwiKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdGx4RGF0YSA9IHtcclxuICAgICAgICBtZW50YWxfZGVtYW5kOiB0bHhWYWx1ZXNbXCJtZW50YWxfZGVtYW5kXCJdICE9PSBudWxsID8gdGx4VmFsdWVzW1wibWVudGFsX2RlbWFuZFwiXSA6IDAsXHJcbiAgICAgICAgaHVycmllZF9kZW1hbmQ6IHRseFZhbHVlc1tcImh1cnJpZWRfZGVtYW5kXCJdICE9PSBudWxsID8gdGx4VmFsdWVzW1wiaHVycmllZF9kZW1hbmRcIl0gOiAwLFxyXG4gICAgICAgIHBlcmZvcm1hbmNlOiB0bHhWYWx1ZXNbXCJwZXJmb3JtYW5jZVwiXSAhPT0gbnVsbCA/IHRseFZhbHVlc1tcInBlcmZvcm1hbmNlXCJdIDogMCxcclxuICAgICAgICBlZmZvcnQ6IHRseFZhbHVlc1tcImVmZm9ydFwiXSAhPT0gbnVsbCA/IHRseFZhbHVlc1tcImVmZm9ydFwiXSA6IDAsXHJcbiAgICAgICAgZnJ1c3RyYXRpb246IHRseFZhbHVlc1tcImZydXN0cmF0aW9uXCJdICE9PSBudWxsID8gdGx4VmFsdWVzW1wiZnJ1c3RyYXRpb25cIl0gOiAwXHJcbiAgICB9O1xyXG4gICAgXHJcblxyXG4gICAgbG9nX2RhdGEoe1xyXG4gICAgICAgIGNvbmRpdGlvbjogJChcIiNjb25kaXRpb25fbGFiZWxcIikudGV4dCgpLFxyXG4gICAgICAgIGNvbmRpdGlvbl9pbmRleDogY3VycmVudENvbmRpdGlvbkluZGV4LFxyXG4gICAgICAgIHRseDogdGx4RGF0YVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gSGlkZSB0aGUgTkFTQSBUTFggcGFnZSBhbmQgbW92ZSBvblxyXG4gICAgcmVzZXRTbGlkZXJzKCk7XHJcbiAgICAkKFwiI25hc2FfdGx4X3N1cnZleVwiKS5oaWRlKCk7XHJcbiAgICBjdXJyZW50Q29uZGl0aW9uSW5kZXgrKztcclxuICAgIGN1cnJlbnRRdWVzdGlvbkluZGV4ID0gMDtcclxuICAgIG5leHRfcXVlc3Rpb24oKTtcclxufSk7XHJcblxyXG4gICAgXHJcblxyXG59KTtcclxuICBmdW5jdGlvbiBhdXRvU3VibWl0UGFydDEoKSB7XHJcbiAgICBsb2dJbnB1dEV2ZW50KFwiYXV0b19zdWJtaXRcIik7XHJcbiAgICAvLyBTdG9wIHRoZSB0aW1lciBpZiBub3QgYWxyZWFkeSBjbGVhcmVkXHJcbiAgICBjbGVhckludGVydmFsKHBhcnQxSW50ZXJ2YWwpO1xyXG4gICAgJChcIiN0aW1lclwiKS5oaWRlKCk7XHJcbiAgICBcclxuICAgIC8vIEF1dG9tYXRpY2FsbHkgdHJhbnNpdGlvbiB0byBQYXJ0IDJcclxuICAgICQoXCIjcGFydDFcIikuaGlkZSgpO1xyXG4gICAgJChcIiNwYXJ0MlwiKS5zaG93KCk7XHJcbn1cclxuJChcIiNxdWFsX25leHRcIikub24oXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBjb25zdCBxMSA9ICgkKFwiI3F1YWxfcTFcIikudmFsKCkgYXMgc3RyaW5nKSB8fCBcIlwiO1xyXG4gICAgY29uc3QgcTIgPSAoJChcIiNxdWFsX3EyXCIpLnZhbCgpIGFzIHN0cmluZykgfHwgXCJcIjtcclxuICAgIGNvbnN0IHEzID0gKCQoXCIjcXVhbF9xM1wiKS52YWwoKSBhcyBzdHJpbmcpIHx8IFwiXCI7XHJcbiAgICBcclxuICAgIGxldCB2YWxpZCA9IHRydWU7XHJcbiAgICBcclxuICAgIGlmIChxMS5sZW5ndGggPCAyNSkge1xyXG4gICAgICAgICQoXCIjd2Fybl9xMVwiKS5zaG93KCk7XHJcbiAgICAgICAgdmFsaWQgPSBmYWxzZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJChcIiN3YXJuX3ExXCIpLmhpZGUoKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYgKHEyLmxlbmd0aCA8IDI1KSB7XHJcbiAgICAgICAgJChcIiN3YXJuX3EyXCIpLnNob3coKTtcclxuICAgICAgICB2YWxpZCA9IGZhbHNlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAkKFwiI3dhcm5fcTJcIikuaGlkZSgpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAocTMubGVuZ3RoIDwgMCkge1xyXG4gICAgICAgICQoXCIjd2Fybl9xM1wiKS5zaG93KCk7XHJcbiAgICAgICAgdmFsaWQgPSBmYWxzZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJChcIiN3YXJuX3EzXCIpLmhpZGUoKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gSWYgdmFsaWRhdGlvbiBmYWlscywgZG8gbm90IHByb2NlZWRcclxuICAgIGlmICghdmFsaWQpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIElmIGFsbCB0ZXh0IGJveGVzIGhhdmUgYXQgbGVhc3QgNTAgY2hhcmFjdGVycywgbG9nIGRhdGEgYW5kIHByb2NlZWRcclxuICAgIGNvbnN0IGZpbmFsRGF0YSA9IHtcclxuICAgICAgICBxdWFsaXRhdGl2ZToge1xyXG4gICAgICAgICAgICBxMTogcTEsXHJcbiAgICAgICAgICAgIHEyOiBxMixcclxuICAgICAgICAgICAgcTM6IHEzXHJcbiAgICAgICAgfSxcclxuICAgICAgICAvLyAuLi4gaW5jbHVkZSBhbnkgYWRkaXRpb25hbCBkYXRhIGlmIG5lZWRlZFxyXG4gICAgfTtcclxuICAgIGxvZ19kYXRhKGZpbmFsRGF0YSk7XHJcbiAgICBcclxuICAgIC8vIFRyYW5zaXRpb24gdG8gZW5kLW9mLXN1cnZleSDigJxUaGFuayB5b3XigJ0gc2NyZWVuIG9yIHNpbWlsYXIuXHJcbiAgICAkKFwiI3F1YWxpdGF0aXZlX3NlY3Rpb25cIikuaGlkZSgpO1xyXG4gICAgaWYgKE1PQ0tNT0RFKSB7XHJcbiAgICAgICAgJCgnI3Jld2FyZF9ib3hfbW9jaycpLnRleHQoYFlvdXIgdG90YWwgcmV3YXJkIGlzICQzLjAwLmApO1xyXG4gICAgICAgICQoJyNyZXdhcmRfYm94X21vY2snKS5zaG93KCk7XHJcbiAgICAgICAgJChcIiNtYWluX2JveF9lbmRfbW9ja1wiKS5zaG93KCk7ICAgIFxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAkKCcjcmV3YXJkX2JveCcpLnRleHQoYFlvdXIgdG90YWwgcmV3YXJkIGlzICQzLjAwLmApO1xyXG4gICAgICAgICQoJyNyZXdhcmRfYm94Jykuc2hvdygpO1xyXG4gICAgICAgICQoXCIjbWFpbl9ib3hfZW5kXCIpLnNob3coKTsgICAgXHJcbiAgICB9XHJcbn0pO1xyXG4iXSwibmFtZXMiOlsiU0VSVkVSX0xPR19ST09UIiwiYXN5bmMiLCJsb2dfZGF0YSIsImRhdGEiLCJnbG9iYWxUaGlzIiwidXJsX2RhdGEiLCJjb25zb2xlIiwibG9nIiwidWlkIiwicmVzdWx0IiwiJCIsImFqYXgiLCJKU09OIiwic3RyaW5naWZ5IiwicHJvamVjdCIsInJlcGxhY2UiLCJwYXlsb2FkIiwidHlwZSIsImNvbnRlbnRUeXBlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0Iiwic2xlZXAiLCJlIiwiZml4U3BhY2luZyIsImlucHV0Iiwib3V0cHV0IiwiTU9DS01PREUiLCJxdWVzdGlvbiIsImNvbmZpZGVuY2VSYXRpbmciLCJwYXJ0MUludGVydmFsIiwicmVtYWluaW5nVGltZSIsImN1cnJlbnRDb25kaXRpb25JbmRleCIsImN1cnJlbnRRdWVzdGlvbkluZGV4IiwicHJlU3VydmV5TG9nZ2VkIiwicXVlc3Rpb25TdGFydFRpbWUiLCJEYXRlIiwibm93Iiwia2V5bG9ncyIsInByZXZpb3VzSW5wdXQiLCJpbnN0cnVjdGlvbl9pIiwiY291bnRfZXhpdGVkX3BhZ2UiLCJjaGVja1ByZVN1cnZleSIsImxhdGV4RXhwIiwidmFsIiwibGF0ZXhGcmVxIiwiY2hhdGJvdEZyZXEiLCJzaG93IiwiaGlkZSIsImxvZ0lucHV0RXZlbnQiLCJldmVudFR5cGUiLCJrZXlQcmVzc2VkIiwicHJlY2lzZVRpbWUiLCJ0b0ZpeGVkIiwicWlkIiwiY29uZGl0aW9uIiwiY3VycmVudFRleHQiLCJuZXdfa2V5bG9nIiwiZXZlbnQiLCJjb25kaXRpb25faW5kZXgiLCJwcmVjaXNlX3RpbWUiLCJuZXdfdGV4dCIsIm9sZF90ZXh0Iiwia2V5X3ByZXNzZWQiLCJjb25jYXQiLCJuZXh0X2luc3RydWN0aW9ucyIsImluY3JlbWVudCIsImF0dHIiLCJyZW1vdmVBdHRyIiwicHJlX3N1cnZleSIsImxhdGV4RXhwZXJpZW5jZSIsImxhdGV4RnJlcXVlbmN5IiwiY2hhdGJvdEZyZXF1ZW5jeSIsIm5leHRfcXVlc3Rpb24iLCJjaGlsZHJlbiIsImVhY2giLCJfIiwiZWwiLCJvbiIsInByYWN0aWNlUXVlc3Rpb25zIiwicHJhY3RpY2VJbmRleCIsInNob3dQcmFjdGljZVJvdW5kIiwib25Db21wbGV0ZSIsImVtcHR5IiwicHJhY3RpY2VDb250ZW50IiwiYXBwZW5kIiwiaHRtbCIsImxlbmd0aCIsImJ1bGxldFBvaW50cyIsInB1c2giLCJidWxsZXRIdG1sIiwibWFwIiwicG9pbnQiLCJqb2luIiwidG9rZW5zQ29uY2F0ZW5hdGVkIiwiQXJyYXkiLCJpc0FycmF5IiwiaXRlbSIsInRva2VuIiwiZmlsdGVyIiwicHJlZGljdGVkSHRtbCIsInRva2VuVGV4dCIsInRvcF81X3Rva2VucyIsInByb2JhYmlsaXR5IiwiYWRkaXRpb25hbFRleHQiLCJvZmYiLCJjb25kaXRpb25CbG9jayIsImhlYWRlckh0bWwiLCJyZWplY3QiLCJnZXRKU09OIiwiZG9uZSIsImZhaWwiLCJqcXhociIsInRleHRTdGF0dXMiLCJlcnJvciIsInRoZW4iLCJjYXRjaCIsImVyciIsInNob3dTdGFydENvbmRpdGlvblBhZ2UiLCJxdWVzdGlvbnMiLCJjdXJyZW50Q29uZGl0aW9uIiwidGV4dCIsInNob3dFbmRDb25kaXRpb25QYWdlIiwiY2xlYXJJbnRlcnZhbCIsIndpbmRvdyIsInNldEludGVydmFsIiwidXJsUGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwibG9jYXRpb24iLCJzZWFyY2giLCJzdGFydE92ZXJyaWRlIiwiZ2V0IiwiVUlERnJvbVVSTCIsImVudHJpZXMiLCJrZXkiLCJ2YWx1ZSIsInBhcmFtc1RvT2JqZWN0IiwicXVldWVfaWQiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJwYWRTdGFydCIsIlVJRF9tYXliZSIsInByb21wdCIsInN0YXJ0c1dpdGgiLCJsb2FkX2RhdGEiLCJfZXJyb3IiLCJyZWxvYWQiLCJuZXdfZGF0YSIsInBhcnNlSW50IiwiYWxlcnRfYWN0aXZlIiwiZG9jdW1lbnQiLCJvbnZpc2liaWxpdHljaGFuZ2UiLCJyZWFkeSIsInJhdGluZyIsInRoaXMiLCJyZW1vdmVDbGFzcyIsImFkZENsYXNzIiwic2xpZGVyQ2hhbmdlZCIsIm1lbnRhbF9kZW1hbmQiLCJodXJyaWVkX2RlbWFuZCIsInBlcmZvcm1hbmNlIiwiZWZmb3J0IiwiZnJ1c3RyYXRpb24iLCJ0bHhWYWx1ZXMiLCJjaGVja0FsbFNsaWRlcnNDaGFuZ2VkIiwiT2JqZWN0IiwidmFsdWVzIiwiZXZlcnkiLCJuZXh0QnV0dG9uIiwicHJvcCIsInNsaWRlcklkIiwicGFyZW50Iiwic2libGluZ3MiLCJhbGVydCIsInRseERhdGEiLCJ0bHgiLCJyZXNldFNsaWRlcnMiLCJxMSIsInEyIiwicTMiLCJ2YWxpZCIsInF1YWxpdGF0aXZlIl0sInNvdXJjZVJvb3QiOiIifQ==