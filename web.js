(()=>{"use strict";let t="https://matthewsalaway.pythonanywhere.com/";async function e(e){e.url_data=globalThis.url_data,console.log("Data"),"study_id"in e.url_data||(e.url_data.study_id="demo_study"),"prolific_id"in e.url_data||(e.url_data.prolific_id="demo_user"),"session_id"in e.url_data||(e.url_data.session_id="demo_session"),e.url_data.queue_id=globalThis.uid,console.log("logged",e),console.log("Logging to",t+"log");try{let n=await $.ajax(t+"log",{data:JSON.stringify({project:"ocr-calibration-study/"+e.url_data.study_id,uid:globalThis.uid+"_"+e.url_data.prolific_id,payload:JSON.stringify(e)}),type:"POST",contentType:"application/json"});return await async function(){return new Promise((t=>setTimeout(t,2e3)))}(),n}catch(t){console.log(t)}}function n(t){let e=t.replace(/\s+/g,"");return e=e.replace(/\\/g," \\"),e=e.replace(/([\+\-\=])/g," $1 "),e=e.replace(/(\\?)(div|approx|times|Delta)(?!\s)/g,"$1$2 "),e=e.replace(/\s+/g," "),e}var i=!1,o=[];let a=null,r=-1,s=0,l=20,c=0,d=0,u=!1,_=Date.now(),p=[],h="",m=0,g=0;function b(){const t=$("input[name='latexExperience']:checked").val(),e=$("input[name='latexFrequency']:checked").val(),n=$("input[name='chatbotFrequency']:checked").val();return t&&e&&n?($("#button_instructions_next").show(),!0):($("#button_instructions_next").hide(),!1)}function f(t,e){const n=((Date.now()-_)/1e3).toFixed(3),i=d,a=o[c].condition,r=$("#token_input").val();let s={event:t,qid:i,condition:a,condition_index:c,precise_time:n,new_text:r,old_text:h,key_pressed:e||null};h=r,p=p.concat([s])}function x(t){m+=t,0==m?$("#button_instructions_prev").attr("disabled","true"):$("#button_instructions_prev").removeAttr("disabled"),3!=m||b()?($("#button_instructions_next").removeAttr("disabled"),$("#button_instructions_next").show()):($("#button_instructions_next").attr("disabled","true"),$("#button_instructions_next").hide()),m>=4?($("#instructions_and_decorations").show(),$("#button_instructions_next").val("Start study")):($("#instructions_and_decorations").hide(),$("#button_instructions_next").val("Next")),5==m&&($("#instructions_and_decorations").show(),$("#main_box_instructions").hide(),$("#main_box_experiment").show(),u||(e({pre_survey:{latexExperience:$("input[name='latexExperience']:checked").val(),latexFrequency:$("input[name='latexFrequency']:checked").val(),chatbotFrequency:$("input[name='chatbotFrequency']:checked").val()}}),u=!0),k()),$("#main_box_instructions").children(":not(input)").each(((t,e)=>{$(e).hide()})),$(`#instructions_${m}`).show()}$("#button_instructions_next").on("click",(()=>x(1))),$("#button_instructions_prev").on("click",(()=>x(-1)));let y=[],v=0;function w(t){$("#practice_container").empty().show();const e=$('\n      <div id="practice_inner_container" style="padding: 20px; padding-top:0px; overflow-y: auto;">\n        <div id="practice_instructions"></div>\n        <div id="practice_header"></div>\n        <div id="practice_content" style="margin-top: 10px;"></div>\n        <div id="practice_nav" style="margin-top: 20px; margin-bottom: 25px;"></div>\n      </div>\n    ');$("#practice_container").append(e),$("#practice_header").html(`<h3>Practice Example (${v+1} of ${y.length})</h3>`);const i=o[c].condition,a=[];"highlighted"===i?(a.push("You will be able to see if the model is uncertain about any part of the transcription."),a.push("The text is red if the model is uncertain about it. The brighter the red highlight, the more uncertain the model is about that specific part of the text.")):a.push("You will <b>not</b> be able to see if the model is uncertain about any part of the transcription."),a.push("Review the transcription carefully and fix any errors by editing the input box."),a.push("When the session starts, you will have 20 seconds to modify each transcription.");const r=a.map((t=>`<li>${t}</li>`)).join("");$("#practice_instructions").html(`\n    <h3 style="font-size: 1.1em; margin-bottom: 5px;">Instructions:</h3>\n    <ul style="margin-left: 20px;">\n        ${r}\n    </ul>\n    `),$("#practice_content").html('\n      <div id="practice_question_display" style="margin-top: 10px;">\n        <img id="practice_question_image" src="" alt="Practice Question Image" style="max-width: 100%; height: 110px; object-fit: contain;margin-top: 20px;">\n        <div id="practice_predicted_text_container" style="margin-top: 20px;">\n          <div style="margin-top: 10px;">Predicted Text:</div>\n          <div id="practice_predicted_text" style="margin-top: 20px;"></div>\n        </div>\n        <div id="practice_token_input_container" style="margin-top: 20px;">\n          <input id="practice_token_input" type="text" style="width: 100%; font-size: 16px; padding: 8px;">\n        </div>\n      </div>\n    ');const s=y[v];s.image?$("#practice_question_image").attr("src","data:image/png;base64,"+s.image):$("#practice_question_image").attr("src","");let l="";if(s.token_info&&Array.isArray(s.token_info)&&(l=s.token_info.map((t=>t.token)).filter((t=>"<|im_end|>"!==t)).map((t=>t.replace(/Ġ/g," "))).join("")),$("#practice_token_input").val(n(l)),"non-highlighted"==o[c].condition)$("#practice_predicted_text").html(n(l));else if("highlighted"==o[c].condition){let t="";s.token_info&&Array.isArray(s.token_info)&&(t=s.token_info.filter((t=>"<|im_end|>"!==t.token)).map((t=>{let e=t.token.replace(/Ġ/g," ");return`<span style="background-color: rgba(255, 0, 0, ${1-(t.top_5_tokens&&t.top_5_tokens[0]&&"number"==typeof t.top_5_tokens[0].probability?t.top_5_tokens[0].probability:1)});">${n(e)}</span>`})).join("")),$("#practice_predicted_text").html(t)}if("highlighted"===i){let t="";0===v?t="The model is uncertain about the text '\\boxed'":1===v?t="the model shows no uncertainty (i.e. it is confident about the full transcription)":2===v&&(t="The model is uncertain about three characters"),$("#practice_predicted_text").append(`<span style="font-style: italic; margin-left: 20px; vertical-align: middle;">${t}</span>`)}$("#practice_nav").html('\n      <div>\n        <input id="practice_prev" type="button" value="Previous Example">\n        <input id="practice_next" type="button" value="Next Example" style="margin-left: 10px;">\n      </div>\n    '),$("#practice_prev").off("click").on("click",(()=>{v=(v-1+y.length)%y.length,w(t)})),$("#practice_next").off("click").on("click",(()=>{v=(v+1)%y.length,w(t)}))}function k(){if($("#main_box_experiment").show(),$("#button_next").hide(),$("#button_quit").hide(),p=[],c>=o.length)return $("#main_box_experiment").hide(),void $("#qualitative_section").show();let t=o[c];if(0===d)return void function(t){$("#main_box_experiment").hide(),$("#start_condition_page").empty().show();const e=`\n      <div style="display: flex; justify-content: space-between; align-items: center;">\n          <h2 style="margin: 0;">${"highlighted"===t?`Part ${c+1}: AI Uncertainty is Highlighted`:`Part ${c+1}: AI Uncertainty is Not Highlighted`}</h2>\n          <input id="start_condition_next" type="button" value="Start Section" style="margin: 0;"/>\n      </div>\n    `;$("#start_condition_page").append(e),0===$("#practice_container").length&&$("#start_condition_page").append('<div id="practice_container" style="margin-top:10px;"></div>'),new Promise(((t,e)=>{$.getJSON("practice_questions/Qwen_practice_Qs.json").done((e=>t(e))).fail(((t,n,i)=>e(i)))})).then((t=>{y=t,v=0,w((()=>{d=1,k()}))})).catch((t=>{})),$("#start_condition_next").on("click",(()=>{$("#start_condition_page").hide(),d=1,k()}))}(t.condition);if(d>t.questions.length)return void function(){$("#main_box_experiment").hide();const t=o[c].condition;$("#condition_label").text(t),$("#mental_demand").val("0"),$("#hurried_demand").val("0"),$("#performance").val("0"),$("#effort").val("0"),$("#frustration").val("0"),$("#nasa_tlx_survey").show()}(t.condition);a=t.questions[d-1],a.image?$("#question_image").attr("src","data:image/png;base64,"+a.image):$("#question_image").attr("src","");let e="";if(a.token_info&&Array.isArray(a.token_info)&&(e=a.token_info.map((t=>t.token)).filter((t=>"<|im_end|>"!==t)).map((t=>t.replace(/Ġ/g," "))).join("")),$("#token_input").val(n(e)),h=$("#token_input").val()||"","non-highlighted"==o[c].condition)$("#predicted_text").html(n(e));else if("highlighted"==o[c].condition){let t="";a.token_info&&Array.isArray(a.token_info)&&(t=a.token_info.filter((t=>"<|im_end|>"!==t.token)).map((t=>{let e=t.token.replace(/Ġ/g," ");return`<span style="background-color: rgba(255, 0, 0, ${1-(t.top_5_tokens&&t.top_5_tokens[0]&&"number"==typeof t.top_5_tokens[0].probability?t.top_5_tokens[0].probability:1)});">${n(e)}</span>`})).join("")),$("#predicted_text").html(t)}$("#progress").text(`Section ${c+1} of ${o.length} | Question ${d} of ${t.questions.length}`),$("#part1").show(),$("#part2").hide(),$("#token_input_container").hide(),$("#button_next_part1").hide(),_=Date.now(),l=20,$("#timer").text(l),$("#timer").show(),s&&clearInterval(s),s=window.setInterval((()=>{l-=1,$("#timer").text(l),l<=15&&($("#token_input_container").show(),$("#button_next_part1").show()),l<=0&&(clearInterval(s),f("auto_submit"),clearInterval(s),$("#timer").hide(),$("#part1").hide(),$("#part2").show(),$("#timer").hide())}),1e3)}const q=new URLSearchParams(window.location.search),T=q.get("start"),j=q.get("uid");if(globalThis.url_data=function(t){const e={};for(const[n,i]of t)e[n]=i;return e}(q.entries()),null==globalThis.url_data.study_id&&(globalThis.url_data.study_id="demo_study"),null==globalThis.url_data.prolific_id&&(globalThis.url_data.prolific_id="demo_user"),null==globalThis.url_data.session_id&&(globalThis.url_data.session_id="demo_session"),null!=j){if(globalThis.uid=j,"prolific_random"==globalThis.uid){let t=`${Math.floor(4*Math.random())}`.padStart(3,"0");globalThis.uid=`${q.get("prolific_queue_name")}_${t}`}}else{let t=null;for(;null==t;)t=prompt("Enter your user id. Please get in touch if you were not assigned an id but wish to participate in this experiment.");globalThis.uid=t}globalThis.url_data.session_id.startsWith("demo")&&(i=!0),async function(){return await $.getJSON(`baked_queues/${globalThis.uid}.json?t=${Date.now()}`)}().catch((t=>{window.location.reload()})).then((t=>{o=t,null!=T&&(d=parseInt(T)-1),x(0),$("#main_box_instructions").show(),$("#instructions_and_decorations").hide()}));let A=!1;document.onvisibilitychange=()=>{A||(g+=1,A=!0,A=!1)},$(document).ready((()=>{$("#button_next_part1").on("click",(()=>{f("next_button_submitted"),clearInterval(s),$("#timer").hide(),$("#part1").hide(),$("#part2").show()})),$(".confidence-button").on("click",(function(){let t=parseInt($(this).attr("data-rating"));$(".confidence-button").removeClass("selected"),$(this).addClass("selected"),r=t,$("#button_next_part2").removeAttr("disabled")})),$("#button_next_part2").on("click",(()=>{e({question_i:d,qid:a.qid,condition:o[c].condition,confidence_rating:r,keylogs:p}),$("#button_next_part2").attr("disabled","true"),$(".confidence-button").removeClass("selected"),r=-1,$("#part2").hide(),$("#part1").show(),d++,k()})),$("input[name='latexExperience'], input[name='latexFrequency'], input[name='chatbotFrequency']").on("change",(()=>{b()&&($("#button_instructions_next").removeAttr("disabled"),$("#button_instructions_next").show())})),$("#token_input").on("keydown",(function(t){f("input_change",t.key)}));const t={mental_demand:!1,hurried_demand:!1,performance:!1,effort:!1,frustration:!1},n={mental_demand:null,hurried_demand:null,performance:null,effort:null,frustration:null};function i(){return Object.values(t).every((t=>!0===t))}const l=$("#nasa_tlx_next");l.prop("disabled",!0),$(".tlx-box").on("click",(function(){const e=$(this).parent().attr("id");if(!e||!(e in t))return;const o=parseInt($(this).attr("data-value"));n[e]=o,t[e]=!0,$(this).siblings().removeClass("selected"),$(this).addClass("selected"),i()&&l.prop("disabled",!1)})),l.on("click",(()=>{if(!i())return void alert("Please adjust all sliders before continuing.");const o={mental_demand:null!==n.mental_demand?n.mental_demand:0,hurried_demand:null!==n.hurried_demand?n.hurried_demand:0,performance:null!==n.performance?n.performance:0,effort:null!==n.effort?n.effort:0,frustration:null!==n.frustration?n.frustration:0};e({condition:$("#condition_label").text(),condition_index:c,tlx:o}),function(){for(let e in t)t[e]=!1;for(let t in n)n[t]=null;$(".tlx-box").removeClass("selected"),l.prop("disabled",!0)}(),$("#nasa_tlx_survey").hide(),c++,d=0,k()}))})),$("#qual_next").on("click",(()=>{const t=$("#qual_q1").val()||"",n=$("#qual_q2").val()||"",o=$("#qual_q3").val()||"";let a=!0;t.length<25?($("#warn_q1").show(),a=!1):$("#warn_q1").hide(),n.length<25?($("#warn_q2").show(),a=!1):$("#warn_q2").hide(),o.length<0?($("#warn_q3").show(),a=!1):$("#warn_q3").hide(),a&&(e({qualitative:{q1:t,q2:n,q3:o}}),$("#qualitative_section").hide(),i?($("#reward_box_mock").text("Your total reward is $3.00."),$("#reward_box_mock").show(),$("#main_box_end_mock").show()):($("#reward_box").text("Your total reward is $3.00."),$("#reward_box").show(),$("#main_box_end").show()))}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Y3Rvci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21haW4udHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgREVWTU9ERSB9IGZyb20gJy4vZ2xvYmFscydcclxuaW1wb3J0IHsgTU9DS01PREUgfSBmcm9tICcuL21haW4nXHJcblxyXG5sZXQgU0VSVkVSX0xPR19ST09UID0gREVWTU9ERSA/IFwiaHR0cDovLzEyNy4wLjAuMTo1MDAwL1wiIDogXCJodHRwczovL21hdHRoZXdzYWxhd2F5LnB5dGhvbmFueXdoZXJlLmNvbS9cIlxyXG5cclxuYXN5bmMgZnVuY3Rpb24gc2xlZXAobXM6IG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIG1zKSk7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2FkX2RhdGEoKTogUHJvbWlzZTxhbnk+IHtcclxuICAgIC8vIGluY2x1ZGUgdGltZXN0YW1wIHNvIHRoYXQgdGhpbmdzIGRvbid0IGdldCBjYWNoZWRcclxuICAgIGxldCByZXN1bHQgPSBhd2FpdCAkLmdldEpTT04oXHJcbiAgICAgICAgYGJha2VkX3F1ZXVlcy8ke2dsb2JhbFRoaXMudWlkfS5qc29uP3Q9JHtEYXRlLm5vdygpfWAsXHJcbiAgICApXHJcbiAgICByZXR1cm4gcmVzdWx0XHJcbn1cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvZ19kYXRhKGRhdGEpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgLy9pZiAoTU9DS01PREUpIHtcclxuICAgIC8vICAgIGNvbnNvbGUubG9nKFwibG9nZ2VkIChtb2NrKVwiLCBkYXRhKVxyXG4gICAgLy8gICAgcmV0dXJuXHJcbiAgICAvL31cclxuICAgIFxyXG4gICAgZGF0YVtcInVybF9kYXRhXCJdID0gZ2xvYmFsVGhpcy51cmxfZGF0YVxyXG4gICAgY29uc29sZS5sb2coXCJEYXRhXCIpXHJcbiAgICBpZiAoIShcInN0dWR5X2lkXCIgaW4gZGF0YVsndXJsX2RhdGEnXSkpIHtcclxuICAgICAgICBkYXRhWyd1cmxfZGF0YSddW1wic3R1ZHlfaWRcIl0gPSBcImRlbW9fc3R1ZHlcIlxyXG4gICAgfVxyXG4gICAgaWYgKCEoXCJwcm9saWZpY19pZFwiIGluIGRhdGFbJ3VybF9kYXRhJ10pKSB7XHJcbiAgICAgICAgZGF0YVsndXJsX2RhdGEnXVtcInByb2xpZmljX2lkXCJdID0gXCJkZW1vX3VzZXJcIlxyXG4gICAgfVxyXG4gICAgaWYgKCEoXCJzZXNzaW9uX2lkXCIgaW4gZGF0YVsndXJsX2RhdGEnXSkpIHtcclxuICAgICAgICBkYXRhWyd1cmxfZGF0YSddW1wic2Vzc2lvbl9pZFwiXSA9IFwiZGVtb19zZXNzaW9uXCJcclxuICAgIH1cclxuICAgIGRhdGFbXCJ1cmxfZGF0YVwiXVtcInF1ZXVlX2lkXCJdID0gZ2xvYmFsVGhpcy51aWRcclxuICAgIGNvbnNvbGUubG9nKFwibG9nZ2VkXCIsIGRhdGEpXHJcbiAgICBjb25zb2xlLmxvZyhcIkxvZ2dpbmcgdG9cIiwgU0VSVkVSX0xPR19ST09UICsgXCJsb2dcIilcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICAgIGxldCByZXN1bHQgPSBhd2FpdCAkLmFqYXgoXHJcbiAgICAgICAgICAgIFNFUlZFUl9MT0dfUk9PVCArIFwibG9nXCIsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgICAgICBwcm9qZWN0OiBcIm9jci1jYWxpYnJhdGlvbi1zdHVkeS9cIitkYXRhWyd1cmxfZGF0YSddWydzdHVkeV9pZCddLFxyXG4gICAgICAgICAgICAgICAgICAgIHVpZDogZ2xvYmFsVGhpcy51aWQrXCJfXCIrZGF0YVsndXJsX2RhdGEnXVsncHJvbGlmaWNfaWQnXSxcclxuICAgICAgICAgICAgICAgICAgICBwYXlsb2FkOiBKU09OLnN0cmluZ2lmeShkYXRhKSxcclxuICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxyXG4gICAgICAgICAgICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIClcclxuICAgICAgICBhd2FpdCBzbGVlcCgyMDAwKTtcclxuICAgICAgICByZXR1cm4gcmVzdWx0XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZSlcclxuICAgIH1cclxufSIsImZ1bmN0aW9uIHBhcmFtc1RvT2JqZWN0KGVudHJpZXMpIHtcclxuICBjb25zdCByZXN1bHQgPSB7fVxyXG4gIC8vIGVhY2ggJ2VudHJ5JyBpcyBhIFtrZXksIHZhbHVlXSB0dXBwbGVcclxuICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBlbnRyaWVzKSB7XHJcbiAgICByZXN1bHRba2V5XSA9IHZhbHVlO1xyXG4gIH1cclxuICByZXR1cm4gcmVzdWx0O1xyXG59XHJcbi8vIEluIHNyYy91dGlscy50cyBvciBhdCB0aGUgdG9wIG9mIHNyYy9tYWluLnRzXHJcbmZ1bmN0aW9uIGZpeFNwYWNpbmcoaW5wdXQ6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgLy8gUmVtb3ZlIGFsbCBzcGFjZXMuXHJcbiAgbGV0IG91dHB1dCA9IGlucHV0LnJlcGxhY2UoL1xccysvZywgXCJcIik7XHJcbiAgLy8gQWRkIGEgc3BhY2UgYmVmb3JlIGV2ZXJ5IGJhY2tzbGFzaC5cclxuICBvdXRwdXQgPSBvdXRwdXQucmVwbGFjZSgvXFxcXC9nLCBcIiBcXFxcXCIpO1xyXG4gIC8vIEFkZCBhIHNwYWNlIGJlZm9yZSBhbmQgYWZ0ZXIgZXZlcnkgcGx1cywgbWludXMsIGFuZCBlcXVhbCBzaWduLlxyXG4gIG91dHB1dCA9IG91dHB1dC5yZXBsYWNlKC8oW1xcK1xcLVxcPV0pL2csIFwiICQxIFwiKTtcclxuICAvLyB3YW50IGEgc3BhY2UgYWZ0ZXIgZGl2LCBhcHByb3gsIGFuZCB0aW1lcyBvbmx5IGlmIG5vdCBmb2xsb3dlZCBieSBhIHNwYWNlXHJcbiAgb3V0cHV0ID0gb3V0cHV0LnJlcGxhY2UoLyhcXFxcPykoZGl2fGFwcHJveHx0aW1lc3xEZWx0YSkoPyFcXHMpL2csIFwiJDEkMiBcIik7XHJcbiAgLy8gQ29sbGFwc2UgbXVsdGlwbGUgc3BhY2VzIGludG8gb25lLlxyXG4gIG91dHB1dCA9IG91dHB1dC5yZXBsYWNlKC9cXHMrL2csIFwiIFwiKTtcclxuICByZXR1cm4gb3V0cHV0O1xyXG59XHJcblxyXG5cclxuXHJcbmV4cG9ydCB7IHBhcmFtc1RvT2JqZWN0LCBmaXhTcGFjaW5nIH0iLCJpbXBvcnQgeyBERVZNT0RFIH0gZnJvbSBcIi4vZ2xvYmFsc1wiXHJcbmV4cG9ydCB2YXIgVUlEOiBzdHJpbmdcclxuZXhwb3J0IHZhciBNT0NLTU9ERTogYm9vbGVhbiA9IGZhbHNlXHJcbmltcG9ydCB7IGxvYWRfZGF0YSwgbG9nX2RhdGEgfSBmcm9tICcuL2Nvbm5lY3RvcidcclxuaW1wb3J0IHsgcGFyYW1zVG9PYmplY3QsIGZpeFNwYWNpbmcgfSBmcm9tIFwiLi91dGlsc1wiXHJcblxyXG52YXIgZGF0YTogYW55W10gPSBbXVxyXG5sZXQgcXVlc3Rpb246IGFueSA9IG51bGxcclxubGV0IGNvbmZpZGVuY2VSYXRpbmc6IG51bWJlciA9IC0xO1xyXG5sZXQgcGFydDFUaW1lcjogbnVtYmVyID0gMDtcclxubGV0IHBhcnQxSW50ZXJ2YWw6IG51bWJlciA9IDA7XHJcbmxldCByZW1haW5pbmdUaW1lOiBudW1iZXIgPSAyMDtcclxubGV0IGN1cnJlbnRDb25kaXRpb25JbmRleCA9IDA7XHJcbmxldCBjdXJyZW50UXVlc3Rpb25JbmRleCA9IDA7XHJcbmxldCBwcmVTdXJ2ZXlMb2dnZWQgPSBmYWxzZTtcclxubGV0IHF1ZXN0aW9uU3RhcnRUaW1lOiBudW1iZXIgPSBEYXRlLm5vdygpO1xyXG5sZXQga2V5bG9nczogYW55W10gPSBbXTtcclxubGV0IHByZXZpb3VzSW5wdXQ6IHN0cmluZyA9IFwiXCI7XHJcblxyXG5cclxuXHJcblxyXG5cclxubGV0IGJhbGFuY2UgPSAwXHJcbmxldCBiYWxhbmNlX2luY3JlbWVudCA9IDAuMSAgICAgLy8gQmFsYW5jZSB1cGRhdGVzIGJ5ICQwLjEwIGZvciBldmVyeSBjb3JyZWN0IHNlbGVjdGlvblxyXG5cclxubGV0IGluc3RydWN0aW9uX2k6IG51bWJlciA9IDBcclxubGV0IGNvdW50X2V4aXRlZF9wYWdlOiBudW1iZXIgPSAwXHJcblxyXG5mdW5jdGlvbiBhc3NlcnQoY29uZGl0aW9uLCBtZXNzYWdlKSB7XHJcbiAgICBpZiAoIWNvbmRpdGlvbikge1xyXG4gICAgICAgIHRocm93IG1lc3NhZ2UgfHwgXCJBc3NlcnRpb24gZmFpbGVkXCI7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBjaGVja1ByZVN1cnZleSgpOiBib29sZWFuIHtcclxuICAgIGNvbnN0IGxhdGV4RXhwID0gJChcImlucHV0W25hbWU9J2xhdGV4RXhwZXJpZW5jZSddOmNoZWNrZWRcIikudmFsKCk7XHJcbiAgICBjb25zdCBsYXRleEZyZXEgPSAkKFwiaW5wdXRbbmFtZT0nbGF0ZXhGcmVxdWVuY3knXTpjaGVja2VkXCIpLnZhbCgpO1xyXG4gICAgY29uc3QgY2hhdGJvdEZyZXEgPSAkKFwiaW5wdXRbbmFtZT0nY2hhdGJvdEZyZXF1ZW5jeSddOmNoZWNrZWRcIikudmFsKCk7XHJcbiAgXHJcbiAgICBpZiAobGF0ZXhFeHAgJiYgbGF0ZXhGcmVxICYmIGNoYXRib3RGcmVxKSB7XHJcbiAgICAgICQoXCIjYnV0dG9uX2luc3RydWN0aW9uc19uZXh0XCIpLnNob3coKTtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAkKFwiI2J1dHRvbl9pbnN0cnVjdGlvbnNfbmV4dFwiKS5oaWRlKCk7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gbG9nSW5wdXRFdmVudChldmVudFR5cGU6IHN0cmluZywga2V5UHJlc3NlZD86IHN0cmluZykge1xyXG4gICAgY29uc3QgcHJlY2lzZVRpbWUgPSAoKERhdGUubm93KCkgLSBxdWVzdGlvblN0YXJ0VGltZSkgLyAxMDAwKS50b0ZpeGVkKDMpO1xyXG4gICAgY29uc3QgcWlkID0gY3VycmVudFF1ZXN0aW9uSW5kZXg7IC8vIFVzaW5nIHRoZSBjdXJyZW50UXVlc3Rpb25JbmRleCBhcyB0aGUgcXVlc3Rpb24gaWQuXHJcbiAgICBjb25zdCBjb25kaXRpb24gPSBkYXRhW2N1cnJlbnRDb25kaXRpb25JbmRleF0uY29uZGl0aW9uO1xyXG4gICAgY29uc3QgY3VycmVudFRleHQgPSAkKFwiI3Rva2VuX2lucHV0XCIpLnZhbCgpIGFzIHN0cmluZztcclxuXHJcbiAgICBsZXQgbmV3X2tleWxvZyA9IHtcclxuICAgICAgICBldmVudDogZXZlbnRUeXBlLFxyXG4gICAgICAgIHFpZDogcWlkLFxyXG4gICAgICAgIGNvbmRpdGlvbjogY29uZGl0aW9uLFxyXG4gICAgICAgIGNvbmRpdGlvbl9pbmRleDogY3VycmVudENvbmRpdGlvbkluZGV4LFxyXG4gICAgICAgIHByZWNpc2VfdGltZTogcHJlY2lzZVRpbWUsXHJcbiAgICAgICAgbmV3X3RleHQ6IGN1cnJlbnRUZXh0LFxyXG4gICAgICAgIG9sZF90ZXh0OiBwcmV2aW91c0lucHV0LFxyXG4gICAgICAgIGtleV9wcmVzc2VkOiBrZXlQcmVzc2VkIHx8IG51bGwsIC8vdG9kb1xyXG4gICAgfVxyXG4gICAgcHJldmlvdXNJbnB1dCA9IGN1cnJlbnRUZXh0OyAvLyBFbnN1cmUgY3VycmVudFRleHQgaXMgYSBzdHJpbmcgYmVmb3JlIGFzc2lnbm1lbnRcclxuICAgIGtleWxvZ3MgPSBrZXlsb2dzLmNvbmNhdChbbmV3X2tleWxvZ10pO1xyXG59XHJcblxyXG5cclxuXHJcbmZ1bmN0aW9uIG5leHRfaW5zdHJ1Y3Rpb25zKGluY3JlbWVudDogbnVtYmVyKSB7XHJcbiAgICBpbnN0cnVjdGlvbl9pICs9IGluY3JlbWVudFxyXG5cclxuICAgIGlmIChpbnN0cnVjdGlvbl9pID09IDApIHtcclxuICAgICAgICAkKFwiI2J1dHRvbl9pbnN0cnVjdGlvbnNfcHJldlwiKS5hdHRyKFwiZGlzYWJsZWRcIiwgXCJ0cnVlXCIpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgICQoXCIjYnV0dG9uX2luc3RydWN0aW9uc19wcmV2XCIpLnJlbW92ZUF0dHIoXCJkaXNhYmxlZFwiKVxyXG4gICAgfVxyXG4gICAgaWYoaW5zdHJ1Y3Rpb25faSA9PSAzICYmICFjaGVja1ByZVN1cnZleSgpKSB7XHJcbiAgICAgICAgJChcIiNidXR0b25faW5zdHJ1Y3Rpb25zX25leHRcIikuYXR0cihcImRpc2FibGVkXCIsIFwidHJ1ZVwiKVxyXG4gICAgICAgICQoXCIjYnV0dG9uX2luc3RydWN0aW9uc19uZXh0XCIpLmhpZGUoKVxyXG4gICAgfVxyXG4gICAgZWxzZXtcclxuICAgICAgICAkKFwiI2J1dHRvbl9pbnN0cnVjdGlvbnNfbmV4dFwiKS5yZW1vdmVBdHRyKFwiZGlzYWJsZWRcIilcclxuICAgICAgICAkKFwiI2J1dHRvbl9pbnN0cnVjdGlvbnNfbmV4dFwiKS5zaG93KClcclxuICAgIH1cclxuICAgIGlmIChpbnN0cnVjdGlvbl9pID49IDQpIHtcclxuICAgICAgICAkKFwiI2luc3RydWN0aW9uc19hbmRfZGVjb3JhdGlvbnNcIikuc2hvdygpXHJcbiAgICAgICAgJChcIiNidXR0b25faW5zdHJ1Y3Rpb25zX25leHRcIikudmFsKFwiU3RhcnQgc3R1ZHlcIilcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJChcIiNpbnN0cnVjdGlvbnNfYW5kX2RlY29yYXRpb25zXCIpLmhpZGUoKVxyXG4gICAgICAgICQoXCIjYnV0dG9uX2luc3RydWN0aW9uc19uZXh0XCIpLnZhbChcIk5leHRcIilcclxuICAgIH1cclxuICAgIGlmIChpbnN0cnVjdGlvbl9pID09IDUpIHtcclxuICAgICAgICAkKFwiI2luc3RydWN0aW9uc19hbmRfZGVjb3JhdGlvbnNcIikuc2hvdygpXHJcbiAgICAgICAgJChcIiNtYWluX2JveF9pbnN0cnVjdGlvbnNcIikuaGlkZSgpXHJcbiAgICAgICAgJChcIiNtYWluX2JveF9leHBlcmltZW50XCIpLnNob3coKVxyXG4gICAgICAgIC8vIFJlc2V0IG91ciBjb25kaXRpb24gaW5kaWNlcyBiZWZvcmUgc3RhcnRpbmcgdGhlIGV4cGVyaW1lbnRcclxuICAgICAgICBpZiAoIXByZVN1cnZleUxvZ2dlZCkge1xyXG4gICAgICAgICAgICBjb25zdCBwcmVTdXJ2ZXlEYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgbGF0ZXhFeHBlcmllbmNlOiAkKFwiaW5wdXRbbmFtZT0nbGF0ZXhFeHBlcmllbmNlJ106Y2hlY2tlZFwiKS52YWwoKSxcclxuICAgICAgICAgICAgICAgIGxhdGV4RnJlcXVlbmN5OiAkKFwiaW5wdXRbbmFtZT0nbGF0ZXhGcmVxdWVuY3knXTpjaGVja2VkXCIpLnZhbCgpLFxyXG4gICAgICAgICAgICAgICAgY2hhdGJvdEZyZXF1ZW5jeTogJChcImlucHV0W25hbWU9J2NoYXRib3RGcmVxdWVuY3knXTpjaGVja2VkXCIpLnZhbCgpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGxvZ19kYXRhKHsgcHJlX3N1cnZleTogcHJlU3VydmV5RGF0YSB9KTtcclxuICAgICAgICAgICAgcHJlU3VydmV5TG9nZ2VkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBuZXh0X3F1ZXN0aW9uKClcclxuICAgIH1cclxuXHJcbiAgICAkKFwiI21haW5fYm94X2luc3RydWN0aW9uc1wiKS5jaGlsZHJlbihcIjpub3QoaW5wdXQpXCIpLmVhY2goKF8sIGVsKSA9PiB7XHJcbiAgICAgICAgJChlbCkuaGlkZSgpXHJcbiAgICB9KVxyXG4gICAgJChgI2luc3RydWN0aW9uc18ke2luc3RydWN0aW9uX2l9YCkuc2hvdygpXHJcbn1cclxuJChcIiNidXR0b25faW5zdHJ1Y3Rpb25zX25leHRcIikub24oXCJjbGlja1wiLCAoKSA9PiBuZXh0X2luc3RydWN0aW9ucygrMSkpXHJcbiQoXCIjYnV0dG9uX2luc3RydWN0aW9uc19wcmV2XCIpLm9uKFwiY2xpY2tcIiwgKCkgPT4gbmV4dF9pbnN0cnVjdGlvbnMoLTEpKVxyXG5cclxuXHJcbi8qIE5ldyBmdW5jdGlvbjogU2hvdyBzdGFydC1vZi1jb25kaXRpb24gcGFnZSAqL1xyXG5mdW5jdGlvbiBzaG93U3RhcnRDb25kaXRpb25QYWdlKGNvbmRpdGlvbjogc3RyaW5nKSB7XHJcbiAgICAkKFwiI21haW5fYm94X2V4cGVyaW1lbnRcIikuaGlkZSgpO1xyXG4gICAgLy8gQ2xlYXIgdGhlIGNvbnRhaW5lciBvbmNlLlxyXG4gICAgJChcIiNzdGFydF9jb25kaXRpb25fcGFnZVwiKS5lbXB0eSgpLnNob3coKTtcclxuXHJcbiAgICAvLyBEZXRlcm1pbmUgaGVhZGVyIHRleHQgYmFzZWQgb24gY29uZGl0aW9uLlxyXG4gICAgY29uc3QgaGVhZGVyVGV4dCA9IChjb25kaXRpb24gPT09IFwiaGlnaGxpZ2h0ZWRcIikgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICA/IGBQYXJ0ICR7Y3VycmVudENvbmRpdGlvbkluZGV4KzF9OiBBSSBVbmNlcnRhaW50eSBpcyBIaWdobGlnaHRlZGAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICA6IGBQYXJ0ICR7Y3VycmVudENvbmRpdGlvbkluZGV4KzF9OiBBSSBVbmNlcnRhaW50eSBpcyBOb3QgSGlnaGxpZ2h0ZWRgO1xyXG5cclxuICAgIC8vIENyZWF0ZSBhIGZsZXggY29udGFpbmVyIHdpdGggaGVhZGVyIGFuZCBTdGFydCBFeHBlcmltZW50IGJ1dHRvbi5cclxuICAgIGNvbnN0IGhlYWRlckh0bWwgPSBgXHJcbiAgICAgIDxkaXYgc3R5bGU9XCJkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47IGFsaWduLWl0ZW1zOiBjZW50ZXI7XCI+XHJcbiAgICAgICAgICA8aDIgc3R5bGU9XCJtYXJnaW46IDA7XCI+JHtoZWFkZXJUZXh0fTwvaDI+XHJcbiAgICAgICAgICA8aW5wdXQgaWQ9XCJzdGFydF9jb25kaXRpb25fbmV4dFwiIHR5cGU9XCJidXR0b25cIiB2YWx1ZT1cIlN0YXJ0IFNlY3Rpb25cIiBzdHlsZT1cIm1hcmdpbjogMDtcIi8+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgYDtcclxuICAgICQoXCIjc3RhcnRfY29uZGl0aW9uX3BhZ2VcIikuYXBwZW5kKGhlYWRlckh0bWwpO1xyXG5cclxuICAgIC8vIEFwcGVuZCBhIGNvbnRhaW5lciBmb3IgdGhlIHByYWN0aWNlIHJvdW5kIGNvbnRlbnQgaWYgbm90IGFscmVhZHkgcHJlc2VudC5cclxuICAgIGlmICgkKFwiI3ByYWN0aWNlX2NvbnRhaW5lclwiKS5sZW5ndGggPT09IDApIHtcclxuICAgICAgJChcIiNzdGFydF9jb25kaXRpb25fcGFnZVwiKS5hcHBlbmQoJzxkaXYgaWQ9XCJwcmFjdGljZV9jb250YWluZXJcIiBzdHlsZT1cIm1hcmdpbi10b3A6MTBweDtcIj48L2Rpdj4nKTtcclxuICAgIH1cclxuXHJcbiAgICBsb2FkUHJhY3RpY2VRdWVzdGlvbnMoKS50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgICAgcHJhY3RpY2VRdWVzdGlvbnMgPSBkYXRhO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiUHJhY3RpY2UgcXVlc3Rpb25zIGxvYWRlZDpcIiwgcHJhY3RpY2VRdWVzdGlvbnMpO1xyXG4gICAgICAgIHByYWN0aWNlSW5kZXggPSAwOyAvLyBTdGFydCBhdCB0aGUgZmlyc3QgcHJhY3RpY2UgcXVlc3Rpb24uXHJcbiAgICAgICAgLy8gTGF1bmNoIHRoZSBwcmFjdGljZSByb3VuZC5cclxuICAgICAgICBzaG93UHJhY3RpY2VSb3VuZCgoKSA9PiB7XHJcbiAgICAgICAgICAvLyBXaGVuIHByYWN0aWNlIGlzIGNvbXBsZXRlLCByZXN1bWUgdGhlIG5vcm1hbCBleHBlcmltZW50IGZsb3cuXHJcbiAgICAgICAgICAvLyAoQXQgdGhpcyBwb2ludCwgeW91IGNhbiBub3cgc2FmZWx5IHVwZGF0ZSBleHBlcmltZW50IHN0YXRlLilcclxuICAgICAgICAgIGN1cnJlbnRRdWVzdGlvbkluZGV4ID0gMTtcclxuICAgICAgICAgIG5leHRfcXVlc3Rpb24oKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSkuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIC8vIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBsb2FkaW5nIHByYWN0aWNlIHF1ZXN0aW9uczpcIiwgZXJyKTtcclxuICAgICAgfSk7XHJcbiAgICBcclxuXHJcbiAgICAkKFwiI3N0YXJ0X2NvbmRpdGlvbl9uZXh0XCIpLm9uKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICQoXCIjc3RhcnRfY29uZGl0aW9uX3BhZ2VcIikuaGlkZSgpO1xyXG4gICAgICAgIC8vIEFmdGVyIHN0YXJ0IHBhZ2UsIGJlZ2luIHdpdGggZmlyc3QgcXVlc3Rpb24gKHNldCBpbmRleCB0byAxKVxyXG4gICAgICAgIGN1cnJlbnRRdWVzdGlvbkluZGV4ID0gMTtcclxuICAgICAgICBuZXh0X3F1ZXN0aW9uKCk7XHJcbiAgICB9KTtcclxufVxyXG5sZXQgcHJhY3RpY2VRdWVzdGlvbnM6IGFueVtdID0gW107XHJcbmxldCBwcmFjdGljZUluZGV4OiBudW1iZXIgPSAwO1xyXG5cclxuLy8gRnVuY3Rpb24gdG8gbG9hZCBwcmFjdGljZSBxdWVzdGlvbnMgKGFzc3VtZXMgYSBKU09OIGZpbGUgd2l0aCBhbiBhcnJheSBvZiBleGFtcGxlIHF1ZXN0aW9ucylcclxuZnVuY3Rpb24gbG9hZFByYWN0aWNlUXVlc3Rpb25zKCk6IFByb21pc2U8YW55W10+IHtcclxuICByZXR1cm4gbmV3IFByb21pc2U8YW55W10+KChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICQuZ2V0SlNPTihcInByYWN0aWNlX3F1ZXN0aW9ucy9Rd2VuX3ByYWN0aWNlX1FzLmpzb25cIilcclxuICAgICAgLmRvbmUoZGF0YSA9PiByZXNvbHZlKGRhdGEpKVxyXG4gICAgICAuZmFpbCgoanF4aHIsIHRleHRTdGF0dXMsIGVycm9yKSA9PiByZWplY3QoZXJyb3IpKTtcclxuICB9KTtcclxufVxyXG5mdW5jdGlvbiBzaG93UHJhY3RpY2VSb3VuZChvbkNvbXBsZXRlOiAoKSA9PiB2b2lkKSB7XHJcbiAgICAvLyBJbnN0ZWFkIG9mIGVtcHR5aW5nIHRoZSBlbnRpcmUgcGFnZSwgdXBkYXRlIG9ubHkgdGhlIHByYWN0aWNlIGNvbnRhaW5lci5cclxuICAgICQoXCIjcHJhY3RpY2VfY29udGFpbmVyXCIpLmVtcHR5KCkuc2hvdygpO1xyXG4gIFxyXG4gICAgLy8gQnVpbGQgdGhlIHByYWN0aWNlIHJvdW5kIGNvbnRlbnQgaW5zaWRlIGEgZml4ZWQgY29udGFpbmVyLlxyXG4gICAgY29uc3QgcHJhY3RpY2VDb250ZW50ID0gJChgXHJcbiAgICAgIDxkaXYgaWQ9XCJwcmFjdGljZV9pbm5lcl9jb250YWluZXJcIiBzdHlsZT1cInBhZGRpbmc6IDIwcHg7IHBhZGRpbmctdG9wOjBweDsgb3ZlcmZsb3cteTogYXV0bztcIj5cclxuICAgICAgICA8ZGl2IGlkPVwicHJhY3RpY2VfaW5zdHJ1Y3Rpb25zXCI+PC9kaXY+XHJcbiAgICAgICAgPGRpdiBpZD1cInByYWN0aWNlX2hlYWRlclwiPjwvZGl2PlxyXG4gICAgICAgIDxkaXYgaWQ9XCJwcmFjdGljZV9jb250ZW50XCIgc3R5bGU9XCJtYXJnaW4tdG9wOiAxMHB4O1wiPjwvZGl2PlxyXG4gICAgICAgIDxkaXYgaWQ9XCJwcmFjdGljZV9uYXZcIiBzdHlsZT1cIm1hcmdpbi10b3A6IDIwcHg7IG1hcmdpbi1ib3R0b206IDI1cHg7XCI+PC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgYCk7XHJcbiAgICAkKFwiI3ByYWN0aWNlX2NvbnRhaW5lclwiKS5hcHBlbmQocHJhY3RpY2VDb250ZW50KTtcclxuICBcclxuICAgIC8vIFNldCBoZWFkZXIgZm9yIHRoZSBwcmFjdGljZSByb3VuZC5cclxuICAgICQoXCIjcHJhY3RpY2VfaGVhZGVyXCIpLmh0bWwoYDxoMz5QcmFjdGljZSBFeGFtcGxlICgke3ByYWN0aWNlSW5kZXggKyAxfSBvZiAke3ByYWN0aWNlUXVlc3Rpb25zLmxlbmd0aH0pPC9oMz5gKTtcclxuICBcclxuICAgIGNvbnN0IGNvbmRpdGlvbiA9IGRhdGFbY3VycmVudENvbmRpdGlvbkluZGV4XS5jb25kaXRpb247XHJcbiAgICBjb25zdCBidWxsZXRQb2ludHM6IHN0cmluZ1tdID0gW107XHJcblxyXG4gICAgaWYgKGNvbmRpdGlvbiA9PT0gXCJoaWdobGlnaHRlZFwiKSB7XHJcbiAgICAgICAgYnVsbGV0UG9pbnRzLnB1c2goXCJZb3Ugd2lsbCBiZSBhYmxlIHRvIHNlZSBpZiB0aGUgbW9kZWwgaXMgdW5jZXJ0YWluIGFib3V0IGFueSBwYXJ0IG9mIHRoZSB0cmFuc2NyaXB0aW9uLlwiKVxyXG4gICAgICAgIGJ1bGxldFBvaW50cy5wdXNoKFwiVGhlIHRleHQgaXMgcmVkIGlmIHRoZSBtb2RlbCBpcyB1bmNlcnRhaW4gYWJvdXQgaXQuIFRoZSBicmlnaHRlciB0aGUgcmVkIGhpZ2hsaWdodCwgdGhlIG1vcmUgdW5jZXJ0YWluIHRoZSBtb2RlbCBpcyBhYm91dCB0aGF0IHNwZWNpZmljIHBhcnQgb2YgdGhlIHRleHQuXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBidWxsZXRQb2ludHMucHVzaChcIllvdSB3aWxsIDxiPm5vdDwvYj4gYmUgYWJsZSB0byBzZWUgaWYgdGhlIG1vZGVsIGlzIHVuY2VydGFpbiBhYm91dCBhbnkgcGFydCBvZiB0aGUgdHJhbnNjcmlwdGlvbi5cIik7XHJcbiAgICB9XHJcbiAgICBidWxsZXRQb2ludHMucHVzaChcIlJldmlldyB0aGUgdHJhbnNjcmlwdGlvbiBjYXJlZnVsbHkgYW5kIGZpeCBhbnkgZXJyb3JzIGJ5IGVkaXRpbmcgdGhlIGlucHV0IGJveC5cIik7XHJcbiAgICBidWxsZXRQb2ludHMucHVzaChcIldoZW4gdGhlIHNlc3Npb24gc3RhcnRzLCB5b3Ugd2lsbCBoYXZlIDIwIHNlY29uZHMgdG8gbW9kaWZ5IGVhY2ggdHJhbnNjcmlwdGlvbi5cIik7XHJcblxyXG4gICAgLy8gQnVpbGQgSFRNTCBmb3IgdGhlIGJ1bGxldCBsaXN0IGR5bmFtaWNhbGx5XHJcbiAgICBjb25zdCBidWxsZXRIdG1sID0gYnVsbGV0UG9pbnRzLm1hcChwb2ludCA9PiBgPGxpPiR7cG9pbnR9PC9saT5gKS5qb2luKFwiXCIpO1xyXG5cclxuICAgIC8vIEluc2VydCB0aGUgaW5zdHJ1Y3Rpb25zIGluIHRoZSBwcmFjdGljZSByb3VuZCBVSVxyXG4gICAgJChcIiNwcmFjdGljZV9pbnN0cnVjdGlvbnNcIikuaHRtbChgXHJcbiAgICA8aDMgc3R5bGU9XCJmb250LXNpemU6IDEuMWVtOyBtYXJnaW4tYm90dG9tOiA1cHg7XCI+SW5zdHJ1Y3Rpb25zOjwvaDM+XHJcbiAgICA8dWwgc3R5bGU9XCJtYXJnaW4tbGVmdDogMjBweDtcIj5cclxuICAgICAgICAke2J1bGxldEh0bWx9XHJcbiAgICA8L3VsPlxyXG4gICAgYCk7XHJcblxyXG4gICAgLy8gQnVpbGQgY29udGVudDogaW1hZ2UsIHByZWRpY3RlZCB0ZXh0LCBhbmQgaW5wdXQuXHJcbiAgICBjb25zdCBjb250ZW50SHRtbCA9IGBcclxuICAgICAgPGRpdiBpZD1cInByYWN0aWNlX3F1ZXN0aW9uX2Rpc3BsYXlcIiBzdHlsZT1cIm1hcmdpbi10b3A6IDEwcHg7XCI+XHJcbiAgICAgICAgPGltZyBpZD1cInByYWN0aWNlX3F1ZXN0aW9uX2ltYWdlXCIgc3JjPVwiXCIgYWx0PVwiUHJhY3RpY2UgUXVlc3Rpb24gSW1hZ2VcIiBzdHlsZT1cIm1heC13aWR0aDogMTAwJTsgaGVpZ2h0OiAxMTBweDsgb2JqZWN0LWZpdDogY29udGFpbjttYXJnaW4tdG9wOiAyMHB4O1wiPlxyXG4gICAgICAgIDxkaXYgaWQ9XCJwcmFjdGljZV9wcmVkaWN0ZWRfdGV4dF9jb250YWluZXJcIiBzdHlsZT1cIm1hcmdpbi10b3A6IDIwcHg7XCI+XHJcbiAgICAgICAgICA8ZGl2IHN0eWxlPVwibWFyZ2luLXRvcDogMTBweDtcIj5QcmVkaWN0ZWQgVGV4dDo8L2Rpdj5cclxuICAgICAgICAgIDxkaXYgaWQ9XCJwcmFjdGljZV9wcmVkaWN0ZWRfdGV4dFwiIHN0eWxlPVwibWFyZ2luLXRvcDogMjBweDtcIj48L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGlkPVwicHJhY3RpY2VfdG9rZW5faW5wdXRfY29udGFpbmVyXCIgc3R5bGU9XCJtYXJnaW4tdG9wOiAyMHB4O1wiPlxyXG4gICAgICAgICAgPGlucHV0IGlkPVwicHJhY3RpY2VfdG9rZW5faW5wdXRcIiB0eXBlPVwidGV4dFwiIHN0eWxlPVwid2lkdGg6IDEwMCU7IGZvbnQtc2l6ZTogMTZweDsgcGFkZGluZzogOHB4O1wiPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgIGA7XHJcbiAgICAkKFwiI3ByYWN0aWNlX2NvbnRlbnRcIikuaHRtbChjb250ZW50SHRtbCk7XHJcbiAgXHJcbiAgICAvLyBHZXQgdGhlIGN1cnJlbnQgcHJhY3RpY2UgcXVlc3Rpb24uXHJcbiAgICBjb25zdCBxdWVzdGlvbiA9IHByYWN0aWNlUXVlc3Rpb25zW3ByYWN0aWNlSW5kZXhdO1xyXG4gIFxyXG4gICAgLy8gU2V0IHRoZSBxdWVzdGlvbiBpbWFnZS5cclxuICAgIGlmIChxdWVzdGlvbltcImltYWdlXCJdKSB7XHJcbiAgICAgICQoXCIjcHJhY3RpY2VfcXVlc3Rpb25faW1hZ2VcIikuYXR0cihcInNyY1wiLCBcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxcIiArIHF1ZXN0aW9uW1wiaW1hZ2VcIl0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgJChcIiNwcmFjdGljZV9xdWVzdGlvbl9pbWFnZVwiKS5hdHRyKFwic3JjXCIsIFwiXCIpO1xyXG4gICAgfVxyXG4gIFxyXG4gIFxyXG4gICAgLy8gUHJlcG9wdWxhdGUgdGhlIHRleHQgaW5wdXQuXHJcbiAgICBsZXQgdG9rZW5zQ29uY2F0ZW5hdGVkID0gXCJcIjtcclxuICAgIGlmIChxdWVzdGlvbltcInRva2VuX2luZm9cIl0gJiYgQXJyYXkuaXNBcnJheShxdWVzdGlvbltcInRva2VuX2luZm9cIl0pKSB7XHJcbiAgICAgIHRva2Vuc0NvbmNhdGVuYXRlZCA9IHF1ZXN0aW9uW1widG9rZW5faW5mb1wiXVxyXG4gICAgICAgIC5tYXAoaXRlbSA9PiBpdGVtLnRva2VuKVxyXG4gICAgICAgIC5maWx0ZXIodG9rZW4gPT4gdG9rZW4gIT09IFwiPHxpbV9lbmR8PlwiKVxyXG4gICAgICAgIC5tYXAodG9rZW4gPT4gdG9rZW4ucmVwbGFjZSgvxKAvZywgXCIgXCIpKVxyXG4gICAgICAgIC5qb2luKCcnKTtcclxuICAgIH1cclxuICAgICQoXCIjcHJhY3RpY2VfdG9rZW5faW5wdXRcIikudmFsKGZpeFNwYWNpbmcodG9rZW5zQ29uY2F0ZW5hdGVkKSk7XHJcblxyXG4gICAgaWYoZGF0YVtjdXJyZW50Q29uZGl0aW9uSW5kZXhdLmNvbmRpdGlvbiA9PSBcIm5vbi1oaWdobGlnaHRlZFwiKXsgXHJcbiAgICAgICAgJChcIiNwcmFjdGljZV9wcmVkaWN0ZWRfdGV4dFwiKS5odG1sKGZpeFNwYWNpbmcodG9rZW5zQ29uY2F0ZW5hdGVkKSk7XHJcbiAgICB9ICAgXHJcbiAgICBlbHNlIGlmIChkYXRhW2N1cnJlbnRDb25kaXRpb25JbmRleF0uY29uZGl0aW9uID09IFwiaGlnaGxpZ2h0ZWRcIil7XHJcbiAgICAgICAgbGV0IHByZWRpY3RlZEh0bWwgPSBcIlwiO1xyXG4gICAgICAgICAgICBpZiAocXVlc3Rpb25bXCJ0b2tlbl9pbmZvXCJdICYmIEFycmF5LmlzQXJyYXkocXVlc3Rpb25bXCJ0b2tlbl9pbmZvXCJdKSkge1xyXG4gICAgICAgICAgICAgICAgcHJlZGljdGVkSHRtbCA9IHF1ZXN0aW9uW1widG9rZW5faW5mb1wiXVxyXG4gICAgICAgICAgICAgICAgLmZpbHRlcihpdGVtID0+IGl0ZW0udG9rZW4gIT09IFwiPHxpbV9lbmR8PlwiKVxyXG4gICAgICAgICAgICAgICAgLm1hcChpdGVtID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCB0b2tlblRleHQgPSBpdGVtLnRva2VuLnJlcGxhY2UoL8SgL2csIFwiIFwiKTtcclxuICAgICAgICAgICAgICAgIGxldCBwcm9iID0gKGl0ZW0udG9wXzVfdG9rZW5zICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnRvcF81X3Rva2Vuc1swXSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGl0ZW0udG9wXzVfdG9rZW5zWzBdLnByb2JhYmlsaXR5ID09PSBcIm51bWJlclwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBpdGVtLnRvcF81X3Rva2Vuc1swXS5wcm9iYWJpbGl0eVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAxO1xyXG4gICAgICAgICAgICAgICAgbGV0IGludGVuc2l0eSA9IDEgLSBwcm9iO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGA8c3BhbiBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAwLCAwLCAke2ludGVuc2l0eX0pO1wiPiR7Zml4U3BhY2luZyh0b2tlblRleHQpfTwvc3Bhbj5gO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5qb2luKCcnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICQoXCIjcHJhY3RpY2VfcHJlZGljdGVkX3RleHRcIikuaHRtbChwcmVkaWN0ZWRIdG1sKTtcclxuICAgICAgICB9ICAgIFxyXG4gIFxyXG4gICAgLy8gQWZ0ZXIgc2V0dGluZyB0aGUgcHJlZGljdGVkIHRleHQgaW4gI3ByYWN0aWNlX3ByZWRpY3RlZF90ZXh0LCBhZGQ6XHJcbiAgICBpZiAoY29uZGl0aW9uID09PSBcImhpZ2hsaWdodGVkXCIpe1xyXG4gICAgICAgIGxldCBhZGRpdGlvbmFsVGV4dCA9IFwiXCI7XHJcbiAgICAgICAgaWYgKHByYWN0aWNlSW5kZXggPT09IDApIHtcclxuICAgICAgICBhZGRpdGlvbmFsVGV4dCA9IFwiVGhlIG1vZGVsIGlzIHVuY2VydGFpbiBhYm91dCB0aGUgdGV4dCAnXFxcXGJveGVkJ1wiO1xyXG4gICAgICAgIH0gZWxzZSBpZiAocHJhY3RpY2VJbmRleCA9PT0gMSkge1xyXG4gICAgICAgIGFkZGl0aW9uYWxUZXh0ID0gXCJ0aGUgbW9kZWwgc2hvd3Mgbm8gdW5jZXJ0YWludHkgKGkuZS4gaXQgaXMgY29uZmlkZW50IGFib3V0IHRoZSBmdWxsIHRyYW5zY3JpcHRpb24pXCI7XHJcbiAgICAgICAgfSBlbHNlIGlmIChwcmFjdGljZUluZGV4ID09PSAyKSB7XHJcbiAgICAgICAgYWRkaXRpb25hbFRleHQgPSBcIlRoZSBtb2RlbCBpcyB1bmNlcnRhaW4gYWJvdXQgdGhyZWUgY2hhcmFjdGVyc1wiO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkKFwiI3ByYWN0aWNlX3ByZWRpY3RlZF90ZXh0XCIpLmFwcGVuZChcclxuICAgICAgICBgPHNwYW4gc3R5bGU9XCJmb250LXN0eWxlOiBpdGFsaWM7IG1hcmdpbi1sZWZ0OiAyMHB4OyB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1wiPiR7YWRkaXRpb25hbFRleHR9PC9zcGFuPmBcclxuICAgICAgICApO1xyXG4gICAgXHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vIEJ1aWxkIG5hdmlnYXRpb24gYnV0dG9ucy5cclxuICAgIGNvbnN0IG5hdkh0bWwgPSBgXHJcbiAgICAgIDxkaXY+XHJcbiAgICAgICAgPGlucHV0IGlkPVwicHJhY3RpY2VfcHJldlwiIHR5cGU9XCJidXR0b25cIiB2YWx1ZT1cIlByZXZpb3VzIEV4YW1wbGVcIj5cclxuICAgICAgICA8aW5wdXQgaWQ9XCJwcmFjdGljZV9uZXh0XCIgdHlwZT1cImJ1dHRvblwiIHZhbHVlPVwiTmV4dCBFeGFtcGxlXCIgc3R5bGU9XCJtYXJnaW4tbGVmdDogMTBweDtcIj5cclxuICAgICAgPC9kaXY+XHJcbiAgICBgO1xyXG4gICAgJChcIiNwcmFjdGljZV9uYXZcIikuaHRtbChuYXZIdG1sKTtcclxuICBcclxuICAgIC8vIEF0dGFjaCBidXR0b24gaGFuZGxlcnMuXHJcbiAgICAkKFwiI3ByYWN0aWNlX3ByZXZcIikub2ZmKFwiY2xpY2tcIikub24oXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHByYWN0aWNlSW5kZXggPSAocHJhY3RpY2VJbmRleCAtIDEgKyBwcmFjdGljZVF1ZXN0aW9ucy5sZW5ndGgpICUgcHJhY3RpY2VRdWVzdGlvbnMubGVuZ3RoO1xyXG4gICAgICBzaG93UHJhY3RpY2VSb3VuZChvbkNvbXBsZXRlKTtcclxuICAgIH0pO1xyXG4gICAgJChcIiNwcmFjdGljZV9uZXh0XCIpLm9mZihcImNsaWNrXCIpLm9uKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICBwcmFjdGljZUluZGV4ID0gKHByYWN0aWNlSW5kZXggKyAxKSAlIHByYWN0aWNlUXVlc3Rpb25zLmxlbmd0aDtcclxuICAgICAgc2hvd1ByYWN0aWNlUm91bmQob25Db21wbGV0ZSk7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgXHJcblxyXG5cclxuLyogTmV3IGZ1bmN0aW9uOiBTaG93IGVuZC1vZi1jb25kaXRpb24gcGFnZSAqL1xyXG5mdW5jdGlvbiBzaG93RW5kQ29uZGl0aW9uUGFnZShjb25kaXRpb246IHN0cmluZykge1xyXG4gICAgJChcIiNtYWluX2JveF9leHBlcmltZW50XCIpLmhpZGUoKTtcclxuICAgIGNvbnN0IGN1cnJlbnRDb25kaXRpb24gPSBkYXRhW2N1cnJlbnRDb25kaXRpb25JbmRleF0uY29uZGl0aW9uO1xyXG4gICAgJChcIiNjb25kaXRpb25fbGFiZWxcIikudGV4dChjdXJyZW50Q29uZGl0aW9uKTtcclxuICAgIC8vIFJlc2V0IGVhY2ggc2xpZGVyIHRvIGEgZGVmYXVsdCwgZS5nLiwgMFxyXG4gICAgJChcIiNtZW50YWxfZGVtYW5kXCIpLnZhbChcIjBcIik7XHJcbiAgICAkKFwiI2h1cnJpZWRfZGVtYW5kXCIpLnZhbChcIjBcIik7XHJcbiAgICAkKFwiI3BlcmZvcm1hbmNlXCIpLnZhbChcIjBcIik7XHJcbiAgICAkKFwiI2VmZm9ydFwiKS52YWwoXCIwXCIpO1xyXG4gICAgJChcIiNmcnVzdHJhdGlvblwiKS52YWwoXCIwXCIpO1xyXG5cclxuICAgICQoXCIjbmFzYV90bHhfc3VydmV5XCIpLnNob3coKTtcclxuICAgXHJcbn1cclxuXHJcblxyXG5cclxuZnVuY3Rpb24gbmV4dF9xdWVzdGlvbigpIHtcclxuICAgIC8vIHJlc3RvcmUgcHJldmlvdXMgc3RhdGUgb2YgVUlcclxuICAgICQoXCIjbWFpbl9ib3hfZXhwZXJpbWVudFwiKS5zaG93KCk7XHJcbiAgICAkKFwiI2J1dHRvbl9uZXh0XCIpLmhpZGUoKVxyXG4gICAgJCgnI2J1dHRvbl9xdWl0JykuaGlkZSgpXHJcbiAgICBrZXlsb2dzID0gW107XHJcbiAgICAvLyQoXCIjcmFuZ2VfdmFsXCIpLnZhbCh1c2VyX3RydXN0KVxyXG4gICAgLy8gY29uc29sZS5sb2coXCJxdWVzdGlvbiBpbmRleCwgY29uZGl0aW9uIGluZGV4XCIsIGN1cnJlbnRRdWVzdGlvbkluZGV4LCBjdXJyZW50Q29uZGl0aW9uSW5kZXgpICAgICAgICBcclxuXHJcbiAgICBpZiAoY3VycmVudENvbmRpdGlvbkluZGV4ID49IGRhdGEubGVuZ3RoKSB7XHJcbiAgICAgICAgJChcIiNtYWluX2JveF9leHBlcmltZW50XCIpLmhpZGUoKTtcclxuICAgICAgICAkKFwiI3F1YWxpdGF0aXZlX3NlY3Rpb25cIikuc2hvdygpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGxldCBjb25kaXRpb25CbG9jayA9IGRhdGFbY3VycmVudENvbmRpdGlvbkluZGV4XTtcclxuICAgIC8vIGNvbnNvbGUubG9nKFwiQ29uZGl0aW9uIGJsb2NrXCIsIGNvbmRpdGlvbkJsb2NrKVxyXG4gICAgLy8gY29uc29sZS5sb2coZGF0YSlcclxuXHJcbiAgICAvLyBJZiB3ZSBhcmUgYXQgdGhlIHN0YXJ0IHBhZ2UgZm9yIHRoaXMgY29uZGl0aW9uLCBzaG93IGl0LlxyXG4gICAgaWYgKGN1cnJlbnRRdWVzdGlvbkluZGV4ID09PSAwKSB7XHJcbiAgICAgICAgc2hvd1N0YXJ0Q29uZGl0aW9uUGFnZShjb25kaXRpb25CbG9jay5jb25kaXRpb24pO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBJZiB3ZSd2ZSBnb25lIHBhc3QgYWxsIHF1ZXN0aW9ucyBpbiB0aGlzIGNvbmRpdGlvbiwgc2hvdyB0aGUgZW5kLW9mLWNvbmRpdGlvbiBwYWdlLlxyXG4gICAgaWYgKGN1cnJlbnRRdWVzdGlvbkluZGV4ID4gY29uZGl0aW9uQmxvY2sucXVlc3Rpb25zLmxlbmd0aCkge1xyXG4gICAgICAgIHNob3dFbmRDb25kaXRpb25QYWdlKGNvbmRpdGlvbkJsb2NrLmNvbmRpdGlvbik7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBxdWVzdGlvbiA9IGNvbmRpdGlvbkJsb2NrLnF1ZXN0aW9uc1tjdXJyZW50UXVlc3Rpb25JbmRleCAtIDFdO1xyXG4gICAgLy8gY29uc29sZS5sb2coXCJRdWVzdGlvblwiLCBjdXJyZW50UXVlc3Rpb25JbmRleCwgcXVlc3Rpb24pXHJcbiAgICBcclxuICAgIFxyXG4gICAgLy8gLS0tIFVwZGF0ZSBQYXJ0IDEgZWxlbWVudHMgLS0tXHJcbiAgICAvLyBGb3IgdGhlIGltYWdlOiBhc3N1bWUgYSB2YWxpZCBCYXNlNjQgc3RyaW5nIGZvciBub3cuXHJcbiAgICBpZiAocXVlc3Rpb25bXCJpbWFnZVwiXSkge1xyXG4gICAgICAkKFwiI3F1ZXN0aW9uX2ltYWdlXCIpLmF0dHIoXCJzcmNcIiwgXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsXCIgKyBxdWVzdGlvbltcImltYWdlXCJdKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICQoXCIjcXVlc3Rpb25faW1hZ2VcIikuYXR0cihcInNyY1wiLCBcIlwiKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gQ29uY2F0ZW5hdGUgdG9rZW5zICh3aXRoIHJlcGxhY2VtZW50IG9mIMSgIGFuZCBza2lwcGluZyA8fGltX2VuZHw+KS5cclxuICAgIGxldCB0b2tlbnNDb25jYXRlbmF0ZWQgPSBcIlwiO1xyXG4gICAgaWYgKHF1ZXN0aW9uW1widG9rZW5faW5mb1wiXSAmJiBBcnJheS5pc0FycmF5KHF1ZXN0aW9uW1widG9rZW5faW5mb1wiXSkpIHtcclxuICAgICAgICB0b2tlbnNDb25jYXRlbmF0ZWQgPSBxdWVzdGlvbltcInRva2VuX2luZm9cIl1cclxuICAgICAgICAgIC5tYXAoaXRlbSA9PiBpdGVtLnRva2VuKVxyXG4gICAgICAgICAgLmZpbHRlcih0b2tlbiA9PiB0b2tlbiAhPT0gXCI8fGltX2VuZHw+XCIpXHJcbiAgICAgICAgICAubWFwKHRva2VuID0+IHRva2VuLnJlcGxhY2UoL8SgL2csIFwiIFwiKSlcclxuICAgICAgICAgIC5qb2luKCcnKTtcclxuICAgIH1cclxuICAgICQoXCIjdG9rZW5faW5wdXRcIikudmFsKGZpeFNwYWNpbmcodG9rZW5zQ29uY2F0ZW5hdGVkKSk7XHJcbiAgICBwcmV2aW91c0lucHV0ID0gJChcIiN0b2tlbl9pbnB1dFwiKS52YWwoKSBhcyBzdHJpbmcgfHwgXCJcIjtcclxuICAgIGlmKGRhdGFbY3VycmVudENvbmRpdGlvbkluZGV4XS5jb25kaXRpb24gPT0gXCJub24taGlnaGxpZ2h0ZWRcIil7IFxyXG4gICAgICAgICQoXCIjcHJlZGljdGVkX3RleHRcIikuaHRtbChmaXhTcGFjaW5nKHRva2Vuc0NvbmNhdGVuYXRlZCkpO1xyXG4gICAgfSAgIFxyXG4gICAgZWxzZSBpZiAoZGF0YVtjdXJyZW50Q29uZGl0aW9uSW5kZXhdLmNvbmRpdGlvbiA9PSBcImhpZ2hsaWdodGVkXCIpe1xyXG4gICAgICAgIGxldCBwcmVkaWN0ZWRIdG1sID0gXCJcIjtcclxuICAgICAgICAgICAgaWYgKHF1ZXN0aW9uW1widG9rZW5faW5mb1wiXSAmJiBBcnJheS5pc0FycmF5KHF1ZXN0aW9uW1widG9rZW5faW5mb1wiXSkpIHtcclxuICAgICAgICAgICAgICAgIHByZWRpY3RlZEh0bWwgPSBxdWVzdGlvbltcInRva2VuX2luZm9cIl1cclxuICAgICAgICAgICAgICAgIC5maWx0ZXIoaXRlbSA9PiBpdGVtLnRva2VuICE9PSBcIjx8aW1fZW5kfD5cIilcclxuICAgICAgICAgICAgICAgIC5tYXAoaXRlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdG9rZW5UZXh0ID0gaXRlbS50b2tlbi5yZXBsYWNlKC/EoC9nLCBcIiBcIik7XHJcbiAgICAgICAgICAgICAgICBsZXQgcHJvYiA9IChpdGVtLnRvcF81X3Rva2VucyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS50b3BfNV90b2tlbnNbMF0gJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiBpdGVtLnRvcF81X3Rva2Vuc1swXS5wcm9iYWJpbGl0eSA9PT0gXCJudW1iZXJcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gaXRlbS50b3BfNV90b2tlbnNbMF0ucHJvYmFiaWxpdHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogMTtcclxuICAgICAgICAgICAgICAgIGxldCBpbnRlbnNpdHkgPSAxIC0gcHJvYjtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgPHNwYW4gc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMCwgMCwgJHtpbnRlbnNpdHl9KTtcIj4ke2ZpeFNwYWNpbmcodG9rZW5UZXh0KX08L3NwYW4+YDtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuam9pbignJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAkKFwiI3ByZWRpY3RlZF90ZXh0XCIpLmh0bWwocHJlZGljdGVkSHRtbCk7XHJcbiAgICAgICAgfSAgICBcclxuXHJcbiAgICAvLyAoVXBkYXRlIHByb2dyZXNzIGFuZCBvdGhlciBlbGVtZW50cyBhcyBuZWNlc3NhcnkpXHJcbiAgICAkKFwiI3Byb2dyZXNzXCIpLnRleHQoYFNlY3Rpb24gJHtjdXJyZW50Q29uZGl0aW9uSW5kZXggKyAxfSBvZiAke2RhdGEubGVuZ3RofSB8IFF1ZXN0aW9uICR7Y3VycmVudFF1ZXN0aW9uSW5kZXh9IG9mICR7Y29uZGl0aW9uQmxvY2sucXVlc3Rpb25zLmxlbmd0aH1gKTtcclxuICAgICAgICAvLyBBbHdheXMgc2hvdyBQYXJ0IDEgYW5kIGhpZGUgUGFydCAyIHdoZW4gYSBuZXcgcXVlc3Rpb24gbG9hZHMuXHJcbiAgICAgICAgJChcIiNwYXJ0MVwiKS5zaG93KCk7XHJcbiAgICAgICAgJChcIiNwYXJ0MlwiKS5oaWRlKCk7XHJcbiAgICBcclxuLy8gQXQgdGhlIGVuZCBvZiBuZXh0X3F1ZXN0aW9uKCksIGFmdGVyIHVwZGF0aW5nIGFsbCBQYXJ0IDEgZWxlbWVudHM6XHJcbiQoXCIjdG9rZW5faW5wdXRfY29udGFpbmVyXCIpLmhpZGUoKTtcclxuJChcIiNidXR0b25fbmV4dF9wYXJ0MVwiKS5oaWRlKCk7XHJcblxyXG4gICAgLy8gU2V0IHRoZSBwcmVjaXNlIHF1ZXN0aW9uIHN0YXJ0IHRpbWUgKGluIG1zKVxyXG4gICAgcXVlc3Rpb25TdGFydFRpbWUgPSBEYXRlLm5vdygpO1xyXG5cclxuXHJcbi8vIFN0YXJ0IGEgMjAtc2Vjb25kIHRpbWVyIGZvciBQYXJ0IDFcclxuLy8gY2xlYXJUaW1lb3V0KHBhcnQxVGltZXIpO1xyXG4vLyBwYXJ0MVRpbWVyID0gd2luZG93LnNldFRpbWVvdXQoYXV0b1N1Ym1pdFBhcnQxLCAyMDAwMCk7XHJcblxyXG4vLyBSZXNldCBhbmQgc3RhcnQgdGhlIHRpbWVyIGZvciBQYXJ0IDFcclxucmVtYWluaW5nVGltZSA9IDIwO1xyXG4kKFwiI3RpbWVyXCIpLnRleHQocmVtYWluaW5nVGltZSk7XHJcbiQoXCIjdGltZXJcIikuc2hvdygpO1xyXG5cclxuLy8gQ2xlYXIgYW55IHByZXZpb3VzIGludGVydmFsXHJcbmlmIChwYXJ0MUludGVydmFsKSB7XHJcbiAgICBjbGVhckludGVydmFsKHBhcnQxSW50ZXJ2YWwpO1xyXG59XHJcblxyXG4vLyBTdGFydCBhIG5ldyBpbnRlcnZhbCB0aGF0IGNvdW50cyBkb3duIGV2ZXJ5IHNlY29uZFxyXG5wYXJ0MUludGVydmFsID0gd2luZG93LnNldEludGVydmFsKCgpID0+IHtcclxuICAgIHJlbWFpbmluZ1RpbWUgLT0gMTtcclxuICAgICQoXCIjdGltZXJcIikudGV4dChyZW1haW5pbmdUaW1lKTtcclxuXHJcbiAgICAvLyBXaGVuIHRoZXJlIGFyZSAxNSBzZWNvbmRzIG9yIGxlc3MgcmVtYWluaW5nLCBzaG93IHRoZSBpbnB1dCBib3ggYW5kIE5leHQgYnV0dG9uXHJcbiAgICBpZiAocmVtYWluaW5nVGltZSA8PSAxNSkge1xyXG4gICAgICAgICQoXCIjdG9rZW5faW5wdXRfY29udGFpbmVyXCIpLnNob3coKTtcclxuICAgICAgICAkKFwiI2J1dHRvbl9uZXh0X3BhcnQxXCIpLnNob3coKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAocmVtYWluaW5nVGltZSA8PSAwKSB7XHJcbiAgICAgICAgY2xlYXJJbnRlcnZhbChwYXJ0MUludGVydmFsKTtcclxuICAgICAgICBhdXRvU3VibWl0UGFydDEoKTtcclxuICAgICAgICAkKFwiI3RpbWVyXCIpLmhpZGUoKTtcclxuICAgIH1cclxufSwgMTAwMCk7XHJcblxyXG5cclxufVxyXG5cclxuLy8gZ2V0IHVzZXIgaWQgYW5kIGxvYWQgcXVldWVcclxuLy8gdHJ5IHRvIHNlZSBpZiBzdGFydCBvdmVycmlkZSB3YXMgcGFzc2VkXHJcbmNvbnN0IHVybFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7XHJcbmNvbnN0IHN0YXJ0T3ZlcnJpZGUgPSB1cmxQYXJhbXMuZ2V0KCdzdGFydCcpO1xyXG5jb25zdCBVSURGcm9tVVJMID0gdXJsUGFyYW1zLmdldChcInVpZFwiKVxyXG5nbG9iYWxUaGlzLnVybF9kYXRhID0gcGFyYW1zVG9PYmplY3QodXJsUGFyYW1zLmVudHJpZXMoKSlcclxuXHJcbmlmIChnbG9iYWxUaGlzLnVybF9kYXRhWydzdHVkeV9pZCddID09IG51bGwpIHtcclxuICAgIGdsb2JhbFRoaXMudXJsX2RhdGFbJ3N0dWR5X2lkJ10gPSBcImRlbW9fc3R1ZHlcIlxyXG59XHJcbmlmIChnbG9iYWxUaGlzLnVybF9kYXRhWydwcm9saWZpY19pZCddID09IG51bGwpIHtcclxuICAgIGdsb2JhbFRoaXMudXJsX2RhdGFbJ3Byb2xpZmljX2lkJ10gPSBcImRlbW9fdXNlclwiXHJcbn1cclxuaWYgKGdsb2JhbFRoaXMudXJsX2RhdGFbJ3Nlc3Npb25faWQnXSA9PSBudWxsKSB7XHJcbiAgICBnbG9iYWxUaGlzLnVybF9kYXRhWydzZXNzaW9uX2lkJ10gPSBcImRlbW9fc2Vzc2lvblwiXHJcbn1cclxuXHJcbmlmIChVSURGcm9tVVJMICE9IG51bGwpIHtcclxuICAgIGdsb2JhbFRoaXMudWlkID0gVUlERnJvbVVSTCBhcyBzdHJpbmdcclxuICAgIGlmIChnbG9iYWxUaGlzLnVpZCA9PSBcInByb2xpZmljX3JhbmRvbVwiKSB7XHJcbiAgICAgICAgbGV0IHF1ZXVlX2lkID0gYCR7TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNCl9YC5wYWRTdGFydCgzLCBcIjBcIilcclxuICAgICAgICBnbG9iYWxUaGlzLnVpZCA9IGAke3VybFBhcmFtcy5nZXQoXCJwcm9saWZpY19xdWV1ZV9uYW1lXCIpfV8ke3F1ZXVlX2lkfWBcclxuICAgIH1cclxufSBlbHNlIGlmIChERVZNT0RFKSB7XHJcbiAgICBnbG9iYWxUaGlzLnVpZCA9IFwiZGVtb1wiXHJcbn0gZWxzZSB7XHJcbiAgICBsZXQgVUlEX21heWJlOiBhbnkgPSBudWxsXHJcbiAgICB3aGlsZSAoVUlEX21heWJlID09IG51bGwpIHtcclxuICAgICAgICBVSURfbWF5YmUgPSBwcm9tcHQoXCJFbnRlciB5b3VyIHVzZXIgaWQuIFBsZWFzZSBnZXQgaW4gdG91Y2ggaWYgeW91IHdlcmUgbm90IGFzc2lnbmVkIGFuIGlkIGJ1dCB3aXNoIHRvIHBhcnRpY2lwYXRlIGluIHRoaXMgZXhwZXJpbWVudC5cIilcclxuICAgIH1cclxuICAgIGdsb2JhbFRoaXMudWlkID0gVUlEX21heWJlIVxyXG59XHJcblxyXG4vLyB2ZXJzaW9uIGZvciBwYXBlclxyXG5pZiAoREVWTU9ERSkge1xyXG4gICAgTU9DS01PREUgPSB0cnVlXHJcbn0gZWxzZSBpZiAoZ2xvYmFsVGhpcy51cmxfZGF0YVsnc2Vzc2lvbl9pZCddLnN0YXJ0c1dpdGgoXCJkZW1vXCIpKSB7XHJcbiAgICBNT0NLTU9ERSA9IHRydWVcclxufVxyXG5cclxuLy8gY29uc29sZS5sb2coXCJSdW5uaW5nIHdpdGggVUlEXCIsIGdsb2JhbFRoaXMudWlkKVxyXG5sb2FkX2RhdGEoKS5jYXRjaCgoX2Vycm9yKSA9PiB7XHJcbiAgICAvL2FsZXJ0KFwiSW52YWxpZCB1c2VyIGlkLlwiKVxyXG4gICAgLy8gY29uc29sZS5sb2coXCJJbnZhbGlkIHVzZXIgaWQuXCIpXHJcbiAgICAvLyBjb25zb2xlLmxvZyhnbG9iYWxUaGlzLnVpZCEpXHJcbiAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKClcclxufVxyXG4pLnRoZW4oKG5ld19kYXRhKSA9PiB7XHJcbiAgICBkYXRhID0gbmV3X2RhdGFcclxuICAgIGlmIChzdGFydE92ZXJyaWRlICE9IG51bGwpIHtcclxuICAgICAgICBjdXJyZW50UXVlc3Rpb25JbmRleCA9IHBhcnNlSW50KHN0YXJ0T3ZlcnJpZGUpIC0gMVxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiU3RhcnRpbmcgZnJvbVwiLCBjdXJyZW50UXVlc3Rpb25JbmRleClcclxuICAgIH1cclxuICAgIC8vIG5leHRfcXVlc3Rpb24oKVxyXG4gICAgbmV4dF9pbnN0cnVjdGlvbnMoMClcclxuICAgICQoXCIjbWFpbl9ib3hfaW5zdHJ1Y3Rpb25zXCIpLnNob3coKVxyXG4gICAgJChcIiNpbnN0cnVjdGlvbnNfYW5kX2RlY29yYXRpb25zXCIpLmhpZGUoKVxyXG59KVxyXG5cclxuLy8gY29uc29sZS5sb2coXCJTdGFydGluZyBzZXNzaW9uIHdpdGggVUlEOlwiLCBnbG9iYWxUaGlzLnVpZCEpXHJcblxyXG5sZXQgYWxlcnRfYWN0aXZlID0gZmFsc2VcclxuZG9jdW1lbnQub252aXNpYmlsaXR5Y2hhbmdlID0gKCkgPT4ge1xyXG4gICAgaWYgKCFhbGVydF9hY3RpdmUpIHtcclxuICAgICAgICBjb3VudF9leGl0ZWRfcGFnZSArPSAxXHJcbiAgICAgICAgYWxlcnRfYWN0aXZlID0gdHJ1ZVxyXG4gICAgICAgIC8vaWYgKCEoZ2xvYmFsVGhpcy51aWQhLnN0YXJ0c1dpdGgoXCJkZW1vXCIpKSkge1xyXG4gICAgICAgIC8vICAgIGFsZXJ0KFwiUGxlYXNlIGRvbid0IGxlYXZlIHRoZSBwYWdlLiBJZiB5b3UgZG8gc28gYWdhaW4sIHdlIG1heSByZXN0cmljdCBwYXlpbmcgeW91LlwiKVxyXG4gICAgICAgIC8vfVxyXG4gICAgICAgIGFsZXJ0X2FjdGl2ZSA9IGZhbHNlXHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIFdoZW4gdGhlIERPTSBpcyByZWFkeTpcclxuJChkb2N1bWVudCkucmVhZHkoKCkgPT4ge1xyXG4gICAgLy8gVHJhbnNpdGlvbiBmcm9tIFBhcnQgMSAocXVlc3Rpb24pIHRvIFBhcnQgMiAoY29uZmlkZW5jZSByYXRpbmcpXHJcbiAgICAkKFwiI2J1dHRvbl9uZXh0X3BhcnQxXCIpLm9uKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIC8vIENsZWFyIHRpbWVyIGFuZCB0cmFuc2l0aW9uIHRvIFBhcnQgMiAoY29uZmlkZW5jZSByYXRpbmcpXHJcbiAgICAgICAgbG9nSW5wdXRFdmVudChcIm5leHRfYnV0dG9uX3N1Ym1pdHRlZFwiKTtcclxuICAgICAgICBjbGVhckludGVydmFsKHBhcnQxSW50ZXJ2YWwpO1xyXG4gICAgICAgICQoXCIjdGltZXJcIikuaGlkZSgpO1xyXG4gICAgICAgICQoXCIjcGFydDFcIikuaGlkZSgpO1xyXG4gICAgICAgICQoXCIjcGFydDJcIikuc2hvdygpO1xyXG5cclxuICAgIH0pO1xyXG4gIFxyXG4gICAgLy8gSGFuZGxlIGNvbmZpZGVuY2UgcmF0aW5nIHNlbGVjdGlvbnM6XHJcbiAgICAkKFwiLmNvbmZpZGVuY2UtYnV0dG9uXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgbGV0IHJhdGluZyA9IHBhcnNlSW50KCQodGhpcykuYXR0cihcImRhdGEtcmF0aW5nXCIpIGFzIHN0cmluZyk7XHJcbiAgICAgICAgLy8gUmVtb3ZlICdzZWxlY3RlZCcgZnJvbSBhbGwgYnV0dG9ucywgdGhlbiBhZGQgaXQgdG8gdGhlIGNsaWNrZWQgb25lLlxyXG4gICAgICAgICQoXCIuY29uZmlkZW5jZS1idXR0b25cIikucmVtb3ZlQ2xhc3MoXCJzZWxlY3RlZFwiKTtcclxuICAgICAgICAkKHRoaXMpLmFkZENsYXNzKFwic2VsZWN0ZWRcIik7XHJcbiAgICAgICAgLy8gU3RvcmUgdGhlIHJhdGluZyBhbmQgZW5hYmxlIHRoZSBQYXJ0IDIgTmV4dCBidXR0b24uXHJcbiAgICAgICAgY29uZmlkZW5jZVJhdGluZyA9IHJhdGluZztcclxuICAgICAgICAkKFwiI2J1dHRvbl9uZXh0X3BhcnQyXCIpLnJlbW92ZUF0dHIoXCJkaXNhYmxlZFwiKTtcclxuICAgIH0pO1xyXG4gIFxyXG4gICAgLy8gVHJhbnNpdGlvbiBmcm9tIFBhcnQgMiAoY29uZmlkZW5jZSByYXRpbmcpIHRvIHRoZSBuZXh0IHF1ZXN0aW9uLlxyXG4gICAgJChcIiNidXR0b25fbmV4dF9wYXJ0MlwiKS5vbihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgLy8gTG9nIHRoZSBjb25maWRlbmNlIHJhdGluZyBhbG9uZyB3aXRoIG90aGVyIGRhdGEgaWYgbmVlZGVkLlxyXG4gICAgICBsZXQgbG9nZ2VkX2RhdGEgPSB7XHJcbiAgICAgICAgXCJxdWVzdGlvbl9pXCI6IGN1cnJlbnRRdWVzdGlvbkluZGV4LFxyXG4gICAgICAgIFwicWlkXCIgOiBxdWVzdGlvbltcInFpZFwiXSxcclxuICAgICAgICBcImNvbmRpdGlvblwiOiBkYXRhW2N1cnJlbnRDb25kaXRpb25JbmRleF0uY29uZGl0aW9uLFxyXG4gICAgICAgIFwiY29uZmlkZW5jZV9yYXRpbmdcIjogY29uZmlkZW5jZVJhdGluZyxcclxuICAgICAgICBcImtleWxvZ3NcIjoga2V5bG9ncyxcclxuICAgICAgICAvLyAuLi4gaW5jbHVkZSBvdGhlciBsb2dnaW5nIGZpZWxkcyBhcyBkZXNpcmVkXHJcbiAgICAgIH07XHJcbiAgICAgIGxvZ19kYXRhKGxvZ2dlZF9kYXRhKTtcclxuICAgICAgXHJcbiAgICAgIC8vIFJlc2V0IFBhcnQgMiBVSSBlbGVtZW50cyBmb3IgdGhlIG5leHQgcXVlc3Rpb24uXHJcbiAgICAgICQoXCIjYnV0dG9uX25leHRfcGFydDJcIikuYXR0cihcImRpc2FibGVkXCIsIFwidHJ1ZVwiKTtcclxuICAgICAgJChcIi5jb25maWRlbmNlLWJ1dHRvblwiKS5yZW1vdmVDbGFzcyhcInNlbGVjdGVkXCIpO1xyXG4gICAgICBjb25maWRlbmNlUmF0aW5nID0gLTE7XHJcbiAgICAgIFxyXG4gICAgICAvLyBTd2l0Y2ggYmFjayB0byBQYXJ0IDEgYW5kIGxvYWQgdGhlIG5leHQgcXVlc3Rpb24uXHJcbiAgICAgICQoXCIjcGFydDJcIikuaGlkZSgpO1xyXG4gICAgICAkKFwiI3BhcnQxXCIpLnNob3coKTtcclxuICAgICAgY3VycmVudFF1ZXN0aW9uSW5kZXgrKztcclxuICAgICAgbmV4dF9xdWVzdGlvbigpO1xyXG4gICAgfSk7XHJcbiAgICAkKFwiaW5wdXRbbmFtZT0nbGF0ZXhFeHBlcmllbmNlJ10sIGlucHV0W25hbWU9J2xhdGV4RnJlcXVlbmN5J10sIGlucHV0W25hbWU9J2NoYXRib3RGcmVxdWVuY3knXVwiKS5vbihcImNoYW5nZVwiLCAoKSA9PiB7XHJcbiAgICAgICAgaWYoY2hlY2tQcmVTdXJ2ZXkoKSkge1xyXG4gICAgICAgICAgICAkKFwiI2J1dHRvbl9pbnN0cnVjdGlvbnNfbmV4dFwiKS5yZW1vdmVBdHRyKFwiZGlzYWJsZWRcIilcclxuICAgICAgICAgICAgJChcIiNidXR0b25faW5zdHJ1Y3Rpb25zX25leHRcIikuc2hvdygpICAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0pO1xyXG4gICAgLy8ga2V5bG9nIHRoZSBpbnB1dFxyXG4gICAgJChcIiN0b2tlbl9pbnB1dFwiKS5vbihcImtleWRvd25cIiwgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICBsb2dJbnB1dEV2ZW50KFwiaW5wdXRfY2hhbmdlXCIsIGV2ZW50LmtleSk7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgXHJcbi8vIEdsb2JhbCBvYmplY3QgdG8gdHJhY2sgd2hldGhlciBhIHNsaWRlciB3YXMgY2hhbmdlZC5cclxuaW50ZXJmYWNlIFNsaWRlclN0YXRlIHtcclxuICAgIG1lbnRhbF9kZW1hbmQ6IGJvb2xlYW47XHJcbiAgICBodXJyaWVkX2RlbWFuZDogYm9vbGVhbjtcclxuICAgIHBlcmZvcm1hbmNlOiBib29sZWFuO1xyXG4gICAgZWZmb3J0OiBib29sZWFuO1xyXG4gICAgZnJ1c3RyYXRpb246IGJvb2xlYW47XHJcbn1cclxuXHJcbmNvbnN0IHNsaWRlckNoYW5nZWQ6IFNsaWRlclN0YXRlID0ge1xyXG4gICAgbWVudGFsX2RlbWFuZDogZmFsc2UsXHJcbiAgICBodXJyaWVkX2RlbWFuZDogZmFsc2UsXHJcbiAgICBwZXJmb3JtYW5jZTogZmFsc2UsXHJcbiAgICBlZmZvcnQ6IGZhbHNlLFxyXG4gICAgZnJ1c3RyYXRpb246IGZhbHNlXHJcbn07XHJcblxyXG4vLyBHbG9iYWwgb2JqZWN0IHRvIHN0b3JlIHRoZSBzZWxlY3RlZCB2YWx1ZXMuIChudWxsIGluZGljYXRlcyBubyBzZWxlY3Rpb24geWV0KVxyXG5jb25zdCB0bHhWYWx1ZXM6IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIHwgbnVsbCB9ID0ge1xyXG4gICAgbWVudGFsX2RlbWFuZDogbnVsbCxcclxuICAgIGh1cnJpZWRfZGVtYW5kOiBudWxsLFxyXG4gICAgcGVyZm9ybWFuY2U6IG51bGwsXHJcbiAgICBlZmZvcnQ6IG51bGwsXHJcbiAgICBmcnVzdHJhdGlvbjogbnVsbFxyXG59O1xyXG5cclxuZnVuY3Rpb24gY2hlY2tBbGxTbGlkZXJzQ2hhbmdlZCgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiBPYmplY3QudmFsdWVzKHNsaWRlckNoYW5nZWQpLmV2ZXJ5KHZhbHVlID0+IHZhbHVlID09PSB0cnVlKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVzZXRTbGlkZXJzKCkge1xyXG4gICAgLy8gUmVzZXQgdHJhY2tpbmcgb2JqZWN0IGFuZCBzZWxlY3RlZCB2YWx1ZXNcclxuICAgIGZvciAobGV0IGtleSBpbiBzbGlkZXJDaGFuZ2VkKSB7XHJcbiAgICAgICAgc2xpZGVyQ2hhbmdlZFtrZXkgYXMga2V5b2YgU2xpZGVyU3RhdGVdID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBmb3IgKGxldCBrZXkgaW4gdGx4VmFsdWVzKSB7XHJcbiAgICAgICAgdGx4VmFsdWVzW2tleV0gPSBudWxsO1xyXG4gICAgfVxyXG4gICAgLy8gUmVtb3ZlIHNlbGVjdGlvbiBoaWdobGlnaHQgZnJvbSBhbGwgYm94ZXNcclxuICAgICQoXCIudGx4LWJveFwiKS5yZW1vdmVDbGFzcyhcInNlbGVjdGVkXCIpO1xyXG4gICAgbmV4dEJ1dHRvbi5wcm9wKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XHJcbn1cclxuXHJcbi8vIERpc2FibGUgdGhlIFwiTmV4dFwiIGJ1dHRvbiBpbml0aWFsbHlcclxuY29uc3QgbmV4dEJ1dHRvbiA9ICQoXCIjbmFzYV90bHhfbmV4dFwiKSBhcyBKUXVlcnk8SFRNTElucHV0RWxlbWVudD47XHJcbm5leHRCdXR0b24ucHJvcChcImRpc2FibGVkXCIsIHRydWUpO1xyXG5cclxuLy8gRXZlbnQgbGlzdGVuZXIgZm9yIGFsbCBzbGlkZXJzXHJcbiQoXCIudGx4LWJveFwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgY29uc3Qgc2xpZGVySWQgPSAkKHRoaXMpLnBhcmVudCgpLmF0dHIoXCJpZFwiKTsgLy8gZS5nLiwgXCJtZW50YWxfZGVtYW5kXCJcclxuICAgIGlmICghc2xpZGVySWQgfHwgIShzbGlkZXJJZCBpbiBzbGlkZXJDaGFuZ2VkKSkgcmV0dXJuO1xyXG4gICAgY29uc3QgdmFsdWUgPSBwYXJzZUludCgkKHRoaXMpLmF0dHIoXCJkYXRhLXZhbHVlXCIpIGFzIHN0cmluZyk7XHJcbiAgICB0bHhWYWx1ZXNbc2xpZGVySWRdID0gdmFsdWU7XHJcbiAgICBzbGlkZXJDaGFuZ2VkW3NsaWRlcklkIGFzIGtleW9mIFNsaWRlclN0YXRlXSA9IHRydWU7XHJcbiAgICBcclxuICAgIC8vIFVwZGF0ZSBVSTogbWFyayB0aGlzIGJveCBhcyBzZWxlY3RlZCBhbmQgcmVtb3ZlIHNlbGVjdGlvbiBmcm9tIHNpYmxpbmdzLlxyXG4gICAgJCh0aGlzKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKFwic2VsZWN0ZWRcIik7XHJcbiAgICAkKHRoaXMpLmFkZENsYXNzKFwic2VsZWN0ZWRcIik7XHJcblxyXG4gICAgLy8gRW5hYmxlIHRoZSBOZXh0IGJ1dHRvbiBpZiBhbGwgc2xpZGVycyBoYXZlIGJlZW4gY2hhbmdlZC5cclxuICAgIGlmIChjaGVja0FsbFNsaWRlcnNDaGFuZ2VkKCkpIHtcclxuICAgICAgICBuZXh0QnV0dG9uLnByb3AoXCJkaXNhYmxlZFwiLCBmYWxzZSk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuLy8gRXZlbnQgbGlzdGVuZXIgZm9yIFwiTmV4dFwiIGJ1dHRvbiBpbiBOQVNBIFRMWCBzdXJ2ZXlcclxubmV4dEJ1dHRvbi5vbihcImNsaWNrXCIsICgpID0+IHtcclxuICAgIGlmICghY2hlY2tBbGxTbGlkZXJzQ2hhbmdlZCgpKSB7XHJcbiAgICAgICAgYWxlcnQoXCJQbGVhc2UgYWRqdXN0IGFsbCBzbGlkZXJzIGJlZm9yZSBjb250aW51aW5nLlwiKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdGx4RGF0YSA9IHtcclxuICAgICAgICBtZW50YWxfZGVtYW5kOiB0bHhWYWx1ZXNbXCJtZW50YWxfZGVtYW5kXCJdICE9PSBudWxsID8gdGx4VmFsdWVzW1wibWVudGFsX2RlbWFuZFwiXSA6IDAsXHJcbiAgICAgICAgaHVycmllZF9kZW1hbmQ6IHRseFZhbHVlc1tcImh1cnJpZWRfZGVtYW5kXCJdICE9PSBudWxsID8gdGx4VmFsdWVzW1wiaHVycmllZF9kZW1hbmRcIl0gOiAwLFxyXG4gICAgICAgIHBlcmZvcm1hbmNlOiB0bHhWYWx1ZXNbXCJwZXJmb3JtYW5jZVwiXSAhPT0gbnVsbCA/IHRseFZhbHVlc1tcInBlcmZvcm1hbmNlXCJdIDogMCxcclxuICAgICAgICBlZmZvcnQ6IHRseFZhbHVlc1tcImVmZm9ydFwiXSAhPT0gbnVsbCA/IHRseFZhbHVlc1tcImVmZm9ydFwiXSA6IDAsXHJcbiAgICAgICAgZnJ1c3RyYXRpb246IHRseFZhbHVlc1tcImZydXN0cmF0aW9uXCJdICE9PSBudWxsID8gdGx4VmFsdWVzW1wiZnJ1c3RyYXRpb25cIl0gOiAwXHJcbiAgICB9O1xyXG4gICAgXHJcblxyXG4gICAgbG9nX2RhdGEoe1xyXG4gICAgICAgIGNvbmRpdGlvbjogJChcIiNjb25kaXRpb25fbGFiZWxcIikudGV4dCgpLFxyXG4gICAgICAgIGNvbmRpdGlvbl9pbmRleDogY3VycmVudENvbmRpdGlvbkluZGV4LFxyXG4gICAgICAgIHRseDogdGx4RGF0YVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gSGlkZSB0aGUgTkFTQSBUTFggcGFnZSBhbmQgbW92ZSBvblxyXG4gICAgcmVzZXRTbGlkZXJzKCk7XHJcbiAgICAkKFwiI25hc2FfdGx4X3N1cnZleVwiKS5oaWRlKCk7XHJcbiAgICBjdXJyZW50Q29uZGl0aW9uSW5kZXgrKztcclxuICAgIGN1cnJlbnRRdWVzdGlvbkluZGV4ID0gMDtcclxuICAgIG5leHRfcXVlc3Rpb24oKTtcclxufSk7XHJcblxyXG4gICAgXHJcblxyXG59KTtcclxuICBmdW5jdGlvbiBhdXRvU3VibWl0UGFydDEoKSB7XHJcbiAgICBsb2dJbnB1dEV2ZW50KFwiYXV0b19zdWJtaXRcIik7XHJcbiAgICAvLyBTdG9wIHRoZSB0aW1lciBpZiBub3QgYWxyZWFkeSBjbGVhcmVkXHJcbiAgICBjbGVhckludGVydmFsKHBhcnQxSW50ZXJ2YWwpO1xyXG4gICAgJChcIiN0aW1lclwiKS5oaWRlKCk7XHJcbiAgICBcclxuICAgIC8vIEF1dG9tYXRpY2FsbHkgdHJhbnNpdGlvbiB0byBQYXJ0IDJcclxuICAgICQoXCIjcGFydDFcIikuaGlkZSgpO1xyXG4gICAgJChcIiNwYXJ0MlwiKS5zaG93KCk7XHJcbn1cclxuJChcIiNxdWFsX25leHRcIikub24oXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBjb25zdCBxMSA9ICgkKFwiI3F1YWxfcTFcIikudmFsKCkgYXMgc3RyaW5nKSB8fCBcIlwiO1xyXG4gICAgY29uc3QgcTIgPSAoJChcIiNxdWFsX3EyXCIpLnZhbCgpIGFzIHN0cmluZykgfHwgXCJcIjtcclxuICAgIGNvbnN0IHEzID0gKCQoXCIjcXVhbF9xM1wiKS52YWwoKSBhcyBzdHJpbmcpIHx8IFwiXCI7XHJcbiAgICBcclxuICAgIGxldCB2YWxpZCA9IHRydWU7XHJcbiAgICBcclxuICAgIGlmIChxMS5sZW5ndGggPCAyNSkge1xyXG4gICAgICAgICQoXCIjd2Fybl9xMVwiKS5zaG93KCk7XHJcbiAgICAgICAgdmFsaWQgPSBmYWxzZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJChcIiN3YXJuX3ExXCIpLmhpZGUoKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYgKHEyLmxlbmd0aCA8IDI1KSB7XHJcbiAgICAgICAgJChcIiN3YXJuX3EyXCIpLnNob3coKTtcclxuICAgICAgICB2YWxpZCA9IGZhbHNlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAkKFwiI3dhcm5fcTJcIikuaGlkZSgpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAocTMubGVuZ3RoIDwgMCkge1xyXG4gICAgICAgICQoXCIjd2Fybl9xM1wiKS5zaG93KCk7XHJcbiAgICAgICAgdmFsaWQgPSBmYWxzZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJChcIiN3YXJuX3EzXCIpLmhpZGUoKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gSWYgdmFsaWRhdGlvbiBmYWlscywgZG8gbm90IHByb2NlZWRcclxuICAgIGlmICghdmFsaWQpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIElmIGFsbCB0ZXh0IGJveGVzIGhhdmUgYXQgbGVhc3QgNTAgY2hhcmFjdGVycywgbG9nIGRhdGEgYW5kIHByb2NlZWRcclxuICAgIGNvbnN0IGZpbmFsRGF0YSA9IHtcclxuICAgICAgICBxdWFsaXRhdGl2ZToge1xyXG4gICAgICAgICAgICBxMTogcTEsXHJcbiAgICAgICAgICAgIHEyOiBxMixcclxuICAgICAgICAgICAgcTM6IHEzXHJcbiAgICAgICAgfSxcclxuICAgICAgICAvLyAuLi4gaW5jbHVkZSBhbnkgYWRkaXRpb25hbCBkYXRhIGlmIG5lZWRlZFxyXG4gICAgfTtcclxuICAgIGxvZ19kYXRhKGZpbmFsRGF0YSk7XHJcbiAgICBcclxuICAgIC8vIFRyYW5zaXRpb24gdG8gZW5kLW9mLXN1cnZleSDigJxUaGFuayB5b3XigJ0gc2NyZWVuIG9yIHNpbWlsYXIuXHJcbiAgICAkKFwiI3F1YWxpdGF0aXZlX3NlY3Rpb25cIikuaGlkZSgpO1xyXG4gICAgaWYgKE1PQ0tNT0RFKSB7XHJcbiAgICAgICAgJCgnI3Jld2FyZF9ib3hfbW9jaycpLnRleHQoYFlvdXIgdG90YWwgcmV3YXJkIGlzICQzLjAwLmApO1xyXG4gICAgICAgICQoJyNyZXdhcmRfYm94X21vY2snKS5zaG93KCk7XHJcbiAgICAgICAgJChcIiNtYWluX2JveF9lbmRfbW9ja1wiKS5zaG93KCk7ICAgIFxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAkKCcjcmV3YXJkX2JveCcpLnRleHQoYFlvdXIgdG90YWwgcmV3YXJkIGlzICQzLjAwLmApO1xyXG4gICAgICAgICQoJyNyZXdhcmRfYm94Jykuc2hvdygpO1xyXG4gICAgICAgICQoXCIjbWFpbl9ib3hfZW5kXCIpLnNob3coKTsgICAgXHJcbiAgICB9XHJcbn0pO1xyXG4iXSwibmFtZXMiOlsiU0VSVkVSX0xPR19ST09UIiwiYXN5bmMiLCJsb2dfZGF0YSIsImRhdGEiLCJnbG9iYWxUaGlzIiwidXJsX2RhdGEiLCJjb25zb2xlIiwibG9nIiwidWlkIiwicmVzdWx0IiwiJCIsImFqYXgiLCJKU09OIiwic3RyaW5naWZ5IiwicHJvamVjdCIsInBheWxvYWQiLCJ0eXBlIiwiY29udGVudFR5cGUiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJzbGVlcCIsImUiLCJmaXhTcGFjaW5nIiwiaW5wdXQiLCJvdXRwdXQiLCJyZXBsYWNlIiwiTU9DS01PREUiLCJxdWVzdGlvbiIsImNvbmZpZGVuY2VSYXRpbmciLCJwYXJ0MUludGVydmFsIiwicmVtYWluaW5nVGltZSIsImN1cnJlbnRDb25kaXRpb25JbmRleCIsImN1cnJlbnRRdWVzdGlvbkluZGV4IiwicHJlU3VydmV5TG9nZ2VkIiwicXVlc3Rpb25TdGFydFRpbWUiLCJEYXRlIiwibm93Iiwia2V5bG9ncyIsInByZXZpb3VzSW5wdXQiLCJpbnN0cnVjdGlvbl9pIiwiY291bnRfZXhpdGVkX3BhZ2UiLCJjaGVja1ByZVN1cnZleSIsImxhdGV4RXhwIiwidmFsIiwibGF0ZXhGcmVxIiwiY2hhdGJvdEZyZXEiLCJzaG93IiwiaGlkZSIsImxvZ0lucHV0RXZlbnQiLCJldmVudFR5cGUiLCJrZXlQcmVzc2VkIiwicHJlY2lzZVRpbWUiLCJ0b0ZpeGVkIiwicWlkIiwiY29uZGl0aW9uIiwiY3VycmVudFRleHQiLCJuZXdfa2V5bG9nIiwiZXZlbnQiLCJjb25kaXRpb25faW5kZXgiLCJwcmVjaXNlX3RpbWUiLCJuZXdfdGV4dCIsIm9sZF90ZXh0Iiwia2V5X3ByZXNzZWQiLCJjb25jYXQiLCJuZXh0X2luc3RydWN0aW9ucyIsImluY3JlbWVudCIsImF0dHIiLCJyZW1vdmVBdHRyIiwicHJlX3N1cnZleSIsImxhdGV4RXhwZXJpZW5jZSIsImxhdGV4RnJlcXVlbmN5IiwiY2hhdGJvdEZyZXF1ZW5jeSIsIm5leHRfcXVlc3Rpb24iLCJjaGlsZHJlbiIsImVhY2giLCJfIiwiZWwiLCJvbiIsInByYWN0aWNlUXVlc3Rpb25zIiwicHJhY3RpY2VJbmRleCIsInNob3dQcmFjdGljZVJvdW5kIiwib25Db21wbGV0ZSIsImVtcHR5IiwicHJhY3RpY2VDb250ZW50IiwiYXBwZW5kIiwiaHRtbCIsImxlbmd0aCIsImJ1bGxldFBvaW50cyIsInB1c2giLCJidWxsZXRIdG1sIiwibWFwIiwicG9pbnQiLCJqb2luIiwidG9rZW5zQ29uY2F0ZW5hdGVkIiwiQXJyYXkiLCJpc0FycmF5IiwiaXRlbSIsInRva2VuIiwiZmlsdGVyIiwicHJlZGljdGVkSHRtbCIsInRva2VuVGV4dCIsInRvcF81X3Rva2VucyIsInByb2JhYmlsaXR5IiwiYWRkaXRpb25hbFRleHQiLCJvZmYiLCJjb25kaXRpb25CbG9jayIsImhlYWRlckh0bWwiLCJyZWplY3QiLCJnZXRKU09OIiwiZG9uZSIsImZhaWwiLCJqcXhociIsInRleHRTdGF0dXMiLCJlcnJvciIsInRoZW4iLCJjYXRjaCIsImVyciIsInNob3dTdGFydENvbmRpdGlvblBhZ2UiLCJxdWVzdGlvbnMiLCJjdXJyZW50Q29uZGl0aW9uIiwidGV4dCIsInNob3dFbmRDb25kaXRpb25QYWdlIiwiY2xlYXJJbnRlcnZhbCIsIndpbmRvdyIsInNldEludGVydmFsIiwidXJsUGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwibG9jYXRpb24iLCJzZWFyY2giLCJzdGFydE92ZXJyaWRlIiwiZ2V0IiwiVUlERnJvbVVSTCIsImVudHJpZXMiLCJrZXkiLCJ2YWx1ZSIsInBhcmFtc1RvT2JqZWN0IiwicXVldWVfaWQiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJwYWRTdGFydCIsIlVJRF9tYXliZSIsInByb21wdCIsInN0YXJ0c1dpdGgiLCJsb2FkX2RhdGEiLCJfZXJyb3IiLCJyZWxvYWQiLCJuZXdfZGF0YSIsInBhcnNlSW50IiwiYWxlcnRfYWN0aXZlIiwiZG9jdW1lbnQiLCJvbnZpc2liaWxpdHljaGFuZ2UiLCJyZWFkeSIsInJhdGluZyIsInRoaXMiLCJyZW1vdmVDbGFzcyIsImFkZENsYXNzIiwic2xpZGVyQ2hhbmdlZCIsIm1lbnRhbF9kZW1hbmQiLCJodXJyaWVkX2RlbWFuZCIsInBlcmZvcm1hbmNlIiwiZWZmb3J0IiwiZnJ1c3RyYXRpb24iLCJ0bHhWYWx1ZXMiLCJjaGVja0FsbFNsaWRlcnNDaGFuZ2VkIiwiT2JqZWN0IiwidmFsdWVzIiwiZXZlcnkiLCJuZXh0QnV0dG9uIiwicHJvcCIsInNsaWRlcklkIiwicGFyZW50Iiwic2libGluZ3MiLCJhbGVydCIsInRseERhdGEiLCJ0bHgiLCJyZXNldFNsaWRlcnMiLCJxMSIsInEyIiwicTMiLCJ2YWxpZCIsInF1YWxpdGF0aXZlIl0sInNvdXJjZVJvb3QiOiIifQ==