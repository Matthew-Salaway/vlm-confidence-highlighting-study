(()=>{"use strict";let t="https://matthewsalaway.pythonanywhere.com/";async function e(e){e.url_data=globalThis.url_data,console.log("Data"),"study_id"in e.url_data||(e.url_data.study_id="demo_study"),"prolific_id"in e.url_data||(e.url_data.prolific_id="demo_user"),"session_id"in e.url_data||(e.url_data.session_id="demo_session"),e.url_data.queue_id=globalThis.uid,console.log("logged",e),console.log("Logging to",t+"log");try{let n=await $.ajax(t+"log",{data:JSON.stringify({project:"ocr-calibration-study/"+e.url_data.study_id,uid:globalThis.uid.replace("/","_")+"_"+e.url_data.prolific_id,payload:JSON.stringify(e)}),type:"POST",contentType:"application/json"});return await async function(){return new Promise((t=>setTimeout(t,2e3)))}(),n}catch(t){console.log(t)}}function n(t){let e=t.replace(/\s+/g,"");return e=e.replace(/\\/g," \\"),e=e.replace(/([\+\-\=])/g," $1 "),e=e.replace(/(\\?)(div|approx|times|Delta)(?!\s)/g,"$1$2 "),e=e.replace(/\s+/g," "),e}var i=!1,o=[];let a=null,r=-1,s=0,l=20,c=0,d=0,u=!1,_=Date.now(),p=[],h="",m=0,g=0;function b(){const t=$("input[name='latexExperience']:checked").val(),e=$("input[name='latexFrequency']:checked").val(),n=$("input[name='chatbotFrequency']:checked").val();return t&&e&&n?($("#button_instructions_next").show(),!0):($("#button_instructions_next").hide(),!1)}function f(t,e){const n=((Date.now()-_)/1e3).toFixed(3),i=d,a=o[c].condition,r=$("#token_input").val();let s={event:t,qid:i,condition:a,condition_index:c,precise_time:n,new_text:r,old_text:h,key_pressed:e||null};h=r,p=p.concat([s])}function x(t){m+=t,0==m?$("#button_instructions_prev").attr("disabled","true"):$("#button_instructions_prev").removeAttr("disabled"),3!=m||b()?($("#button_instructions_next").removeAttr("disabled"),$("#button_instructions_next").show()):($("#button_instructions_next").attr("disabled","true"),$("#button_instructions_next").hide()),m>=4?($("#instructions_and_decorations").show(),$("#button_instructions_next").val("Start study")):($("#instructions_and_decorations").hide(),$("#button_instructions_next").val("Next")),5==m&&($("#instructions_and_decorations").show(),$("#main_box_instructions").hide(),$("#main_box_experiment").show(),u||(e({pre_survey:{latexExperience:$("input[name='latexExperience']:checked").val(),latexFrequency:$("input[name='latexFrequency']:checked").val(),chatbotFrequency:$("input[name='chatbotFrequency']:checked").val()}}),u=!0),k()),$("#main_box_instructions").children(":not(input)").each(((t,e)=>{$(e).hide()})),$(`#instructions_${m}`).show()}$("#button_instructions_next").on("click",(()=>x(1))),$("#button_instructions_prev").on("click",(()=>x(-1)));let y=[],v=0;function w(t){$("#practice_container").empty().show();const e=$('\n      <div id="practice_inner_container" style="padding: 20px; padding-top:0px; overflow-y: auto;">\n        <div id="practice_instructions"></div>\n        <div id="practice_header"></div>\n        <div id="practice_content" style="margin-top: 10px;"></div>\n        <div id="practice_nav" style="margin-top: 20px; margin-bottom: 25px;"></div>\n      </div>\n    ');$("#practice_container").append(e),$("#practice_header").html(`<h3>Practice Example (${v+1} of ${y.length})</h3>`);const i=o[c].condition,a=[];"highlighted"===i?(a.push("You will be able to see if the model is uncertain about any part of the transcription."),a.push("The text is red if the model is uncertain about it. The brighter the red highlight, the more uncertain the model is about that specific part of the text.")):a.push("You will <b>not</b> be able to see if the model is uncertain about any part of the transcription."),a.push("Review the transcription carefully and fix any errors by editing the input box."),a.push("When the session starts, you will have 20 seconds to modify each transcription.");const r=a.map((t=>`<li>${t}</li>`)).join("");$("#practice_instructions").html(`\n    <h3 style="font-size: 1.1em; margin-bottom: 5px;">Instructions:</h3>\n    <ul style="margin-left: 20px;">\n        ${r}\n    </ul>\n    `),$("#practice_content").html('\n      <div id="practice_question_display" style="margin-top: 10px;">\n        <img id="practice_question_image" src="" alt="Practice Question Image" style="max-width: 100%; height: 110px; object-fit: contain;margin-top: 20px;">\n        <div id="practice_predicted_text_container" style="margin-top: 20px;">\n          <div style="margin-top: 10px;">Predicted Text:</div>\n          <div id="practice_predicted_text" style="margin-top: 20px;"></div>\n        </div>\n        <div id="practice_token_input_container" style="margin-top: 20px;">\n          <input id="practice_token_input" type="text" style="width: 100%; font-size: 16px; padding: 8px;">\n        </div>\n      </div>\n    ');const s=y[v];s.image?$("#practice_question_image").attr("src","data:image/png;base64,"+s.image):$("#practice_question_image").attr("src","");let l="";if(s.token_info&&Array.isArray(s.token_info)&&(l=s.token_info.map((t=>t.token)).filter((t=>"<|im_end|>"!==t)).map((t=>t.replace(/Ġ/g," "))).join("")),$("#practice_token_input").val(n(l)),"non-highlighted"==o[c].condition)$("#practice_predicted_text").html(n(l));else if("highlighted"==o[c].condition){let t="";s.token_info&&Array.isArray(s.token_info)&&(t=s.token_info.filter((t=>"<|im_end|>"!==t.token)).map((t=>{let e=t.token.replace(/Ġ/g," ");return`<span style="background-color: rgba(255, 0, 0, ${1-(t.top_5_tokens&&t.top_5_tokens[0]&&"number"==typeof t.top_5_tokens[0].probability?t.top_5_tokens[0].probability:1)});">${n(e)}</span>`})).join("")),$("#practice_predicted_text").html(t)}if("highlighted"===i){let t="";0===v?t="The model is uncertain about the text '\\boxed'":1===v?t="the model shows no uncertainty (i.e. it is confident about the full transcription)":2===v&&(t="The model is uncertain about three characters"),$("#practice_predicted_text").append(`<span style="font-style: italic; margin-left: 20px; vertical-align: middle;">${t}</span>`)}$("#practice_nav").html('\n      <div>\n        <input id="practice_prev" type="button" value="Previous Example">\n        <input id="practice_next" type="button" value="Next Example" style="margin-left: 10px;">\n      </div>\n    '),$("#practice_prev").off("click").on("click",(()=>{v=(v-1+y.length)%y.length,w(t)})),$("#practice_next").off("click").on("click",(()=>{v=(v+1)%y.length,w(t)}))}function k(){if($("#main_box_experiment").show(),$("#button_next").hide(),$("#button_quit").hide(),p=[],c>=o.length)return $("#main_box_experiment").hide(),void $("#qualitative_section").show();let t=o[c];if(0===d)return void function(t){$("#main_box_experiment").hide(),$("#start_condition_page").empty().show();const e=`\n      <div style="display: flex; justify-content: space-between; align-items: center;">\n          <h2 style="margin: 0;">${"highlighted"===t?`Part ${c+1}: AI Uncertainty is Highlighted`:`Part ${c+1}: AI Uncertainty is Not Highlighted`}</h2>\n          <input id="start_condition_next" type="button" value="Start Section" style="margin: 0;"/>\n      </div>\n    `;$("#start_condition_page").append(e),0===$("#practice_container").length&&$("#start_condition_page").append('<div id="practice_container" style="margin-top:10px;"></div>'),new Promise(((t,e)=>{$.getJSON("practice_questions/Qwen_practice_Qs.json").done((e=>t(e))).fail(((t,n,i)=>e(i)))})).then((t=>{y=t,v=0,w((()=>{d=1,k()}))})).catch((t=>{})),$("#start_condition_next").on("click",(()=>{$("#start_condition_page").hide(),d=1,k()}))}(t.condition);if(d>t.questions.length)return void function(){$("#main_box_experiment").hide();const t=o[c].condition;$("#condition_label").text(t),$("#mental_demand").val("0"),$("#hurried_demand").val("0"),$("#performance").val("0"),$("#effort").val("0"),$("#frustration").val("0"),$("#nasa_tlx_survey").show()}(t.condition);a=t.questions[d-1],a.image?$("#question_image").attr("src","data:image/png;base64,"+a.image):$("#question_image").attr("src","");let e="";if(a.token_info&&Array.isArray(a.token_info)&&(e=a.token_info.map((t=>t.token)).filter((t=>"<|im_end|>"!==t)).map((t=>t.replace(/Ġ/g," "))).join("")),$("#token_input").val(n(e)),h=$("#token_input").val()||"","non-highlighted"==o[c].condition)$("#predicted_text").html(n(e));else if("highlighted"==o[c].condition){let t="";a.token_info&&Array.isArray(a.token_info)&&(t=a.token_info.filter((t=>"<|im_end|>"!==t.token)).map((t=>{let e=t.token.replace(/Ġ/g," ");return`<span style="background-color: rgba(255, 0, 0, ${1-(t.top_5_tokens&&t.top_5_tokens[0]&&"number"==typeof t.top_5_tokens[0].probability?t.top_5_tokens[0].probability:1)});">${n(e)}</span>`})).join("")),$("#predicted_text").html(t)}$("#progress").text(`Section ${c+1} of ${o.length} | Question ${d} of ${t.questions.length}`),$("#part1").show(),$("#part2").hide(),$("#token_input_container").hide(),$("#button_next_part1").hide(),_=Date.now(),l=20,$("#timer").text(l),$("#timer").show(),s&&clearInterval(s),s=window.setInterval((()=>{l-=1,$("#timer").text(l),l<=15&&($("#token_input_container").show(),$("#button_next_part1").show()),l<=0&&(clearInterval(s),f("auto_submit"),clearInterval(s),$("#timer").hide(),$("#part1").hide(),$("#part2").show(),$("#timer").hide())}),1e3)}const q=new URLSearchParams(window.location.search),T=q.get("start"),j=q.get("uid");if(globalThis.url_data=function(t){const e={};for(const[n,i]of t)e[n]=i;return e}(q.entries()),null==globalThis.url_data.study_id&&(globalThis.url_data.study_id="demo_study"),null==globalThis.url_data.prolific_id&&(globalThis.url_data.prolific_id="demo_user"),null==globalThis.url_data.session_id&&(globalThis.url_data.session_id="demo_session"),null!=j){if(globalThis.uid=j,"prolific_random"==globalThis.uid){let t=`${Math.floor(4*Math.random())}`.padStart(3,"0");globalThis.uid=`${q.get("prolific_queue_name")}/${t}`}}else{let t=null;for(;null==t;)t=prompt("Enter your user id. Please get in touch if you were not assigned an id but wish to participate in this experiment.");globalThis.uid=t}globalThis.url_data.session_id.startsWith("demo")&&(i=!0),async function(){return await $.getJSON(`baked_queues/${globalThis.uid}.json?t=${Date.now()}`)}().catch((t=>{window.location.reload()})).then((t=>{o=t,null!=T&&(d=parseInt(T)-1),x(0),$("#main_box_instructions").show(),$("#instructions_and_decorations").hide()}));let A=!1;document.onvisibilitychange=()=>{A||(g+=1,A=!0,A=!1)},$(document).ready((()=>{$("#button_next_part1").on("click",(()=>{f("next_button_submitted"),clearInterval(s),$("#timer").hide(),$("#part1").hide(),$("#part2").show()})),$(".confidence-button").on("click",(function(){let t=parseInt($(this).attr("data-rating"));$(".confidence-button").removeClass("selected"),$(this).addClass("selected"),r=t,$("#button_next_part2").removeAttr("disabled")})),$("#button_next_part2").on("click",(()=>{e({question_i:d,qid:a.qid,condition:o[c].condition,confidence_rating:r,keylogs:p}),$("#button_next_part2").attr("disabled","true"),$(".confidence-button").removeClass("selected"),r=-1,$("#part2").hide(),$("#part1").show(),d++,k()})),$("input[name='latexExperience'], input[name='latexFrequency'], input[name='chatbotFrequency']").on("change",(()=>{b()&&($("#button_instructions_next").removeAttr("disabled"),$("#button_instructions_next").show())})),$("#token_input").on("keydown",(function(t){f("input_change",t.key)}));const t={mental_demand:!1,hurried_demand:!1,performance:!1,effort:!1,frustration:!1},n={mental_demand:null,hurried_demand:null,performance:null,effort:null,frustration:null};function i(){return Object.values(t).every((t=>!0===t))}const l=$("#nasa_tlx_next");l.prop("disabled",!0),$(".tlx-box").on("click",(function(){const e=$(this).parent().attr("id");if(!e||!(e in t))return;const o=parseInt($(this).attr("data-value"));n[e]=o,t[e]=!0,$(this).siblings().removeClass("selected"),$(this).addClass("selected"),i()&&l.prop("disabled",!1)})),l.on("click",(()=>{if(!i())return void alert("Please adjust all sliders before continuing.");const o={mental_demand:null!==n.mental_demand?n.mental_demand:0,hurried_demand:null!==n.hurried_demand?n.hurried_demand:0,performance:null!==n.performance?n.performance:0,effort:null!==n.effort?n.effort:0,frustration:null!==n.frustration?n.frustration:0};e({condition:$("#condition_label").text(),condition_index:c,tlx:o}),function(){for(let e in t)t[e]=!1;for(let t in n)n[t]=null;$(".tlx-box").removeClass("selected"),l.prop("disabled",!0)}(),$("#nasa_tlx_survey").hide(),c++,d=0,k()}))})),$("#qual_next").on("click",(()=>{const t=$("#qual_q1").val()||"",n=$("#qual_q2").val()||"",o=$("#qual_q3").val()||"";let a=!0;t.length<25?($("#warn_q1").show(),a=!1):$("#warn_q1").hide(),n.length<25?($("#warn_q2").show(),a=!1):$("#warn_q2").hide(),o.length<0?($("#warn_q3").show(),a=!1):$("#warn_q3").hide(),a&&(e({qualitative:{q1:t,q2:n,q3:o}}),$("#qualitative_section").hide(),i?($("#reward_box_mock").text("Your total reward is $3.00."),$("#reward_box_mock").show(),$("#main_box_end_mock").show()):($("#reward_box").text("Your total reward is $3.00."),$("#reward_box").show(),$("#main_box_end").show()))}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Y2s6Ly8vLi9zcmMvY29ubmVjdG9yLnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBERVZNT0RFIH0gZnJvbSAnLi9nbG9iYWxzJ1xyXG5pbXBvcnQgeyBNT0NLTU9ERSB9IGZyb20gJy4vbWFpbidcclxuXHJcbmxldCBTRVJWRVJfTE9HX1JPT1QgPSBERVZNT0RFID8gXCJodHRwOi8vMTI3LjAuMC4xOjUwMDAvXCIgOiBcImh0dHBzOi8vbWF0dGhld3NhbGF3YXkucHl0aG9uYW55d2hlcmUuY29tL1wiXHJcblxyXG5hc3luYyBmdW5jdGlvbiBzbGVlcChtczogbnVtYmVyKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgbXMpKTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvYWRfZGF0YSgpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgLy8gaW5jbHVkZSB0aW1lc3RhbXAgc28gdGhhdCB0aGluZ3MgZG9uJ3QgZ2V0IGNhY2hlZFxyXG4gICAgbGV0IHJlc3VsdCA9IGF3YWl0ICQuZ2V0SlNPTihcclxuICAgICAgICBgYmFrZWRfcXVldWVzLyR7Z2xvYmFsVGhpcy51aWR9Lmpzb24/dD0ke0RhdGUubm93KCl9YCxcclxuICAgIClcclxuICAgIHJldHVybiByZXN1bHRcclxufVxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9nX2RhdGEoZGF0YSk6IFByb21pc2U8YW55PiB7XHJcbiAgICAvL2lmIChNT0NLTU9ERSkge1xyXG4gICAgLy8gICAgY29uc29sZS5sb2coXCJsb2dnZWQgKG1vY2spXCIsIGRhdGEpXHJcbiAgICAvLyAgICByZXR1cm5cclxuICAgIC8vfVxyXG4gICAgXHJcbiAgICBkYXRhW1widXJsX2RhdGFcIl0gPSBnbG9iYWxUaGlzLnVybF9kYXRhXHJcbiAgICBjb25zb2xlLmxvZyhcIkRhdGFcIilcclxuICAgIGlmICghKFwic3R1ZHlfaWRcIiBpbiBkYXRhWyd1cmxfZGF0YSddKSkge1xyXG4gICAgICAgIGRhdGFbJ3VybF9kYXRhJ11bXCJzdHVkeV9pZFwiXSA9IFwiZGVtb19zdHVkeVwiXHJcbiAgICB9XHJcbiAgICBpZiAoIShcInByb2xpZmljX2lkXCIgaW4gZGF0YVsndXJsX2RhdGEnXSkpIHtcclxuICAgICAgICBkYXRhWyd1cmxfZGF0YSddW1wicHJvbGlmaWNfaWRcIl0gPSBcImRlbW9fdXNlclwiXHJcbiAgICB9XHJcbiAgICBpZiAoIShcInNlc3Npb25faWRcIiBpbiBkYXRhWyd1cmxfZGF0YSddKSkge1xyXG4gICAgICAgIGRhdGFbJ3VybF9kYXRhJ11bXCJzZXNzaW9uX2lkXCJdID0gXCJkZW1vX3Nlc3Npb25cIlxyXG4gICAgfVxyXG4gICAgZGF0YVtcInVybF9kYXRhXCJdW1wicXVldWVfaWRcIl0gPSBnbG9iYWxUaGlzLnVpZFxyXG4gICAgY29uc29sZS5sb2coXCJsb2dnZWRcIiwgZGF0YSlcclxuICAgIGNvbnNvbGUubG9nKFwiTG9nZ2luZyB0b1wiLCBTRVJWRVJfTE9HX1JPT1QgKyBcImxvZ1wiKVxyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0ICQuYWpheChcclxuICAgICAgICAgICAgU0VSVkVSX0xPR19ST09UICsgXCJsb2dcIixcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICAgICAgICAgIHByb2plY3Q6IFwib2NyLWNhbGlicmF0aW9uLXN0dWR5L1wiK2RhdGFbJ3VybF9kYXRhJ11bJ3N0dWR5X2lkJ10sXHJcbiAgICAgICAgICAgICAgICAgICAgdWlkOiBnbG9iYWxUaGlzLnVpZC5yZXBsYWNlKFwiL1wiLCBcIl9cIikgKyBcIl9cIiArIGRhdGFbJ3VybF9kYXRhJ11bJ3Byb2xpZmljX2lkJ10sXHJcbiAgICAgICAgICAgICAgICAgICAgcGF5bG9hZDogSlNPTi5zdHJpbmdpZnkoZGF0YSksXHJcbiAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcclxuICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApXHJcbiAgICAgICAgYXdhaXQgc2xlZXAoMjAwMCk7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGUpXHJcbiAgICB9XHJcbn0iLCJmdW5jdGlvbiBwYXJhbXNUb09iamVjdChlbnRyaWVzKSB7XHJcbiAgY29uc3QgcmVzdWx0ID0ge31cclxuICAvLyBlYWNoICdlbnRyeScgaXMgYSBba2V5LCB2YWx1ZV0gdHVwcGxlXHJcbiAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgZW50cmllcykge1xyXG4gICAgcmVzdWx0W2tleV0gPSB2YWx1ZTtcclxuICB9XHJcbiAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG4vLyBJbiBzcmMvdXRpbHMudHMgb3IgYXQgdGhlIHRvcCBvZiBzcmMvbWFpbi50c1xyXG5mdW5jdGlvbiBmaXhTcGFjaW5nKGlucHV0OiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gIC8vIFJlbW92ZSBhbGwgc3BhY2VzLlxyXG4gIGxldCBvdXRwdXQgPSBpbnB1dC5yZXBsYWNlKC9cXHMrL2csIFwiXCIpO1xyXG4gIC8vIEFkZCBhIHNwYWNlIGJlZm9yZSBldmVyeSBiYWNrc2xhc2guXHJcbiAgb3V0cHV0ID0gb3V0cHV0LnJlcGxhY2UoL1xcXFwvZywgXCIgXFxcXFwiKTtcclxuICAvLyBBZGQgYSBzcGFjZSBiZWZvcmUgYW5kIGFmdGVyIGV2ZXJ5IHBsdXMsIG1pbnVzLCBhbmQgZXF1YWwgc2lnbi5cclxuICBvdXRwdXQgPSBvdXRwdXQucmVwbGFjZSgvKFtcXCtcXC1cXD1dKS9nLCBcIiAkMSBcIik7XHJcbiAgLy8gd2FudCBhIHNwYWNlIGFmdGVyIGRpdiwgYXBwcm94LCBhbmQgdGltZXMgb25seSBpZiBub3QgZm9sbG93ZWQgYnkgYSBzcGFjZVxyXG4gIG91dHB1dCA9IG91dHB1dC5yZXBsYWNlKC8oXFxcXD8pKGRpdnxhcHByb3h8dGltZXN8RGVsdGEpKD8hXFxzKS9nLCBcIiQxJDIgXCIpO1xyXG4gIC8vIENvbGxhcHNlIG11bHRpcGxlIHNwYWNlcyBpbnRvIG9uZS5cclxuICBvdXRwdXQgPSBvdXRwdXQucmVwbGFjZSgvXFxzKy9nLCBcIiBcIik7XHJcbiAgcmV0dXJuIG91dHB1dDtcclxufVxyXG5cclxuXHJcblxyXG5leHBvcnQgeyBwYXJhbXNUb09iamVjdCwgZml4U3BhY2luZyB9IiwiaW1wb3J0IHsgREVWTU9ERSB9IGZyb20gXCIuL2dsb2JhbHNcIlxyXG5leHBvcnQgdmFyIFVJRDogc3RyaW5nXHJcbmV4cG9ydCB2YXIgTU9DS01PREU6IGJvb2xlYW4gPSBmYWxzZVxyXG5pbXBvcnQgeyBsb2FkX2RhdGEsIGxvZ19kYXRhIH0gZnJvbSAnLi9jb25uZWN0b3InXHJcbmltcG9ydCB7IHBhcmFtc1RvT2JqZWN0LCBmaXhTcGFjaW5nIH0gZnJvbSBcIi4vdXRpbHNcIlxyXG5cclxudmFyIGRhdGE6IGFueVtdID0gW11cclxubGV0IHF1ZXN0aW9uOiBhbnkgPSBudWxsXHJcbmxldCBjb25maWRlbmNlUmF0aW5nOiBudW1iZXIgPSAtMTtcclxubGV0IHBhcnQxVGltZXI6IG51bWJlciA9IDA7XHJcbmxldCBwYXJ0MUludGVydmFsOiBudW1iZXIgPSAwO1xyXG5sZXQgcmVtYWluaW5nVGltZTogbnVtYmVyID0gMjA7XHJcbmxldCBjdXJyZW50Q29uZGl0aW9uSW5kZXggPSAwO1xyXG5sZXQgY3VycmVudFF1ZXN0aW9uSW5kZXggPSAwO1xyXG5sZXQgcHJlU3VydmV5TG9nZ2VkID0gZmFsc2U7XHJcbmxldCBxdWVzdGlvblN0YXJ0VGltZTogbnVtYmVyID0gRGF0ZS5ub3coKTtcclxubGV0IGtleWxvZ3M6IGFueVtdID0gW107XHJcbmxldCBwcmV2aW91c0lucHV0OiBzdHJpbmcgPSBcIlwiO1xyXG5cclxuXHJcblxyXG5cclxuXHJcbmxldCBiYWxhbmNlID0gMFxyXG5sZXQgYmFsYW5jZV9pbmNyZW1lbnQgPSAwLjEgICAgIC8vIEJhbGFuY2UgdXBkYXRlcyBieSAkMC4xMCBmb3IgZXZlcnkgY29ycmVjdCBzZWxlY3Rpb25cclxuXHJcbmxldCBpbnN0cnVjdGlvbl9pOiBudW1iZXIgPSAwXHJcbmxldCBjb3VudF9leGl0ZWRfcGFnZTogbnVtYmVyID0gMFxyXG5cclxuZnVuY3Rpb24gYXNzZXJ0KGNvbmRpdGlvbiwgbWVzc2FnZSkge1xyXG4gICAgaWYgKCFjb25kaXRpb24pIHtcclxuICAgICAgICB0aHJvdyBtZXNzYWdlIHx8IFwiQXNzZXJ0aW9uIGZhaWxlZFwiO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gY2hlY2tQcmVTdXJ2ZXkoKTogYm9vbGVhbiB7XHJcbiAgICBjb25zdCBsYXRleEV4cCA9ICQoXCJpbnB1dFtuYW1lPSdsYXRleEV4cGVyaWVuY2UnXTpjaGVja2VkXCIpLnZhbCgpO1xyXG4gICAgY29uc3QgbGF0ZXhGcmVxID0gJChcImlucHV0W25hbWU9J2xhdGV4RnJlcXVlbmN5J106Y2hlY2tlZFwiKS52YWwoKTtcclxuICAgIGNvbnN0IGNoYXRib3RGcmVxID0gJChcImlucHV0W25hbWU9J2NoYXRib3RGcmVxdWVuY3knXTpjaGVja2VkXCIpLnZhbCgpO1xyXG4gIFxyXG4gICAgaWYgKGxhdGV4RXhwICYmIGxhdGV4RnJlcSAmJiBjaGF0Ym90RnJlcSkge1xyXG4gICAgICAkKFwiI2J1dHRvbl9pbnN0cnVjdGlvbnNfbmV4dFwiKS5zaG93KCk7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgJChcIiNidXR0b25faW5zdHJ1Y3Rpb25zX25leHRcIikuaGlkZSgpO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGxvZ0lucHV0RXZlbnQoZXZlbnRUeXBlOiBzdHJpbmcsIGtleVByZXNzZWQ/OiBzdHJpbmcpIHtcclxuICAgIGNvbnN0IHByZWNpc2VUaW1lID0gKChEYXRlLm5vdygpIC0gcXVlc3Rpb25TdGFydFRpbWUpIC8gMTAwMCkudG9GaXhlZCgzKTtcclxuICAgIGNvbnN0IHFpZCA9IGN1cnJlbnRRdWVzdGlvbkluZGV4OyAvLyBVc2luZyB0aGUgY3VycmVudFF1ZXN0aW9uSW5kZXggYXMgdGhlIHF1ZXN0aW9uIGlkLlxyXG4gICAgY29uc3QgY29uZGl0aW9uID0gZGF0YVtjdXJyZW50Q29uZGl0aW9uSW5kZXhdLmNvbmRpdGlvbjtcclxuICAgIGNvbnN0IGN1cnJlbnRUZXh0ID0gJChcIiN0b2tlbl9pbnB1dFwiKS52YWwoKSBhcyBzdHJpbmc7XHJcblxyXG4gICAgbGV0IG5ld19rZXlsb2cgPSB7XHJcbiAgICAgICAgZXZlbnQ6IGV2ZW50VHlwZSxcclxuICAgICAgICBxaWQ6IHFpZCxcclxuICAgICAgICBjb25kaXRpb246IGNvbmRpdGlvbixcclxuICAgICAgICBjb25kaXRpb25faW5kZXg6IGN1cnJlbnRDb25kaXRpb25JbmRleCxcclxuICAgICAgICBwcmVjaXNlX3RpbWU6IHByZWNpc2VUaW1lLFxyXG4gICAgICAgIG5ld190ZXh0OiBjdXJyZW50VGV4dCxcclxuICAgICAgICBvbGRfdGV4dDogcHJldmlvdXNJbnB1dCxcclxuICAgICAgICBrZXlfcHJlc3NlZDoga2V5UHJlc3NlZCB8fCBudWxsLCAvL3RvZG9cclxuICAgIH1cclxuICAgIHByZXZpb3VzSW5wdXQgPSBjdXJyZW50VGV4dDsgLy8gRW5zdXJlIGN1cnJlbnRUZXh0IGlzIGEgc3RyaW5nIGJlZm9yZSBhc3NpZ25tZW50XHJcbiAgICBrZXlsb2dzID0ga2V5bG9ncy5jb25jYXQoW25ld19rZXlsb2ddKTtcclxufVxyXG5cclxuXHJcblxyXG5mdW5jdGlvbiBuZXh0X2luc3RydWN0aW9ucyhpbmNyZW1lbnQ6IG51bWJlcikge1xyXG4gICAgaW5zdHJ1Y3Rpb25faSArPSBpbmNyZW1lbnRcclxuXHJcbiAgICBpZiAoaW5zdHJ1Y3Rpb25faSA9PSAwKSB7XHJcbiAgICAgICAgJChcIiNidXR0b25faW5zdHJ1Y3Rpb25zX3ByZXZcIikuYXR0cihcImRpc2FibGVkXCIsIFwidHJ1ZVwiKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAkKFwiI2J1dHRvbl9pbnN0cnVjdGlvbnNfcHJldlwiKS5yZW1vdmVBdHRyKFwiZGlzYWJsZWRcIilcclxuICAgIH1cclxuICAgIGlmKGluc3RydWN0aW9uX2kgPT0gMyAmJiAhY2hlY2tQcmVTdXJ2ZXkoKSkge1xyXG4gICAgICAgICQoXCIjYnV0dG9uX2luc3RydWN0aW9uc19uZXh0XCIpLmF0dHIoXCJkaXNhYmxlZFwiLCBcInRydWVcIilcclxuICAgICAgICAkKFwiI2J1dHRvbl9pbnN0cnVjdGlvbnNfbmV4dFwiKS5oaWRlKClcclxuICAgIH1cclxuICAgIGVsc2V7XHJcbiAgICAgICAgJChcIiNidXR0b25faW5zdHJ1Y3Rpb25zX25leHRcIikucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpXHJcbiAgICAgICAgJChcIiNidXR0b25faW5zdHJ1Y3Rpb25zX25leHRcIikuc2hvdygpXHJcbiAgICB9XHJcbiAgICBpZiAoaW5zdHJ1Y3Rpb25faSA+PSA0KSB7XHJcbiAgICAgICAgJChcIiNpbnN0cnVjdGlvbnNfYW5kX2RlY29yYXRpb25zXCIpLnNob3coKVxyXG4gICAgICAgICQoXCIjYnV0dG9uX2luc3RydWN0aW9uc19uZXh0XCIpLnZhbChcIlN0YXJ0IHN0dWR5XCIpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgICQoXCIjaW5zdHJ1Y3Rpb25zX2FuZF9kZWNvcmF0aW9uc1wiKS5oaWRlKClcclxuICAgICAgICAkKFwiI2J1dHRvbl9pbnN0cnVjdGlvbnNfbmV4dFwiKS52YWwoXCJOZXh0XCIpXHJcbiAgICB9XHJcbiAgICBpZiAoaW5zdHJ1Y3Rpb25faSA9PSA1KSB7XHJcbiAgICAgICAgJChcIiNpbnN0cnVjdGlvbnNfYW5kX2RlY29yYXRpb25zXCIpLnNob3coKVxyXG4gICAgICAgICQoXCIjbWFpbl9ib3hfaW5zdHJ1Y3Rpb25zXCIpLmhpZGUoKVxyXG4gICAgICAgICQoXCIjbWFpbl9ib3hfZXhwZXJpbWVudFwiKS5zaG93KClcclxuICAgICAgICAvLyBSZXNldCBvdXIgY29uZGl0aW9uIGluZGljZXMgYmVmb3JlIHN0YXJ0aW5nIHRoZSBleHBlcmltZW50XHJcbiAgICAgICAgaWYgKCFwcmVTdXJ2ZXlMb2dnZWQpIHtcclxuICAgICAgICAgICAgY29uc3QgcHJlU3VydmV5RGF0YSA9IHtcclxuICAgICAgICAgICAgICAgIGxhdGV4RXhwZXJpZW5jZTogJChcImlucHV0W25hbWU9J2xhdGV4RXhwZXJpZW5jZSddOmNoZWNrZWRcIikudmFsKCksXHJcbiAgICAgICAgICAgICAgICBsYXRleEZyZXF1ZW5jeTogJChcImlucHV0W25hbWU9J2xhdGV4RnJlcXVlbmN5J106Y2hlY2tlZFwiKS52YWwoKSxcclxuICAgICAgICAgICAgICAgIGNoYXRib3RGcmVxdWVuY3k6ICQoXCJpbnB1dFtuYW1lPSdjaGF0Ym90RnJlcXVlbmN5J106Y2hlY2tlZFwiKS52YWwoKVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBsb2dfZGF0YSh7IHByZV9zdXJ2ZXk6IHByZVN1cnZleURhdGEgfSk7XHJcbiAgICAgICAgICAgIHByZVN1cnZleUxvZ2dlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgbmV4dF9xdWVzdGlvbigpXHJcbiAgICB9XHJcblxyXG4gICAgJChcIiNtYWluX2JveF9pbnN0cnVjdGlvbnNcIikuY2hpbGRyZW4oXCI6bm90KGlucHV0KVwiKS5lYWNoKChfLCBlbCkgPT4ge1xyXG4gICAgICAgICQoZWwpLmhpZGUoKVxyXG4gICAgfSlcclxuICAgICQoYCNpbnN0cnVjdGlvbnNfJHtpbnN0cnVjdGlvbl9pfWApLnNob3coKVxyXG59XHJcbiQoXCIjYnV0dG9uX2luc3RydWN0aW9uc19uZXh0XCIpLm9uKFwiY2xpY2tcIiwgKCkgPT4gbmV4dF9pbnN0cnVjdGlvbnMoKzEpKVxyXG4kKFwiI2J1dHRvbl9pbnN0cnVjdGlvbnNfcHJldlwiKS5vbihcImNsaWNrXCIsICgpID0+IG5leHRfaW5zdHJ1Y3Rpb25zKC0xKSlcclxuXHJcblxyXG4vKiBOZXcgZnVuY3Rpb246IFNob3cgc3RhcnQtb2YtY29uZGl0aW9uIHBhZ2UgKi9cclxuZnVuY3Rpb24gc2hvd1N0YXJ0Q29uZGl0aW9uUGFnZShjb25kaXRpb246IHN0cmluZykge1xyXG4gICAgJChcIiNtYWluX2JveF9leHBlcmltZW50XCIpLmhpZGUoKTtcclxuICAgIC8vIENsZWFyIHRoZSBjb250YWluZXIgb25jZS5cclxuICAgICQoXCIjc3RhcnRfY29uZGl0aW9uX3BhZ2VcIikuZW1wdHkoKS5zaG93KCk7XHJcblxyXG4gICAgLy8gRGV0ZXJtaW5lIGhlYWRlciB0ZXh0IGJhc2VkIG9uIGNvbmRpdGlvbi5cclxuICAgIGNvbnN0IGhlYWRlclRleHQgPSAoY29uZGl0aW9uID09PSBcImhpZ2hsaWdodGVkXCIpIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgPyBgUGFydCAke2N1cnJlbnRDb25kaXRpb25JbmRleCsxfTogQUkgVW5jZXJ0YWludHkgaXMgSGlnaGxpZ2h0ZWRgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgOiBgUGFydCAke2N1cnJlbnRDb25kaXRpb25JbmRleCsxfTogQUkgVW5jZXJ0YWludHkgaXMgTm90IEhpZ2hsaWdodGVkYDtcclxuXHJcbiAgICAvLyBDcmVhdGUgYSBmbGV4IGNvbnRhaW5lciB3aXRoIGhlYWRlciBhbmQgU3RhcnQgRXhwZXJpbWVudCBidXR0b24uXHJcbiAgICBjb25zdCBoZWFkZXJIdG1sID0gYFxyXG4gICAgICA8ZGl2IHN0eWxlPVwiZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOyBhbGlnbi1pdGVtczogY2VudGVyO1wiPlxyXG4gICAgICAgICAgPGgyIHN0eWxlPVwibWFyZ2luOiAwO1wiPiR7aGVhZGVyVGV4dH08L2gyPlxyXG4gICAgICAgICAgPGlucHV0IGlkPVwic3RhcnRfY29uZGl0aW9uX25leHRcIiB0eXBlPVwiYnV0dG9uXCIgdmFsdWU9XCJTdGFydCBTZWN0aW9uXCIgc3R5bGU9XCJtYXJnaW46IDA7XCIvPlxyXG4gICAgICA8L2Rpdj5cclxuICAgIGA7XHJcbiAgICAkKFwiI3N0YXJ0X2NvbmRpdGlvbl9wYWdlXCIpLmFwcGVuZChoZWFkZXJIdG1sKTtcclxuXHJcbiAgICAvLyBBcHBlbmQgYSBjb250YWluZXIgZm9yIHRoZSBwcmFjdGljZSByb3VuZCBjb250ZW50IGlmIG5vdCBhbHJlYWR5IHByZXNlbnQuXHJcbiAgICBpZiAoJChcIiNwcmFjdGljZV9jb250YWluZXJcIikubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICQoXCIjc3RhcnRfY29uZGl0aW9uX3BhZ2VcIikuYXBwZW5kKCc8ZGl2IGlkPVwicHJhY3RpY2VfY29udGFpbmVyXCIgc3R5bGU9XCJtYXJnaW4tdG9wOjEwcHg7XCI+PC9kaXY+Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgbG9hZFByYWN0aWNlUXVlc3Rpb25zKCkudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICAgIHByYWN0aWNlUXVlc3Rpb25zID0gZGF0YTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIlByYWN0aWNlIHF1ZXN0aW9ucyBsb2FkZWQ6XCIsIHByYWN0aWNlUXVlc3Rpb25zKTtcclxuICAgICAgICBwcmFjdGljZUluZGV4ID0gMDsgLy8gU3RhcnQgYXQgdGhlIGZpcnN0IHByYWN0aWNlIHF1ZXN0aW9uLlxyXG4gICAgICAgIC8vIExhdW5jaCB0aGUgcHJhY3RpY2Ugcm91bmQuXHJcbiAgICAgICAgc2hvd1ByYWN0aWNlUm91bmQoKCkgPT4ge1xyXG4gICAgICAgICAgLy8gV2hlbiBwcmFjdGljZSBpcyBjb21wbGV0ZSwgcmVzdW1lIHRoZSBub3JtYWwgZXhwZXJpbWVudCBmbG93LlxyXG4gICAgICAgICAgLy8gKEF0IHRoaXMgcG9pbnQsIHlvdSBjYW4gbm93IHNhZmVseSB1cGRhdGUgZXhwZXJpbWVudCBzdGF0ZS4pXHJcbiAgICAgICAgICBjdXJyZW50UXVlc3Rpb25JbmRleCA9IDE7XHJcbiAgICAgICAgICBuZXh0X3F1ZXN0aW9uKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAvLyBjb25zb2xlLmVycm9yKFwiRXJyb3IgbG9hZGluZyBwcmFjdGljZSBxdWVzdGlvbnM6XCIsIGVycik7XHJcbiAgICAgIH0pO1xyXG4gICAgXHJcblxyXG4gICAgJChcIiNzdGFydF9jb25kaXRpb25fbmV4dFwiKS5vbihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICAkKFwiI3N0YXJ0X2NvbmRpdGlvbl9wYWdlXCIpLmhpZGUoKTtcclxuICAgICAgICAvLyBBZnRlciBzdGFydCBwYWdlLCBiZWdpbiB3aXRoIGZpcnN0IHF1ZXN0aW9uIChzZXQgaW5kZXggdG8gMSlcclxuICAgICAgICBjdXJyZW50UXVlc3Rpb25JbmRleCA9IDE7XHJcbiAgICAgICAgbmV4dF9xdWVzdGlvbigpO1xyXG4gICAgfSk7XHJcbn1cclxubGV0IHByYWN0aWNlUXVlc3Rpb25zOiBhbnlbXSA9IFtdO1xyXG5sZXQgcHJhY3RpY2VJbmRleDogbnVtYmVyID0gMDtcclxuXHJcbi8vIEZ1bmN0aW9uIHRvIGxvYWQgcHJhY3RpY2UgcXVlc3Rpb25zIChhc3N1bWVzIGEgSlNPTiBmaWxlIHdpdGggYW4gYXJyYXkgb2YgZXhhbXBsZSBxdWVzdGlvbnMpXHJcbmZ1bmN0aW9uIGxvYWRQcmFjdGljZVF1ZXN0aW9ucygpOiBQcm9taXNlPGFueVtdPiB7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlPGFueVtdPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAkLmdldEpTT04oXCJwcmFjdGljZV9xdWVzdGlvbnMvUXdlbl9wcmFjdGljZV9Rcy5qc29uXCIpXHJcbiAgICAgIC5kb25lKGRhdGEgPT4gcmVzb2x2ZShkYXRhKSlcclxuICAgICAgLmZhaWwoKGpxeGhyLCB0ZXh0U3RhdHVzLCBlcnJvcikgPT4gcmVqZWN0KGVycm9yKSk7XHJcbiAgfSk7XHJcbn1cclxuZnVuY3Rpb24gc2hvd1ByYWN0aWNlUm91bmQob25Db21wbGV0ZTogKCkgPT4gdm9pZCkge1xyXG4gICAgLy8gSW5zdGVhZCBvZiBlbXB0eWluZyB0aGUgZW50aXJlIHBhZ2UsIHVwZGF0ZSBvbmx5IHRoZSBwcmFjdGljZSBjb250YWluZXIuXHJcbiAgICAkKFwiI3ByYWN0aWNlX2NvbnRhaW5lclwiKS5lbXB0eSgpLnNob3coKTtcclxuICBcclxuICAgIC8vIEJ1aWxkIHRoZSBwcmFjdGljZSByb3VuZCBjb250ZW50IGluc2lkZSBhIGZpeGVkIGNvbnRhaW5lci5cclxuICAgIGNvbnN0IHByYWN0aWNlQ29udGVudCA9ICQoYFxyXG4gICAgICA8ZGl2IGlkPVwicHJhY3RpY2VfaW5uZXJfY29udGFpbmVyXCIgc3R5bGU9XCJwYWRkaW5nOiAyMHB4OyBwYWRkaW5nLXRvcDowcHg7IG92ZXJmbG93LXk6IGF1dG87XCI+XHJcbiAgICAgICAgPGRpdiBpZD1cInByYWN0aWNlX2luc3RydWN0aW9uc1wiPjwvZGl2PlxyXG4gICAgICAgIDxkaXYgaWQ9XCJwcmFjdGljZV9oZWFkZXJcIj48L2Rpdj5cclxuICAgICAgICA8ZGl2IGlkPVwicHJhY3RpY2VfY29udGVudFwiIHN0eWxlPVwibWFyZ2luLXRvcDogMTBweDtcIj48L2Rpdj5cclxuICAgICAgICA8ZGl2IGlkPVwicHJhY3RpY2VfbmF2XCIgc3R5bGU9XCJtYXJnaW4tdG9wOiAyMHB4OyBtYXJnaW4tYm90dG9tOiAyNXB4O1wiPjwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgIGApO1xyXG4gICAgJChcIiNwcmFjdGljZV9jb250YWluZXJcIikuYXBwZW5kKHByYWN0aWNlQ29udGVudCk7XHJcbiAgXHJcbiAgICAvLyBTZXQgaGVhZGVyIGZvciB0aGUgcHJhY3RpY2Ugcm91bmQuXHJcbiAgICAkKFwiI3ByYWN0aWNlX2hlYWRlclwiKS5odG1sKGA8aDM+UHJhY3RpY2UgRXhhbXBsZSAoJHtwcmFjdGljZUluZGV4ICsgMX0gb2YgJHtwcmFjdGljZVF1ZXN0aW9ucy5sZW5ndGh9KTwvaDM+YCk7XHJcbiAgXHJcbiAgICBjb25zdCBjb25kaXRpb24gPSBkYXRhW2N1cnJlbnRDb25kaXRpb25JbmRleF0uY29uZGl0aW9uO1xyXG4gICAgY29uc3QgYnVsbGV0UG9pbnRzOiBzdHJpbmdbXSA9IFtdO1xyXG5cclxuICAgIGlmIChjb25kaXRpb24gPT09IFwiaGlnaGxpZ2h0ZWRcIikge1xyXG4gICAgICAgIGJ1bGxldFBvaW50cy5wdXNoKFwiWW91IHdpbGwgYmUgYWJsZSB0byBzZWUgaWYgdGhlIG1vZGVsIGlzIHVuY2VydGFpbiBhYm91dCBhbnkgcGFydCBvZiB0aGUgdHJhbnNjcmlwdGlvbi5cIilcclxuICAgICAgICBidWxsZXRQb2ludHMucHVzaChcIlRoZSB0ZXh0IGlzIHJlZCBpZiB0aGUgbW9kZWwgaXMgdW5jZXJ0YWluIGFib3V0IGl0LiBUaGUgYnJpZ2h0ZXIgdGhlIHJlZCBoaWdobGlnaHQsIHRoZSBtb3JlIHVuY2VydGFpbiB0aGUgbW9kZWwgaXMgYWJvdXQgdGhhdCBzcGVjaWZpYyBwYXJ0IG9mIHRoZSB0ZXh0LlwiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYnVsbGV0UG9pbnRzLnB1c2goXCJZb3Ugd2lsbCA8Yj5ub3Q8L2I+IGJlIGFibGUgdG8gc2VlIGlmIHRoZSBtb2RlbCBpcyB1bmNlcnRhaW4gYWJvdXQgYW55IHBhcnQgb2YgdGhlIHRyYW5zY3JpcHRpb24uXCIpO1xyXG4gICAgfVxyXG4gICAgYnVsbGV0UG9pbnRzLnB1c2goXCJSZXZpZXcgdGhlIHRyYW5zY3JpcHRpb24gY2FyZWZ1bGx5IGFuZCBmaXggYW55IGVycm9ycyBieSBlZGl0aW5nIHRoZSBpbnB1dCBib3guXCIpO1xyXG4gICAgYnVsbGV0UG9pbnRzLnB1c2goXCJXaGVuIHRoZSBzZXNzaW9uIHN0YXJ0cywgeW91IHdpbGwgaGF2ZSAyMCBzZWNvbmRzIHRvIG1vZGlmeSBlYWNoIHRyYW5zY3JpcHRpb24uXCIpO1xyXG5cclxuICAgIC8vIEJ1aWxkIEhUTUwgZm9yIHRoZSBidWxsZXQgbGlzdCBkeW5hbWljYWxseVxyXG4gICAgY29uc3QgYnVsbGV0SHRtbCA9IGJ1bGxldFBvaW50cy5tYXAocG9pbnQgPT4gYDxsaT4ke3BvaW50fTwvbGk+YCkuam9pbihcIlwiKTtcclxuXHJcbiAgICAvLyBJbnNlcnQgdGhlIGluc3RydWN0aW9ucyBpbiB0aGUgcHJhY3RpY2Ugcm91bmQgVUlcclxuICAgICQoXCIjcHJhY3RpY2VfaW5zdHJ1Y3Rpb25zXCIpLmh0bWwoYFxyXG4gICAgPGgzIHN0eWxlPVwiZm9udC1zaXplOiAxLjFlbTsgbWFyZ2luLWJvdHRvbTogNXB4O1wiPkluc3RydWN0aW9uczo8L2gzPlxyXG4gICAgPHVsIHN0eWxlPVwibWFyZ2luLWxlZnQ6IDIwcHg7XCI+XHJcbiAgICAgICAgJHtidWxsZXRIdG1sfVxyXG4gICAgPC91bD5cclxuICAgIGApO1xyXG5cclxuICAgIC8vIEJ1aWxkIGNvbnRlbnQ6IGltYWdlLCBwcmVkaWN0ZWQgdGV4dCwgYW5kIGlucHV0LlxyXG4gICAgY29uc3QgY29udGVudEh0bWwgPSBgXHJcbiAgICAgIDxkaXYgaWQ9XCJwcmFjdGljZV9xdWVzdGlvbl9kaXNwbGF5XCIgc3R5bGU9XCJtYXJnaW4tdG9wOiAxMHB4O1wiPlxyXG4gICAgICAgIDxpbWcgaWQ9XCJwcmFjdGljZV9xdWVzdGlvbl9pbWFnZVwiIHNyYz1cIlwiIGFsdD1cIlByYWN0aWNlIFF1ZXN0aW9uIEltYWdlXCIgc3R5bGU9XCJtYXgtd2lkdGg6IDEwMCU7IGhlaWdodDogMTEwcHg7IG9iamVjdC1maXQ6IGNvbnRhaW47bWFyZ2luLXRvcDogMjBweDtcIj5cclxuICAgICAgICA8ZGl2IGlkPVwicHJhY3RpY2VfcHJlZGljdGVkX3RleHRfY29udGFpbmVyXCIgc3R5bGU9XCJtYXJnaW4tdG9wOiAyMHB4O1wiPlxyXG4gICAgICAgICAgPGRpdiBzdHlsZT1cIm1hcmdpbi10b3A6IDEwcHg7XCI+UHJlZGljdGVkIFRleHQ6PC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGlkPVwicHJhY3RpY2VfcHJlZGljdGVkX3RleHRcIiBzdHlsZT1cIm1hcmdpbi10b3A6IDIwcHg7XCI+PC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBpZD1cInByYWN0aWNlX3Rva2VuX2lucHV0X2NvbnRhaW5lclwiIHN0eWxlPVwibWFyZ2luLXRvcDogMjBweDtcIj5cclxuICAgICAgICAgIDxpbnB1dCBpZD1cInByYWN0aWNlX3Rva2VuX2lucHV0XCIgdHlwZT1cInRleHRcIiBzdHlsZT1cIndpZHRoOiAxMDAlOyBmb250LXNpemU6IDE2cHg7IHBhZGRpbmc6IDhweDtcIj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICBgO1xyXG4gICAgJChcIiNwcmFjdGljZV9jb250ZW50XCIpLmh0bWwoY29udGVudEh0bWwpO1xyXG4gIFxyXG4gICAgLy8gR2V0IHRoZSBjdXJyZW50IHByYWN0aWNlIHF1ZXN0aW9uLlxyXG4gICAgY29uc3QgcXVlc3Rpb24gPSBwcmFjdGljZVF1ZXN0aW9uc1twcmFjdGljZUluZGV4XTtcclxuICBcclxuICAgIC8vIFNldCB0aGUgcXVlc3Rpb24gaW1hZ2UuXHJcbiAgICBpZiAocXVlc3Rpb25bXCJpbWFnZVwiXSkge1xyXG4gICAgICAkKFwiI3ByYWN0aWNlX3F1ZXN0aW9uX2ltYWdlXCIpLmF0dHIoXCJzcmNcIiwgXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsXCIgKyBxdWVzdGlvbltcImltYWdlXCJdKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICQoXCIjcHJhY3RpY2VfcXVlc3Rpb25faW1hZ2VcIikuYXR0cihcInNyY1wiLCBcIlwiKTtcclxuICAgIH1cclxuICBcclxuICBcclxuICAgIC8vIFByZXBvcHVsYXRlIHRoZSB0ZXh0IGlucHV0LlxyXG4gICAgbGV0IHRva2Vuc0NvbmNhdGVuYXRlZCA9IFwiXCI7XHJcbiAgICBpZiAocXVlc3Rpb25bXCJ0b2tlbl9pbmZvXCJdICYmIEFycmF5LmlzQXJyYXkocXVlc3Rpb25bXCJ0b2tlbl9pbmZvXCJdKSkge1xyXG4gICAgICB0b2tlbnNDb25jYXRlbmF0ZWQgPSBxdWVzdGlvbltcInRva2VuX2luZm9cIl1cclxuICAgICAgICAubWFwKGl0ZW0gPT4gaXRlbS50b2tlbilcclxuICAgICAgICAuZmlsdGVyKHRva2VuID0+IHRva2VuICE9PSBcIjx8aW1fZW5kfD5cIilcclxuICAgICAgICAubWFwKHRva2VuID0+IHRva2VuLnJlcGxhY2UoL8SgL2csIFwiIFwiKSlcclxuICAgICAgICAuam9pbignJyk7XHJcbiAgICB9XHJcbiAgICAkKFwiI3ByYWN0aWNlX3Rva2VuX2lucHV0XCIpLnZhbChmaXhTcGFjaW5nKHRva2Vuc0NvbmNhdGVuYXRlZCkpO1xyXG5cclxuICAgIGlmKGRhdGFbY3VycmVudENvbmRpdGlvbkluZGV4XS5jb25kaXRpb24gPT0gXCJub24taGlnaGxpZ2h0ZWRcIil7IFxyXG4gICAgICAgICQoXCIjcHJhY3RpY2VfcHJlZGljdGVkX3RleHRcIikuaHRtbChmaXhTcGFjaW5nKHRva2Vuc0NvbmNhdGVuYXRlZCkpO1xyXG4gICAgfSAgIFxyXG4gICAgZWxzZSBpZiAoZGF0YVtjdXJyZW50Q29uZGl0aW9uSW5kZXhdLmNvbmRpdGlvbiA9PSBcImhpZ2hsaWdodGVkXCIpe1xyXG4gICAgICAgIGxldCBwcmVkaWN0ZWRIdG1sID0gXCJcIjtcclxuICAgICAgICAgICAgaWYgKHF1ZXN0aW9uW1widG9rZW5faW5mb1wiXSAmJiBBcnJheS5pc0FycmF5KHF1ZXN0aW9uW1widG9rZW5faW5mb1wiXSkpIHtcclxuICAgICAgICAgICAgICAgIHByZWRpY3RlZEh0bWwgPSBxdWVzdGlvbltcInRva2VuX2luZm9cIl1cclxuICAgICAgICAgICAgICAgIC5maWx0ZXIoaXRlbSA9PiBpdGVtLnRva2VuICE9PSBcIjx8aW1fZW5kfD5cIilcclxuICAgICAgICAgICAgICAgIC5tYXAoaXRlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdG9rZW5UZXh0ID0gaXRlbS50b2tlbi5yZXBsYWNlKC/EoC9nLCBcIiBcIik7XHJcbiAgICAgICAgICAgICAgICBsZXQgcHJvYiA9IChpdGVtLnRvcF81X3Rva2VucyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS50b3BfNV90b2tlbnNbMF0gJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiBpdGVtLnRvcF81X3Rva2Vuc1swXS5wcm9iYWJpbGl0eSA9PT0gXCJudW1iZXJcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gaXRlbS50b3BfNV90b2tlbnNbMF0ucHJvYmFiaWxpdHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogMTtcclxuICAgICAgICAgICAgICAgIGxldCBpbnRlbnNpdHkgPSAxIC0gcHJvYjtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgPHNwYW4gc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMCwgMCwgJHtpbnRlbnNpdHl9KTtcIj4ke2ZpeFNwYWNpbmcodG9rZW5UZXh0KX08L3NwYW4+YDtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuam9pbignJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAkKFwiI3ByYWN0aWNlX3ByZWRpY3RlZF90ZXh0XCIpLmh0bWwocHJlZGljdGVkSHRtbCk7XHJcbiAgICAgICAgfSAgICBcclxuICBcclxuICAgIC8vIEFmdGVyIHNldHRpbmcgdGhlIHByZWRpY3RlZCB0ZXh0IGluICNwcmFjdGljZV9wcmVkaWN0ZWRfdGV4dCwgYWRkOlxyXG4gICAgaWYgKGNvbmRpdGlvbiA9PT0gXCJoaWdobGlnaHRlZFwiKXtcclxuICAgICAgICBsZXQgYWRkaXRpb25hbFRleHQgPSBcIlwiO1xyXG4gICAgICAgIGlmIChwcmFjdGljZUluZGV4ID09PSAwKSB7XHJcbiAgICAgICAgYWRkaXRpb25hbFRleHQgPSBcIlRoZSBtb2RlbCBpcyB1bmNlcnRhaW4gYWJvdXQgdGhlIHRleHQgJ1xcXFxib3hlZCdcIjtcclxuICAgICAgICB9IGVsc2UgaWYgKHByYWN0aWNlSW5kZXggPT09IDEpIHtcclxuICAgICAgICBhZGRpdGlvbmFsVGV4dCA9IFwidGhlIG1vZGVsIHNob3dzIG5vIHVuY2VydGFpbnR5IChpLmUuIGl0IGlzIGNvbmZpZGVudCBhYm91dCB0aGUgZnVsbCB0cmFuc2NyaXB0aW9uKVwiO1xyXG4gICAgICAgIH0gZWxzZSBpZiAocHJhY3RpY2VJbmRleCA9PT0gMikge1xyXG4gICAgICAgIGFkZGl0aW9uYWxUZXh0ID0gXCJUaGUgbW9kZWwgaXMgdW5jZXJ0YWluIGFib3V0IHRocmVlIGNoYXJhY3RlcnNcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgJChcIiNwcmFjdGljZV9wcmVkaWN0ZWRfdGV4dFwiKS5hcHBlbmQoXHJcbiAgICAgICAgYDxzcGFuIHN0eWxlPVwiZm9udC1zdHlsZTogaXRhbGljOyBtYXJnaW4tbGVmdDogMjBweDsgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcIj4ke2FkZGl0aW9uYWxUZXh0fTwvc3Bhbj5gXHJcbiAgICAgICAgKTtcclxuICAgIFxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvLyBCdWlsZCBuYXZpZ2F0aW9uIGJ1dHRvbnMuXHJcbiAgICBjb25zdCBuYXZIdG1sID0gYFxyXG4gICAgICA8ZGl2PlxyXG4gICAgICAgIDxpbnB1dCBpZD1cInByYWN0aWNlX3ByZXZcIiB0eXBlPVwiYnV0dG9uXCIgdmFsdWU9XCJQcmV2aW91cyBFeGFtcGxlXCI+XHJcbiAgICAgICAgPGlucHV0IGlkPVwicHJhY3RpY2VfbmV4dFwiIHR5cGU9XCJidXR0b25cIiB2YWx1ZT1cIk5leHQgRXhhbXBsZVwiIHN0eWxlPVwibWFyZ2luLWxlZnQ6IDEwcHg7XCI+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgYDtcclxuICAgICQoXCIjcHJhY3RpY2VfbmF2XCIpLmh0bWwobmF2SHRtbCk7XHJcbiAgXHJcbiAgICAvLyBBdHRhY2ggYnV0dG9uIGhhbmRsZXJzLlxyXG4gICAgJChcIiNwcmFjdGljZV9wcmV2XCIpLm9mZihcImNsaWNrXCIpLm9uKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICBwcmFjdGljZUluZGV4ID0gKHByYWN0aWNlSW5kZXggLSAxICsgcHJhY3RpY2VRdWVzdGlvbnMubGVuZ3RoKSAlIHByYWN0aWNlUXVlc3Rpb25zLmxlbmd0aDtcclxuICAgICAgc2hvd1ByYWN0aWNlUm91bmQob25Db21wbGV0ZSk7XHJcbiAgICB9KTtcclxuICAgICQoXCIjcHJhY3RpY2VfbmV4dFwiKS5vZmYoXCJjbGlja1wiKS5vbihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgcHJhY3RpY2VJbmRleCA9IChwcmFjdGljZUluZGV4ICsgMSkgJSBwcmFjdGljZVF1ZXN0aW9ucy5sZW5ndGg7XHJcbiAgICAgIHNob3dQcmFjdGljZVJvdW5kKG9uQ29tcGxldGUpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIFxyXG5cclxuXHJcbi8qIE5ldyBmdW5jdGlvbjogU2hvdyBlbmQtb2YtY29uZGl0aW9uIHBhZ2UgKi9cclxuZnVuY3Rpb24gc2hvd0VuZENvbmRpdGlvblBhZ2UoY29uZGl0aW9uOiBzdHJpbmcpIHtcclxuICAgICQoXCIjbWFpbl9ib3hfZXhwZXJpbWVudFwiKS5oaWRlKCk7XHJcbiAgICBjb25zdCBjdXJyZW50Q29uZGl0aW9uID0gZGF0YVtjdXJyZW50Q29uZGl0aW9uSW5kZXhdLmNvbmRpdGlvbjtcclxuICAgICQoXCIjY29uZGl0aW9uX2xhYmVsXCIpLnRleHQoY3VycmVudENvbmRpdGlvbik7XHJcbiAgICAvLyBSZXNldCBlYWNoIHNsaWRlciB0byBhIGRlZmF1bHQsIGUuZy4sIDBcclxuICAgICQoXCIjbWVudGFsX2RlbWFuZFwiKS52YWwoXCIwXCIpO1xyXG4gICAgJChcIiNodXJyaWVkX2RlbWFuZFwiKS52YWwoXCIwXCIpO1xyXG4gICAgJChcIiNwZXJmb3JtYW5jZVwiKS52YWwoXCIwXCIpO1xyXG4gICAgJChcIiNlZmZvcnRcIikudmFsKFwiMFwiKTtcclxuICAgICQoXCIjZnJ1c3RyYXRpb25cIikudmFsKFwiMFwiKTtcclxuXHJcbiAgICAkKFwiI25hc2FfdGx4X3N1cnZleVwiKS5zaG93KCk7XHJcbiAgIFxyXG59XHJcblxyXG5cclxuXHJcbmZ1bmN0aW9uIG5leHRfcXVlc3Rpb24oKSB7XHJcbiAgICAvLyByZXN0b3JlIHByZXZpb3VzIHN0YXRlIG9mIFVJXHJcbiAgICAkKFwiI21haW5fYm94X2V4cGVyaW1lbnRcIikuc2hvdygpO1xyXG4gICAgJChcIiNidXR0b25fbmV4dFwiKS5oaWRlKClcclxuICAgICQoJyNidXR0b25fcXVpdCcpLmhpZGUoKVxyXG4gICAga2V5bG9ncyA9IFtdO1xyXG4gICAgLy8kKFwiI3JhbmdlX3ZhbFwiKS52YWwodXNlcl90cnVzdClcclxuICAgIC8vIGNvbnNvbGUubG9nKFwicXVlc3Rpb24gaW5kZXgsIGNvbmRpdGlvbiBpbmRleFwiLCBjdXJyZW50UXVlc3Rpb25JbmRleCwgY3VycmVudENvbmRpdGlvbkluZGV4KSAgICAgICAgXHJcblxyXG4gICAgaWYgKGN1cnJlbnRDb25kaXRpb25JbmRleCA+PSBkYXRhLmxlbmd0aCkge1xyXG4gICAgICAgICQoXCIjbWFpbl9ib3hfZXhwZXJpbWVudFwiKS5oaWRlKCk7XHJcbiAgICAgICAgJChcIiNxdWFsaXRhdGl2ZV9zZWN0aW9uXCIpLnNob3coKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBsZXQgY29uZGl0aW9uQmxvY2sgPSBkYXRhW2N1cnJlbnRDb25kaXRpb25JbmRleF07XHJcbiAgICAvLyBjb25zb2xlLmxvZyhcIkNvbmRpdGlvbiBibG9ja1wiLCBjb25kaXRpb25CbG9jaylcclxuICAgIC8vIGNvbnNvbGUubG9nKGRhdGEpXHJcblxyXG4gICAgLy8gSWYgd2UgYXJlIGF0IHRoZSBzdGFydCBwYWdlIGZvciB0aGlzIGNvbmRpdGlvbiwgc2hvdyBpdC5cclxuICAgIGlmIChjdXJyZW50UXVlc3Rpb25JbmRleCA9PT0gMCkge1xyXG4gICAgICAgIHNob3dTdGFydENvbmRpdGlvblBhZ2UoY29uZGl0aW9uQmxvY2suY29uZGl0aW9uKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSWYgd2UndmUgZ29uZSBwYXN0IGFsbCBxdWVzdGlvbnMgaW4gdGhpcyBjb25kaXRpb24sIHNob3cgdGhlIGVuZC1vZi1jb25kaXRpb24gcGFnZS5cclxuICAgIGlmIChjdXJyZW50UXVlc3Rpb25JbmRleCA+IGNvbmRpdGlvbkJsb2NrLnF1ZXN0aW9ucy5sZW5ndGgpIHtcclxuICAgICAgICBzaG93RW5kQ29uZGl0aW9uUGFnZShjb25kaXRpb25CbG9jay5jb25kaXRpb24pO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcXVlc3Rpb24gPSBjb25kaXRpb25CbG9jay5xdWVzdGlvbnNbY3VycmVudFF1ZXN0aW9uSW5kZXggLSAxXTtcclxuICAgIC8vIGNvbnNvbGUubG9nKFwiUXVlc3Rpb25cIiwgY3VycmVudFF1ZXN0aW9uSW5kZXgsIHF1ZXN0aW9uKVxyXG4gICAgXHJcbiAgICBcclxuICAgIC8vIC0tLSBVcGRhdGUgUGFydCAxIGVsZW1lbnRzIC0tLVxyXG4gICAgLy8gRm9yIHRoZSBpbWFnZTogYXNzdW1lIGEgdmFsaWQgQmFzZTY0IHN0cmluZyBmb3Igbm93LlxyXG4gICAgaWYgKHF1ZXN0aW9uW1wiaW1hZ2VcIl0pIHtcclxuICAgICAgJChcIiNxdWVzdGlvbl9pbWFnZVwiKS5hdHRyKFwic3JjXCIsIFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LFwiICsgcXVlc3Rpb25bXCJpbWFnZVwiXSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAkKFwiI3F1ZXN0aW9uX2ltYWdlXCIpLmF0dHIoXCJzcmNcIiwgXCJcIik7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIENvbmNhdGVuYXRlIHRva2VucyAod2l0aCByZXBsYWNlbWVudCBvZiDEoCBhbmQgc2tpcHBpbmcgPHxpbV9lbmR8PikuXHJcbiAgICBsZXQgdG9rZW5zQ29uY2F0ZW5hdGVkID0gXCJcIjtcclxuICAgIGlmIChxdWVzdGlvbltcInRva2VuX2luZm9cIl0gJiYgQXJyYXkuaXNBcnJheShxdWVzdGlvbltcInRva2VuX2luZm9cIl0pKSB7XHJcbiAgICAgICAgdG9rZW5zQ29uY2F0ZW5hdGVkID0gcXVlc3Rpb25bXCJ0b2tlbl9pbmZvXCJdXHJcbiAgICAgICAgICAubWFwKGl0ZW0gPT4gaXRlbS50b2tlbilcclxuICAgICAgICAgIC5maWx0ZXIodG9rZW4gPT4gdG9rZW4gIT09IFwiPHxpbV9lbmR8PlwiKVxyXG4gICAgICAgICAgLm1hcCh0b2tlbiA9PiB0b2tlbi5yZXBsYWNlKC/EoC9nLCBcIiBcIikpXHJcbiAgICAgICAgICAuam9pbignJyk7XHJcbiAgICB9XHJcbiAgICAkKFwiI3Rva2VuX2lucHV0XCIpLnZhbChmaXhTcGFjaW5nKHRva2Vuc0NvbmNhdGVuYXRlZCkpO1xyXG4gICAgcHJldmlvdXNJbnB1dCA9ICQoXCIjdG9rZW5faW5wdXRcIikudmFsKCkgYXMgc3RyaW5nIHx8IFwiXCI7XHJcbiAgICBpZihkYXRhW2N1cnJlbnRDb25kaXRpb25JbmRleF0uY29uZGl0aW9uID09IFwibm9uLWhpZ2hsaWdodGVkXCIpeyBcclxuICAgICAgICAkKFwiI3ByZWRpY3RlZF90ZXh0XCIpLmh0bWwoZml4U3BhY2luZyh0b2tlbnNDb25jYXRlbmF0ZWQpKTtcclxuICAgIH0gICBcclxuICAgIGVsc2UgaWYgKGRhdGFbY3VycmVudENvbmRpdGlvbkluZGV4XS5jb25kaXRpb24gPT0gXCJoaWdobGlnaHRlZFwiKXtcclxuICAgICAgICBsZXQgcHJlZGljdGVkSHRtbCA9IFwiXCI7XHJcbiAgICAgICAgICAgIGlmIChxdWVzdGlvbltcInRva2VuX2luZm9cIl0gJiYgQXJyYXkuaXNBcnJheShxdWVzdGlvbltcInRva2VuX2luZm9cIl0pKSB7XHJcbiAgICAgICAgICAgICAgICBwcmVkaWN0ZWRIdG1sID0gcXVlc3Rpb25bXCJ0b2tlbl9pbmZvXCJdXHJcbiAgICAgICAgICAgICAgICAuZmlsdGVyKGl0ZW0gPT4gaXRlbS50b2tlbiAhPT0gXCI8fGltX2VuZHw+XCIpXHJcbiAgICAgICAgICAgICAgICAubWFwKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IHRva2VuVGV4dCA9IGl0ZW0udG9rZW4ucmVwbGFjZSgvxKAvZywgXCIgXCIpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHByb2IgPSAoaXRlbS50b3BfNV90b2tlbnMgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0udG9wXzVfdG9rZW5zWzBdICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YgaXRlbS50b3BfNV90b2tlbnNbMF0ucHJvYmFiaWxpdHkgPT09IFwibnVtYmVyXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGl0ZW0udG9wXzVfdG9rZW5zWzBdLnByb2JhYmlsaXR5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IDE7XHJcbiAgICAgICAgICAgICAgICBsZXQgaW50ZW5zaXR5ID0gMSAtIHByb2I7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYDxzcGFuIHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDAsIDAsICR7aW50ZW5zaXR5fSk7XCI+JHtmaXhTcGFjaW5nKHRva2VuVGV4dCl9PC9zcGFuPmA7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmpvaW4oJycpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgJChcIiNwcmVkaWN0ZWRfdGV4dFwiKS5odG1sKHByZWRpY3RlZEh0bWwpO1xyXG4gICAgICAgIH0gICAgXHJcblxyXG4gICAgLy8gKFVwZGF0ZSBwcm9ncmVzcyBhbmQgb3RoZXIgZWxlbWVudHMgYXMgbmVjZXNzYXJ5KVxyXG4gICAgJChcIiNwcm9ncmVzc1wiKS50ZXh0KGBTZWN0aW9uICR7Y3VycmVudENvbmRpdGlvbkluZGV4ICsgMX0gb2YgJHtkYXRhLmxlbmd0aH0gfCBRdWVzdGlvbiAke2N1cnJlbnRRdWVzdGlvbkluZGV4fSBvZiAke2NvbmRpdGlvbkJsb2NrLnF1ZXN0aW9ucy5sZW5ndGh9YCk7XHJcbiAgICAgICAgLy8gQWx3YXlzIHNob3cgUGFydCAxIGFuZCBoaWRlIFBhcnQgMiB3aGVuIGEgbmV3IHF1ZXN0aW9uIGxvYWRzLlxyXG4gICAgICAgICQoXCIjcGFydDFcIikuc2hvdygpO1xyXG4gICAgICAgICQoXCIjcGFydDJcIikuaGlkZSgpO1xyXG4gICAgXHJcbi8vIEF0IHRoZSBlbmQgb2YgbmV4dF9xdWVzdGlvbigpLCBhZnRlciB1cGRhdGluZyBhbGwgUGFydCAxIGVsZW1lbnRzOlxyXG4kKFwiI3Rva2VuX2lucHV0X2NvbnRhaW5lclwiKS5oaWRlKCk7XHJcbiQoXCIjYnV0dG9uX25leHRfcGFydDFcIikuaGlkZSgpO1xyXG5cclxuICAgIC8vIFNldCB0aGUgcHJlY2lzZSBxdWVzdGlvbiBzdGFydCB0aW1lIChpbiBtcylcclxuICAgIHF1ZXN0aW9uU3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcclxuXHJcblxyXG4vLyBTdGFydCBhIDIwLXNlY29uZCB0aW1lciBmb3IgUGFydCAxXHJcbi8vIGNsZWFyVGltZW91dChwYXJ0MVRpbWVyKTtcclxuLy8gcGFydDFUaW1lciA9IHdpbmRvdy5zZXRUaW1lb3V0KGF1dG9TdWJtaXRQYXJ0MSwgMjAwMDApO1xyXG5cclxuLy8gUmVzZXQgYW5kIHN0YXJ0IHRoZSB0aW1lciBmb3IgUGFydCAxXHJcbnJlbWFpbmluZ1RpbWUgPSAyMDtcclxuJChcIiN0aW1lclwiKS50ZXh0KHJlbWFpbmluZ1RpbWUpO1xyXG4kKFwiI3RpbWVyXCIpLnNob3coKTtcclxuXHJcbi8vIENsZWFyIGFueSBwcmV2aW91cyBpbnRlcnZhbFxyXG5pZiAocGFydDFJbnRlcnZhbCkge1xyXG4gICAgY2xlYXJJbnRlcnZhbChwYXJ0MUludGVydmFsKTtcclxufVxyXG5cclxuLy8gU3RhcnQgYSBuZXcgaW50ZXJ2YWwgdGhhdCBjb3VudHMgZG93biBldmVyeSBzZWNvbmRcclxucGFydDFJbnRlcnZhbCA9IHdpbmRvdy5zZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICByZW1haW5pbmdUaW1lIC09IDE7XHJcbiAgICAkKFwiI3RpbWVyXCIpLnRleHQocmVtYWluaW5nVGltZSk7XHJcblxyXG4gICAgLy8gV2hlbiB0aGVyZSBhcmUgMTUgc2Vjb25kcyBvciBsZXNzIHJlbWFpbmluZywgc2hvdyB0aGUgaW5wdXQgYm94IGFuZCBOZXh0IGJ1dHRvblxyXG4gICAgaWYgKHJlbWFpbmluZ1RpbWUgPD0gMTUpIHtcclxuICAgICAgICAkKFwiI3Rva2VuX2lucHV0X2NvbnRhaW5lclwiKS5zaG93KCk7XHJcbiAgICAgICAgJChcIiNidXR0b25fbmV4dF9wYXJ0MVwiKS5zaG93KCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHJlbWFpbmluZ1RpbWUgPD0gMCkge1xyXG4gICAgICAgIGNsZWFySW50ZXJ2YWwocGFydDFJbnRlcnZhbCk7XHJcbiAgICAgICAgYXV0b1N1Ym1pdFBhcnQxKCk7XHJcbiAgICAgICAgJChcIiN0aW1lclwiKS5oaWRlKCk7XHJcbiAgICB9XHJcbn0sIDEwMDApO1xyXG5cclxuXHJcbn1cclxuXHJcbi8vIGdldCB1c2VyIGlkIGFuZCBsb2FkIHF1ZXVlXHJcbi8vIHRyeSB0byBzZWUgaWYgc3RhcnQgb3ZlcnJpZGUgd2FzIHBhc3NlZFxyXG5jb25zdCB1cmxQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpO1xyXG5jb25zdCBzdGFydE92ZXJyaWRlID0gdXJsUGFyYW1zLmdldCgnc3RhcnQnKTtcclxuY29uc3QgVUlERnJvbVVSTCA9IHVybFBhcmFtcy5nZXQoXCJ1aWRcIilcclxuZ2xvYmFsVGhpcy51cmxfZGF0YSA9IHBhcmFtc1RvT2JqZWN0KHVybFBhcmFtcy5lbnRyaWVzKCkpXHJcblxyXG5pZiAoZ2xvYmFsVGhpcy51cmxfZGF0YVsnc3R1ZHlfaWQnXSA9PSBudWxsKSB7XHJcbiAgICBnbG9iYWxUaGlzLnVybF9kYXRhWydzdHVkeV9pZCddID0gXCJkZW1vX3N0dWR5XCJcclxufVxyXG5pZiAoZ2xvYmFsVGhpcy51cmxfZGF0YVsncHJvbGlmaWNfaWQnXSA9PSBudWxsKSB7XHJcbiAgICBnbG9iYWxUaGlzLnVybF9kYXRhWydwcm9saWZpY19pZCddID0gXCJkZW1vX3VzZXJcIlxyXG59XHJcbmlmIChnbG9iYWxUaGlzLnVybF9kYXRhWydzZXNzaW9uX2lkJ10gPT0gbnVsbCkge1xyXG4gICAgZ2xvYmFsVGhpcy51cmxfZGF0YVsnc2Vzc2lvbl9pZCddID0gXCJkZW1vX3Nlc3Npb25cIlxyXG59XHJcblxyXG5pZiAoVUlERnJvbVVSTCAhPSBudWxsKSB7XHJcbiAgICBnbG9iYWxUaGlzLnVpZCA9IFVJREZyb21VUkwgYXMgc3RyaW5nXHJcbiAgICBpZiAoZ2xvYmFsVGhpcy51aWQgPT0gXCJwcm9saWZpY19yYW5kb21cIikge1xyXG4gICAgICAgIGxldCBxdWV1ZV9pZCA9IGAke01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDQpfWAucGFkU3RhcnQoMywgXCIwXCIpXHJcbiAgICAgICAgZ2xvYmFsVGhpcy51aWQgPSBgJHt1cmxQYXJhbXMuZ2V0KFwicHJvbGlmaWNfcXVldWVfbmFtZVwiKX0vJHtxdWV1ZV9pZH1gXHJcbiAgICB9XHJcbn0gZWxzZSBpZiAoREVWTU9ERSkge1xyXG4gICAgZ2xvYmFsVGhpcy51aWQgPSBcImRlbW9cIlxyXG59IGVsc2Uge1xyXG4gICAgbGV0IFVJRF9tYXliZTogYW55ID0gbnVsbFxyXG4gICAgd2hpbGUgKFVJRF9tYXliZSA9PSBudWxsKSB7XHJcbiAgICAgICAgVUlEX21heWJlID0gcHJvbXB0KFwiRW50ZXIgeW91ciB1c2VyIGlkLiBQbGVhc2UgZ2V0IGluIHRvdWNoIGlmIHlvdSB3ZXJlIG5vdCBhc3NpZ25lZCBhbiBpZCBidXQgd2lzaCB0byBwYXJ0aWNpcGF0ZSBpbiB0aGlzIGV4cGVyaW1lbnQuXCIpXHJcbiAgICB9XHJcbiAgICBnbG9iYWxUaGlzLnVpZCA9IFVJRF9tYXliZSFcclxufVxyXG5cclxuLy8gdmVyc2lvbiBmb3IgcGFwZXJcclxuaWYgKERFVk1PREUpIHtcclxuICAgIE1PQ0tNT0RFID0gdHJ1ZVxyXG59IGVsc2UgaWYgKGdsb2JhbFRoaXMudXJsX2RhdGFbJ3Nlc3Npb25faWQnXS5zdGFydHNXaXRoKFwiZGVtb1wiKSkge1xyXG4gICAgTU9DS01PREUgPSB0cnVlXHJcbn1cclxuXHJcbi8vIGNvbnNvbGUubG9nKFwiUnVubmluZyB3aXRoIFVJRFwiLCBnbG9iYWxUaGlzLnVpZClcclxubG9hZF9kYXRhKCkuY2F0Y2goKF9lcnJvcikgPT4ge1xyXG4gICAgLy9hbGVydChcIkludmFsaWQgdXNlciBpZC5cIilcclxuICAgIC8vIGNvbnNvbGUubG9nKFwiSW52YWxpZCB1c2VyIGlkLlwiKVxyXG4gICAgLy8gY29uc29sZS5sb2coZ2xvYmFsVGhpcy51aWQhKVxyXG4gICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpXHJcbn1cclxuKS50aGVuKChuZXdfZGF0YSkgPT4ge1xyXG4gICAgZGF0YSA9IG5ld19kYXRhXHJcbiAgICBpZiAoc3RhcnRPdmVycmlkZSAhPSBudWxsKSB7XHJcbiAgICAgICAgY3VycmVudFF1ZXN0aW9uSW5kZXggPSBwYXJzZUludChzdGFydE92ZXJyaWRlKSAtIDFcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIlN0YXJ0aW5nIGZyb21cIiwgY3VycmVudFF1ZXN0aW9uSW5kZXgpXHJcbiAgICB9XHJcbiAgICAvLyBuZXh0X3F1ZXN0aW9uKClcclxuICAgIG5leHRfaW5zdHJ1Y3Rpb25zKDApXHJcbiAgICAkKFwiI21haW5fYm94X2luc3RydWN0aW9uc1wiKS5zaG93KClcclxuICAgICQoXCIjaW5zdHJ1Y3Rpb25zX2FuZF9kZWNvcmF0aW9uc1wiKS5oaWRlKClcclxufSlcclxuXHJcbi8vIGNvbnNvbGUubG9nKFwiU3RhcnRpbmcgc2Vzc2lvbiB3aXRoIFVJRDpcIiwgZ2xvYmFsVGhpcy51aWQhKVxyXG5cclxubGV0IGFsZXJ0X2FjdGl2ZSA9IGZhbHNlXHJcbmRvY3VtZW50Lm9udmlzaWJpbGl0eWNoYW5nZSA9ICgpID0+IHtcclxuICAgIGlmICghYWxlcnRfYWN0aXZlKSB7XHJcbiAgICAgICAgY291bnRfZXhpdGVkX3BhZ2UgKz0gMVxyXG4gICAgICAgIGFsZXJ0X2FjdGl2ZSA9IHRydWVcclxuICAgICAgICAvL2lmICghKGdsb2JhbFRoaXMudWlkIS5zdGFydHNXaXRoKFwiZGVtb1wiKSkpIHtcclxuICAgICAgICAvLyAgICBhbGVydChcIlBsZWFzZSBkb24ndCBsZWF2ZSB0aGUgcGFnZS4gSWYgeW91IGRvIHNvIGFnYWluLCB3ZSBtYXkgcmVzdHJpY3QgcGF5aW5nIHlvdS5cIilcclxuICAgICAgICAvL31cclxuICAgICAgICBhbGVydF9hY3RpdmUgPSBmYWxzZVxyXG4gICAgfVxyXG59XHJcblxyXG4vLyBXaGVuIHRoZSBET00gaXMgcmVhZHk6XHJcbiQoZG9jdW1lbnQpLnJlYWR5KCgpID0+IHtcclxuICAgIC8vIFRyYW5zaXRpb24gZnJvbSBQYXJ0IDEgKHF1ZXN0aW9uKSB0byBQYXJ0IDIgKGNvbmZpZGVuY2UgcmF0aW5nKVxyXG4gICAgJChcIiNidXR0b25fbmV4dF9wYXJ0MVwiKS5vbihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICAvLyBDbGVhciB0aW1lciBhbmQgdHJhbnNpdGlvbiB0byBQYXJ0IDIgKGNvbmZpZGVuY2UgcmF0aW5nKVxyXG4gICAgICAgIGxvZ0lucHV0RXZlbnQoXCJuZXh0X2J1dHRvbl9zdWJtaXR0ZWRcIik7XHJcbiAgICAgICAgY2xlYXJJbnRlcnZhbChwYXJ0MUludGVydmFsKTtcclxuICAgICAgICAkKFwiI3RpbWVyXCIpLmhpZGUoKTtcclxuICAgICAgICAkKFwiI3BhcnQxXCIpLmhpZGUoKTtcclxuICAgICAgICAkKFwiI3BhcnQyXCIpLnNob3coKTtcclxuXHJcbiAgICB9KTtcclxuICBcclxuICAgIC8vIEhhbmRsZSBjb25maWRlbmNlIHJhdGluZyBzZWxlY3Rpb25zOlxyXG4gICAgJChcIi5jb25maWRlbmNlLWJ1dHRvblwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGxldCByYXRpbmcgPSBwYXJzZUludCgkKHRoaXMpLmF0dHIoXCJkYXRhLXJhdGluZ1wiKSBhcyBzdHJpbmcpO1xyXG4gICAgICAgIC8vIFJlbW92ZSAnc2VsZWN0ZWQnIGZyb20gYWxsIGJ1dHRvbnMsIHRoZW4gYWRkIGl0IHRvIHRoZSBjbGlja2VkIG9uZS5cclxuICAgICAgICAkKFwiLmNvbmZpZGVuY2UtYnV0dG9uXCIpLnJlbW92ZUNsYXNzKFwic2VsZWN0ZWRcIik7XHJcbiAgICAgICAgJCh0aGlzKS5hZGRDbGFzcyhcInNlbGVjdGVkXCIpO1xyXG4gICAgICAgIC8vIFN0b3JlIHRoZSByYXRpbmcgYW5kIGVuYWJsZSB0aGUgUGFydCAyIE5leHQgYnV0dG9uLlxyXG4gICAgICAgIGNvbmZpZGVuY2VSYXRpbmcgPSByYXRpbmc7XHJcbiAgICAgICAgJChcIiNidXR0b25fbmV4dF9wYXJ0MlwiKS5yZW1vdmVBdHRyKFwiZGlzYWJsZWRcIik7XHJcbiAgICB9KTtcclxuICBcclxuICAgIC8vIFRyYW5zaXRpb24gZnJvbSBQYXJ0IDIgKGNvbmZpZGVuY2UgcmF0aW5nKSB0byB0aGUgbmV4dCBxdWVzdGlvbi5cclxuICAgICQoXCIjYnV0dG9uX25leHRfcGFydDJcIikub24oXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIC8vIExvZyB0aGUgY29uZmlkZW5jZSByYXRpbmcgYWxvbmcgd2l0aCBvdGhlciBkYXRhIGlmIG5lZWRlZC5cclxuICAgICAgbGV0IGxvZ2dlZF9kYXRhID0ge1xyXG4gICAgICAgIFwicXVlc3Rpb25faVwiOiBjdXJyZW50UXVlc3Rpb25JbmRleCxcclxuICAgICAgICBcInFpZFwiIDogcXVlc3Rpb25bXCJxaWRcIl0sXHJcbiAgICAgICAgXCJjb25kaXRpb25cIjogZGF0YVtjdXJyZW50Q29uZGl0aW9uSW5kZXhdLmNvbmRpdGlvbixcclxuICAgICAgICBcImNvbmZpZGVuY2VfcmF0aW5nXCI6IGNvbmZpZGVuY2VSYXRpbmcsXHJcbiAgICAgICAgXCJrZXlsb2dzXCI6IGtleWxvZ3MsXHJcbiAgICAgICAgLy8gLi4uIGluY2x1ZGUgb3RoZXIgbG9nZ2luZyBmaWVsZHMgYXMgZGVzaXJlZFxyXG4gICAgICB9O1xyXG4gICAgICBsb2dfZGF0YShsb2dnZWRfZGF0YSk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBSZXNldCBQYXJ0IDIgVUkgZWxlbWVudHMgZm9yIHRoZSBuZXh0IHF1ZXN0aW9uLlxyXG4gICAgICAkKFwiI2J1dHRvbl9uZXh0X3BhcnQyXCIpLmF0dHIoXCJkaXNhYmxlZFwiLCBcInRydWVcIik7XHJcbiAgICAgICQoXCIuY29uZmlkZW5jZS1idXR0b25cIikucmVtb3ZlQ2xhc3MoXCJzZWxlY3RlZFwiKTtcclxuICAgICAgY29uZmlkZW5jZVJhdGluZyA9IC0xO1xyXG4gICAgICBcclxuICAgICAgLy8gU3dpdGNoIGJhY2sgdG8gUGFydCAxIGFuZCBsb2FkIHRoZSBuZXh0IHF1ZXN0aW9uLlxyXG4gICAgICAkKFwiI3BhcnQyXCIpLmhpZGUoKTtcclxuICAgICAgJChcIiNwYXJ0MVwiKS5zaG93KCk7XHJcbiAgICAgIGN1cnJlbnRRdWVzdGlvbkluZGV4Kys7XHJcbiAgICAgIG5leHRfcXVlc3Rpb24oKTtcclxuICAgIH0pO1xyXG4gICAgJChcImlucHV0W25hbWU9J2xhdGV4RXhwZXJpZW5jZSddLCBpbnB1dFtuYW1lPSdsYXRleEZyZXF1ZW5jeSddLCBpbnB1dFtuYW1lPSdjaGF0Ym90RnJlcXVlbmN5J11cIikub24oXCJjaGFuZ2VcIiwgKCkgPT4ge1xyXG4gICAgICAgIGlmKGNoZWNrUHJlU3VydmV5KCkpIHtcclxuICAgICAgICAgICAgJChcIiNidXR0b25faW5zdHJ1Y3Rpb25zX25leHRcIikucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpXHJcbiAgICAgICAgICAgICQoXCIjYnV0dG9uX2luc3RydWN0aW9uc19uZXh0XCIpLnNob3coKSAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9KTtcclxuICAgIC8vIGtleWxvZyB0aGUgaW5wdXRcclxuICAgICQoXCIjdG9rZW5faW5wdXRcIikub24oXCJrZXlkb3duXCIsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgbG9nSW5wdXRFdmVudChcImlucHV0X2NoYW5nZVwiLCBldmVudC5rZXkpO1xyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIFxyXG4vLyBHbG9iYWwgb2JqZWN0IHRvIHRyYWNrIHdoZXRoZXIgYSBzbGlkZXIgd2FzIGNoYW5nZWQuXHJcbmludGVyZmFjZSBTbGlkZXJTdGF0ZSB7XHJcbiAgICBtZW50YWxfZGVtYW5kOiBib29sZWFuO1xyXG4gICAgaHVycmllZF9kZW1hbmQ6IGJvb2xlYW47XHJcbiAgICBwZXJmb3JtYW5jZTogYm9vbGVhbjtcclxuICAgIGVmZm9ydDogYm9vbGVhbjtcclxuICAgIGZydXN0cmF0aW9uOiBib29sZWFuO1xyXG59XHJcblxyXG5jb25zdCBzbGlkZXJDaGFuZ2VkOiBTbGlkZXJTdGF0ZSA9IHtcclxuICAgIG1lbnRhbF9kZW1hbmQ6IGZhbHNlLFxyXG4gICAgaHVycmllZF9kZW1hbmQ6IGZhbHNlLFxyXG4gICAgcGVyZm9ybWFuY2U6IGZhbHNlLFxyXG4gICAgZWZmb3J0OiBmYWxzZSxcclxuICAgIGZydXN0cmF0aW9uOiBmYWxzZVxyXG59O1xyXG5cclxuLy8gR2xvYmFsIG9iamVjdCB0byBzdG9yZSB0aGUgc2VsZWN0ZWQgdmFsdWVzLiAobnVsbCBpbmRpY2F0ZXMgbm8gc2VsZWN0aW9uIHlldClcclxuY29uc3QgdGx4VmFsdWVzOiB7IFtrZXk6IHN0cmluZ106IG51bWJlciB8IG51bGwgfSA9IHtcclxuICAgIG1lbnRhbF9kZW1hbmQ6IG51bGwsXHJcbiAgICBodXJyaWVkX2RlbWFuZDogbnVsbCxcclxuICAgIHBlcmZvcm1hbmNlOiBudWxsLFxyXG4gICAgZWZmb3J0OiBudWxsLFxyXG4gICAgZnJ1c3RyYXRpb246IG51bGxcclxufTtcclxuXHJcbmZ1bmN0aW9uIGNoZWNrQWxsU2xpZGVyc0NoYW5nZWQoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhzbGlkZXJDaGFuZ2VkKS5ldmVyeSh2YWx1ZSA9PiB2YWx1ZSA9PT0gdHJ1ZSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlc2V0U2xpZGVycygpIHtcclxuICAgIC8vIFJlc2V0IHRyYWNraW5nIG9iamVjdCBhbmQgc2VsZWN0ZWQgdmFsdWVzXHJcbiAgICBmb3IgKGxldCBrZXkgaW4gc2xpZGVyQ2hhbmdlZCkge1xyXG4gICAgICAgIHNsaWRlckNoYW5nZWRba2V5IGFzIGtleW9mIFNsaWRlclN0YXRlXSA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgZm9yIChsZXQga2V5IGluIHRseFZhbHVlcykge1xyXG4gICAgICAgIHRseFZhbHVlc1trZXldID0gbnVsbDtcclxuICAgIH1cclxuICAgIC8vIFJlbW92ZSBzZWxlY3Rpb24gaGlnaGxpZ2h0IGZyb20gYWxsIGJveGVzXHJcbiAgICAkKFwiLnRseC1ib3hcIikucmVtb3ZlQ2xhc3MoXCJzZWxlY3RlZFwiKTtcclxuICAgIG5leHRCdXR0b24ucHJvcChcImRpc2FibGVkXCIsIHRydWUpO1xyXG59XHJcblxyXG4vLyBEaXNhYmxlIHRoZSBcIk5leHRcIiBidXR0b24gaW5pdGlhbGx5XHJcbmNvbnN0IG5leHRCdXR0b24gPSAkKFwiI25hc2FfdGx4X25leHRcIikgYXMgSlF1ZXJ5PEhUTUxJbnB1dEVsZW1lbnQ+O1xyXG5uZXh0QnV0dG9uLnByb3AoXCJkaXNhYmxlZFwiLCB0cnVlKTtcclxuXHJcbi8vIEV2ZW50IGxpc3RlbmVyIGZvciBhbGwgc2xpZGVyc1xyXG4kKFwiLnRseC1ib3hcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcclxuICAgIGNvbnN0IHNsaWRlcklkID0gJCh0aGlzKS5wYXJlbnQoKS5hdHRyKFwiaWRcIik7IC8vIGUuZy4sIFwibWVudGFsX2RlbWFuZFwiXHJcbiAgICBpZiAoIXNsaWRlcklkIHx8ICEoc2xpZGVySWQgaW4gc2xpZGVyQ2hhbmdlZCkpIHJldHVybjtcclxuICAgIGNvbnN0IHZhbHVlID0gcGFyc2VJbnQoJCh0aGlzKS5hdHRyKFwiZGF0YS12YWx1ZVwiKSBhcyBzdHJpbmcpO1xyXG4gICAgdGx4VmFsdWVzW3NsaWRlcklkXSA9IHZhbHVlO1xyXG4gICAgc2xpZGVyQ2hhbmdlZFtzbGlkZXJJZCBhcyBrZXlvZiBTbGlkZXJTdGF0ZV0gPSB0cnVlO1xyXG4gICAgXHJcbiAgICAvLyBVcGRhdGUgVUk6IG1hcmsgdGhpcyBib3ggYXMgc2VsZWN0ZWQgYW5kIHJlbW92ZSBzZWxlY3Rpb24gZnJvbSBzaWJsaW5ncy5cclxuICAgICQodGhpcykuc2libGluZ3MoKS5yZW1vdmVDbGFzcyhcInNlbGVjdGVkXCIpO1xyXG4gICAgJCh0aGlzKS5hZGRDbGFzcyhcInNlbGVjdGVkXCIpO1xyXG5cclxuICAgIC8vIEVuYWJsZSB0aGUgTmV4dCBidXR0b24gaWYgYWxsIHNsaWRlcnMgaGF2ZSBiZWVuIGNoYW5nZWQuXHJcbiAgICBpZiAoY2hlY2tBbGxTbGlkZXJzQ2hhbmdlZCgpKSB7XHJcbiAgICAgICAgbmV4dEJ1dHRvbi5wcm9wKFwiZGlzYWJsZWRcIiwgZmFsc2UpO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbi8vIEV2ZW50IGxpc3RlbmVyIGZvciBcIk5leHRcIiBidXR0b24gaW4gTkFTQSBUTFggc3VydmV5XHJcbm5leHRCdXR0b24ub24oXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBpZiAoIWNoZWNrQWxsU2xpZGVyc0NoYW5nZWQoKSkge1xyXG4gICAgICAgIGFsZXJ0KFwiUGxlYXNlIGFkanVzdCBhbGwgc2xpZGVycyBiZWZvcmUgY29udGludWluZy5cIik7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHRseERhdGEgPSB7XHJcbiAgICAgICAgbWVudGFsX2RlbWFuZDogdGx4VmFsdWVzW1wibWVudGFsX2RlbWFuZFwiXSAhPT0gbnVsbCA/IHRseFZhbHVlc1tcIm1lbnRhbF9kZW1hbmRcIl0gOiAwLFxyXG4gICAgICAgIGh1cnJpZWRfZGVtYW5kOiB0bHhWYWx1ZXNbXCJodXJyaWVkX2RlbWFuZFwiXSAhPT0gbnVsbCA/IHRseFZhbHVlc1tcImh1cnJpZWRfZGVtYW5kXCJdIDogMCxcclxuICAgICAgICBwZXJmb3JtYW5jZTogdGx4VmFsdWVzW1wicGVyZm9ybWFuY2VcIl0gIT09IG51bGwgPyB0bHhWYWx1ZXNbXCJwZXJmb3JtYW5jZVwiXSA6IDAsXHJcbiAgICAgICAgZWZmb3J0OiB0bHhWYWx1ZXNbXCJlZmZvcnRcIl0gIT09IG51bGwgPyB0bHhWYWx1ZXNbXCJlZmZvcnRcIl0gOiAwLFxyXG4gICAgICAgIGZydXN0cmF0aW9uOiB0bHhWYWx1ZXNbXCJmcnVzdHJhdGlvblwiXSAhPT0gbnVsbCA/IHRseFZhbHVlc1tcImZydXN0cmF0aW9uXCJdIDogMFxyXG4gICAgfTtcclxuICAgIFxyXG5cclxuICAgIGxvZ19kYXRhKHtcclxuICAgICAgICBjb25kaXRpb246ICQoXCIjY29uZGl0aW9uX2xhYmVsXCIpLnRleHQoKSxcclxuICAgICAgICBjb25kaXRpb25faW5kZXg6IGN1cnJlbnRDb25kaXRpb25JbmRleCxcclxuICAgICAgICB0bHg6IHRseERhdGFcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIEhpZGUgdGhlIE5BU0EgVExYIHBhZ2UgYW5kIG1vdmUgb25cclxuICAgIHJlc2V0U2xpZGVycygpO1xyXG4gICAgJChcIiNuYXNhX3RseF9zdXJ2ZXlcIikuaGlkZSgpO1xyXG4gICAgY3VycmVudENvbmRpdGlvbkluZGV4Kys7XHJcbiAgICBjdXJyZW50UXVlc3Rpb25JbmRleCA9IDA7XHJcbiAgICBuZXh0X3F1ZXN0aW9uKCk7XHJcbn0pO1xyXG5cclxuICAgIFxyXG5cclxufSk7XHJcbiAgZnVuY3Rpb24gYXV0b1N1Ym1pdFBhcnQxKCkge1xyXG4gICAgbG9nSW5wdXRFdmVudChcImF1dG9fc3VibWl0XCIpO1xyXG4gICAgLy8gU3RvcCB0aGUgdGltZXIgaWYgbm90IGFscmVhZHkgY2xlYXJlZFxyXG4gICAgY2xlYXJJbnRlcnZhbChwYXJ0MUludGVydmFsKTtcclxuICAgICQoXCIjdGltZXJcIikuaGlkZSgpO1xyXG4gICAgXHJcbiAgICAvLyBBdXRvbWF0aWNhbGx5IHRyYW5zaXRpb24gdG8gUGFydCAyXHJcbiAgICAkKFwiI3BhcnQxXCIpLmhpZGUoKTtcclxuICAgICQoXCIjcGFydDJcIikuc2hvdygpO1xyXG59XHJcbiQoXCIjcXVhbF9uZXh0XCIpLm9uKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgY29uc3QgcTEgPSAoJChcIiNxdWFsX3ExXCIpLnZhbCgpIGFzIHN0cmluZykgfHwgXCJcIjtcclxuICAgIGNvbnN0IHEyID0gKCQoXCIjcXVhbF9xMlwiKS52YWwoKSBhcyBzdHJpbmcpIHx8IFwiXCI7XHJcbiAgICBjb25zdCBxMyA9ICgkKFwiI3F1YWxfcTNcIikudmFsKCkgYXMgc3RyaW5nKSB8fCBcIlwiO1xyXG4gICAgXHJcbiAgICBsZXQgdmFsaWQgPSB0cnVlO1xyXG4gICAgXHJcbiAgICBpZiAocTEubGVuZ3RoIDwgMjUpIHtcclxuICAgICAgICAkKFwiI3dhcm5fcTFcIikuc2hvdygpO1xyXG4gICAgICAgIHZhbGlkID0gZmFsc2U7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgICQoXCIjd2Fybl9xMVwiKS5oaWRlKCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmIChxMi5sZW5ndGggPCAyNSkge1xyXG4gICAgICAgICQoXCIjd2Fybl9xMlwiKS5zaG93KCk7XHJcbiAgICAgICAgdmFsaWQgPSBmYWxzZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJChcIiN3YXJuX3EyXCIpLmhpZGUoKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYgKHEzLmxlbmd0aCA8IDApIHtcclxuICAgICAgICAkKFwiI3dhcm5fcTNcIikuc2hvdygpO1xyXG4gICAgICAgIHZhbGlkID0gZmFsc2U7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgICQoXCIjd2Fybl9xM1wiKS5oaWRlKCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIElmIHZhbGlkYXRpb24gZmFpbHMsIGRvIG5vdCBwcm9jZWVkXHJcbiAgICBpZiAoIXZhbGlkKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBJZiBhbGwgdGV4dCBib3hlcyBoYXZlIGF0IGxlYXN0IDUwIGNoYXJhY3RlcnMsIGxvZyBkYXRhIGFuZCBwcm9jZWVkXHJcbiAgICBjb25zdCBmaW5hbERhdGEgPSB7XHJcbiAgICAgICAgcXVhbGl0YXRpdmU6IHtcclxuICAgICAgICAgICAgcTE6IHExLFxyXG4gICAgICAgICAgICBxMjogcTIsXHJcbiAgICAgICAgICAgIHEzOiBxM1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLy8gLi4uIGluY2x1ZGUgYW55IGFkZGl0aW9uYWwgZGF0YSBpZiBuZWVkZWRcclxuICAgIH07XHJcbiAgICBsb2dfZGF0YShmaW5hbERhdGEpO1xyXG4gICAgXHJcbiAgICAvLyBUcmFuc2l0aW9uIHRvIGVuZC1vZi1zdXJ2ZXkg4oCcVGhhbmsgeW914oCdIHNjcmVlbiBvciBzaW1pbGFyLlxyXG4gICAgJChcIiNxdWFsaXRhdGl2ZV9zZWN0aW9uXCIpLmhpZGUoKTtcclxuICAgIGlmIChNT0NLTU9ERSkge1xyXG4gICAgICAgICQoJyNyZXdhcmRfYm94X21vY2snKS50ZXh0KGBZb3VyIHRvdGFsIHJld2FyZCBpcyAkMy4wMC5gKTtcclxuICAgICAgICAkKCcjcmV3YXJkX2JveF9tb2NrJykuc2hvdygpO1xyXG4gICAgICAgICQoXCIjbWFpbl9ib3hfZW5kX21vY2tcIikuc2hvdygpOyAgICBcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJCgnI3Jld2FyZF9ib3gnKS50ZXh0KGBZb3VyIHRvdGFsIHJld2FyZCBpcyAkMy4wMC5gKTtcclxuICAgICAgICAkKCcjcmV3YXJkX2JveCcpLnNob3coKTtcclxuICAgICAgICAkKFwiI21haW5fYm94X2VuZFwiKS5zaG93KCk7ICAgIFxyXG4gICAgfVxyXG59KTtcclxuIl0sIm5hbWVzIjpbIlNFUlZFUl9MT0dfUk9PVCIsImFzeW5jIiwibG9nX2RhdGEiLCJkYXRhIiwiZ2xvYmFsVGhpcyIsInVybF9kYXRhIiwiY29uc29sZSIsImxvZyIsInVpZCIsInJlc3VsdCIsIiQiLCJhamF4IiwiSlNPTiIsInN0cmluZ2lmeSIsInByb2plY3QiLCJyZXBsYWNlIiwicGF5bG9hZCIsInR5cGUiLCJjb250ZW50VHlwZSIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsInNsZWVwIiwiZSIsImZpeFNwYWNpbmciLCJpbnB1dCIsIm91dHB1dCIsIk1PQ0tNT0RFIiwicXVlc3Rpb24iLCJjb25maWRlbmNlUmF0aW5nIiwicGFydDFJbnRlcnZhbCIsInJlbWFpbmluZ1RpbWUiLCJjdXJyZW50Q29uZGl0aW9uSW5kZXgiLCJjdXJyZW50UXVlc3Rpb25JbmRleCIsInByZVN1cnZleUxvZ2dlZCIsInF1ZXN0aW9uU3RhcnRUaW1lIiwiRGF0ZSIsIm5vdyIsImtleWxvZ3MiLCJwcmV2aW91c0lucHV0IiwiaW5zdHJ1Y3Rpb25faSIsImNvdW50X2V4aXRlZF9wYWdlIiwiY2hlY2tQcmVTdXJ2ZXkiLCJsYXRleEV4cCIsInZhbCIsImxhdGV4RnJlcSIsImNoYXRib3RGcmVxIiwic2hvdyIsImhpZGUiLCJsb2dJbnB1dEV2ZW50IiwiZXZlbnRUeXBlIiwia2V5UHJlc3NlZCIsInByZWNpc2VUaW1lIiwidG9GaXhlZCIsInFpZCIsImNvbmRpdGlvbiIsImN1cnJlbnRUZXh0IiwibmV3X2tleWxvZyIsImV2ZW50IiwiY29uZGl0aW9uX2luZGV4IiwicHJlY2lzZV90aW1lIiwibmV3X3RleHQiLCJvbGRfdGV4dCIsImtleV9wcmVzc2VkIiwiY29uY2F0IiwibmV4dF9pbnN0cnVjdGlvbnMiLCJpbmNyZW1lbnQiLCJhdHRyIiwicmVtb3ZlQXR0ciIsInByZV9zdXJ2ZXkiLCJsYXRleEV4cGVyaWVuY2UiLCJsYXRleEZyZXF1ZW5jeSIsImNoYXRib3RGcmVxdWVuY3kiLCJuZXh0X3F1ZXN0aW9uIiwiY2hpbGRyZW4iLCJlYWNoIiwiXyIsImVsIiwib24iLCJwcmFjdGljZVF1ZXN0aW9ucyIsInByYWN0aWNlSW5kZXgiLCJzaG93UHJhY3RpY2VSb3VuZCIsIm9uQ29tcGxldGUiLCJlbXB0eSIsInByYWN0aWNlQ29udGVudCIsImFwcGVuZCIsImh0bWwiLCJsZW5ndGgiLCJidWxsZXRQb2ludHMiLCJwdXNoIiwiYnVsbGV0SHRtbCIsIm1hcCIsInBvaW50Iiwiam9pbiIsInRva2Vuc0NvbmNhdGVuYXRlZCIsIkFycmF5IiwiaXNBcnJheSIsIml0ZW0iLCJ0b2tlbiIsImZpbHRlciIsInByZWRpY3RlZEh0bWwiLCJ0b2tlblRleHQiLCJ0b3BfNV90b2tlbnMiLCJwcm9iYWJpbGl0eSIsImFkZGl0aW9uYWxUZXh0Iiwib2ZmIiwiY29uZGl0aW9uQmxvY2siLCJoZWFkZXJIdG1sIiwicmVqZWN0IiwiZ2V0SlNPTiIsImRvbmUiLCJmYWlsIiwianF4aHIiLCJ0ZXh0U3RhdHVzIiwiZXJyb3IiLCJ0aGVuIiwiY2F0Y2giLCJlcnIiLCJzaG93U3RhcnRDb25kaXRpb25QYWdlIiwicXVlc3Rpb25zIiwiY3VycmVudENvbmRpdGlvbiIsInRleHQiLCJzaG93RW5kQ29uZGl0aW9uUGFnZSIsImNsZWFySW50ZXJ2YWwiLCJ3aW5kb3ciLCJzZXRJbnRlcnZhbCIsInVybFBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsImxvY2F0aW9uIiwic2VhcmNoIiwic3RhcnRPdmVycmlkZSIsImdldCIsIlVJREZyb21VUkwiLCJlbnRyaWVzIiwia2V5IiwidmFsdWUiLCJwYXJhbXNUb09iamVjdCIsInF1ZXVlX2lkIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwicGFkU3RhcnQiLCJVSURfbWF5YmUiLCJwcm9tcHQiLCJzdGFydHNXaXRoIiwibG9hZF9kYXRhIiwiX2Vycm9yIiwicmVsb2FkIiwibmV3X2RhdGEiLCJwYXJzZUludCIsImFsZXJ0X2FjdGl2ZSIsImRvY3VtZW50Iiwib252aXNpYmlsaXR5Y2hhbmdlIiwicmVhZHkiLCJyYXRpbmciLCJ0aGlzIiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsInNsaWRlckNoYW5nZWQiLCJtZW50YWxfZGVtYW5kIiwiaHVycmllZF9kZW1hbmQiLCJwZXJmb3JtYW5jZSIsImVmZm9ydCIsImZydXN0cmF0aW9uIiwidGx4VmFsdWVzIiwiY2hlY2tBbGxTbGlkZXJzQ2hhbmdlZCIsIk9iamVjdCIsInZhbHVlcyIsImV2ZXJ5IiwibmV4dEJ1dHRvbiIsInByb3AiLCJzbGlkZXJJZCIsInBhcmVudCIsInNpYmxpbmdzIiwiYWxlcnQiLCJ0bHhEYXRhIiwidGx4IiwicmVzZXRTbGlkZXJzIiwicTEiLCJxMiIsInEzIiwidmFsaWQiLCJxdWFsaXRhdGl2ZSJdLCJzb3VyY2VSb290IjoiIn0=